define(["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/clean/ajax","modules/clean/components/modals/show_modal","modules/clean/react/css","modules/clean/static_urls","modules/clean/teams/modals/member_info_modal_header","modules/core/i18n","modules/core/notify","modules/clean/viewer","modules/clean/ux_analytics_utils","modules/clean/ux_analytics_modal_tracking"],(function(e,t,n,a,s,o,i,l,r,d,c,u,m,p,h,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a=n.__importDefault(a),i=n.__importStar(i);var f=(function(e){function t(t){var n=e.call(this,t)||this;return n.onSubmit=function(){n.setState({submitting:!0}),i.WebRequest({url:"/account/team/suspend_user",data:{user_id:n.props.userId,account_id:n.props.accountId,delete_on_unlink:n.state.deleteOnUnlink},teamAuthParams:n.props.teamAuthParams,subject_user:p.Viewer.get_viewer().work_user,complete:function(){return n.setState({submitting:!1})},success:function(e){n.close();var t=u._("Suspended %(name)s").format({name:n.displayName});n.props.successCallback("suspended",t,null,null,null)},error:function(e,t,n){m.Notify.error(u._("There was a problem completing this request"))}})},n.close=function(e){void 0===e&&(e=!1),n.props.onClose&&n.props.onClose(e),n.setState({open:!1}),h.dispatchModalClosed()},n.onReady=function(){h.dispatchModalOpened()},n.onDeleteOnUnlinkChange=function(e){n.setState({deleteOnUnlink:e.currentTarget.value})},n.primaryAction=function(e){return a.default.createElement("span",null,n.state.submitting&&a.default.createElement("span",{className:"dbmodal-loading",key:"loading"},a.default.createElement("img",{src:d.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:u._("Loading")})),a.default.createElement(s.Button,{disabled:n.state.submitting,variant:"primary",onClick:e},u._("Suspend")))},n.secondaryAction=function(e){return a.default.createElement(s.Button,{disabled:n.state.submitting,variant:"secondary",onClick:e},u._("Cancel"))},n.state={deleteOnUnlink:t.hideRemoteWipe?void 0:"on",submitting:!1,open:!0},n}return n.__extends(t,e),t.prototype.render=function(){var e=this,t=u._("Suspend %(display_name)s").format({display_name:this.displayName}),n=u._("This member will be notified that their account has been suspended and their devices       will stop syncing. The account will continue to use a license and you can remove the       suspension or delete the account at any time.");return a.default.createElement(o.UtilityModal,{className:"suspend-user-modal",overlayClassName:"delete-user-modal-overlay",title:t,width:"698px",primaryAction:this.primaryAction,secondaryAction:this.secondaryAction,onPrimaryAction:this.onSubmit,onSecondaryAction:function(){return e.close(!0)},onReady:this.onReady,onRequestClose:this.close,overlayClickClose:!1,ariaLabel:u._("Suspend Member"),open:this.state.open,shouldRequestCloseOnActions:!1},a.default.createElement(_.UXAnalyticsModalTracking,{id:"suspend-user-modal"}),this.renderMemberInfoHeader(),this.renderRemoteWipeSetting(),a.default.createElement("div",{className:"suspend_user_content"},n))},t.prototype.renderMemberInfoHeader=function(){return a.default.createElement(c.MemberInfoModalHeader,{displayName:this.props.displayName,email:this.props.email,storageUsed:this.props.storageUsed,accountPhotoUrl:this.props.accountPhotoUrl,teamJoinDate:this.props.teamJoinDate})},t.prototype.renderRemoteWipeSetting=function(){if(this.props.hideRemoteWipe)return null;var e=u._("Do you want to delete content from this memberâ€™s devices the       next time they come online?");return a.default.createElement("div",{className:"remote_wipe_setting"},a.default.createElement("div",{className:"verbal_setting_explanation"},e),a.default.createElement("div",{className:"deactivate_or_remove_setting_option"},a.default.createElement("label",null,a.default.createElement("input",{name:"delete_on_unlink",type:"radio",value:"on",checked:"on"===this.state.deleteOnUnlink,"aria-checked":"on"===this.state.deleteOnUnlink,"aria-label":"Yes",onChange:this.onDeleteOnUnlinkChange}),u._("Yes"))),a.default.createElement("div",{className:"deactivate_or_remove_setting_option"},a.default.createElement("label",null,a.default.createElement("input",{name:"delete_on_unlink",type:"radio",value:"off",checked:"off"===this.state.deleteOnUnlink,"aria-checked":"off"===this.state.deleteOnUnlink,"aria-label":"No",onChange:this.onDeleteOnUnlinkChange}),u._("No"))))},Object.defineProperty(t.prototype,"displayName",{get:function(){return this.props.displayName||this.props.email},enumerable:!0,configurable:!0}),t})(a.default.Component);t.SuspendUserModal=r.requireCssWithComponent(f,["/static/css/spectrum/index.web-vfl_-DzRS.css","/static/css/teams/admin_team_modals-vfl1__Dze.css"]),t.showSuspendUserModal=function(e){return l.showModal(a.default.createElement(t.SuspendUserModal,n.__assign({},e)))}}));
//# sourceMappingURL=suspend_user_modal.min.js-vflBLwccF.map