define(["require","exports","tslib","react","classnames","modules/core/i18n","modules/clean/rondo/forms/index","spectrum/icon_inline","modules/clean/rondo/components/members_picker/index","spectrum/tertiary_link","spectrum/tooltip","modules/clean/teams/admin/pages/activity/filters/types","modules/clean/teams/admin/pages/activity/components/activities_picker","rondo-react/v1/index","modules/clean/teams/admin/pages/activity/filters/filters_behavior","rondo/v1/index","spectrum/icon_form","modules/clean/rondo/components/tooltip/text_tooltip","modules/clean/rondo/components/members_picker/contacts_picker_behavior"],(function(e,t,a,l,i,r,n,s,o,c,m,d,p,u,f,v,_,h,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l=a.__importDefault(l),i=a.__importDefault(i),t.Participants={0:r._("Any"),1:r._("All on team"),2:r._("External participants")};var E=(function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.reset=function(){t.props.actionClearFilters()},t}return a.__extends(i,e),i.prototype.createButtonItem=function(e){return l.default.createElement(h.TextTooltip,{className:"participants-button",text:e})},i.prototype.createParticipantsItems=function(){var e=this;return[d.InvolveNoneTeamMembers.DEFAULT,d.InvolveNoneTeamMembers.NO,d.InvolveNoneTeamMembers.YES].map((function(a){return{value:a,item:t.Participants[a],selected:e.props.participants.fieldValue===a,buttonItem:e.createButtonItem(t.Participants[a])}}))},i.prototype.createPart=function(){return l.default.createElement(l.default.Fragment,null,l.default.createElement("label",{htmlFor:"participants_input",className:"participants-lable"},r._("Participants")),l.default.createElement(m.Tooltip,{tooltipContent:r._("Participants are any of the people involved in the activity"),forceSingleLine:!1},l.default.createElement(s.IconInline,{name:"info",className:"participants-tooltip"})),l.default.createElement(n.DropdownMenu,a.__assign({id:"participants_input",className:"participants-dropdown",dropDownItems:this.createParticipantsItems()},this.props.participants)))},i.prototype.getFilterRows=function(e){void 0===e&&(e=!0);var t=[];return t.push(l.default.createElement("div",{className:"filters-row"},l.default.createElement("label",{htmlFor:"date_from_input"},r._("Date range")),l.default.createElement(n.LocalizedDatePickerRondoRange,{className:"filter date",middleContent:l.default.createElement("div",{className:"date-to-separator"},r._("to")),actionFieldChange:this.props.date.actionFieldChange,fieldValue:this.props.date.fieldValue}))),t.push(l.default.createElement("div",{className:"filters-row"},l.default.createElement("label",{htmlFor:"member_input"},r._("People")),l.default.createElement(o.MembersPickerComponent,a.__assign({},this.props.members,{className:"filter",parseTokenObject:y.parseTokenObject})),e&&this.createPart())),t.push(l.default.createElement("div",{className:"filters-row"},l.default.createElement("label",{htmlFor:"file_folder_input"},r._("Content")),l.default.createElement(n.Input,{id:"file_folder_input",className:"filter file",placeholder:r._("Name of file, folder, Paper doc, or showcase"),debounceSec:300,actionFieldChange:this.props.file.actionFieldChange,fieldValue:this.props.file.fieldValue,valid:this.props.file.valid,dirty:this.props.file.dirty,actionFieldSet:this.props.file.actionFieldSet}))),t.push(l.default.createElement("div",{className:"filters-row"},l.default.createElement("label",{htmlFor:"activity_input"},r._("Activities")),l.default.createElement(p.ActivityPickerWidget,a.__assign({className:"filter activity mc-input"},this.props.activity)))),t},i.prototype.render=function(){return l.default.createElement("div",{className:"filters-header"},l.default.createElement("div",{className:"filters"},this.getFilterRows()),l.default.createElement("div",{className:"filters-control"},l.default.createElement(c.TertiaryLink,{className:"clear-filters",onClick:this.reset},r._("Clear filters"))))},i})(l.default.Component);t.Filters=E;var N=function(){window.scrollTo(0,0)},b=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reset=function(){N(),t.props.onReset()},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.name,a=e.count,r=e.className,n=void 0===r?"filter-count":r;return l.default.createElement("div",{className:i.default("filter-count",n)},l.default.createElement("div",{className:"filter-name"},t),a&&l.default.createElement("div",{className:"count"},a),l.default.createElement(_.IconForm,{onClick:this.reset,name:"cancel",className:"filter-cancel"}))},t})(l.default.Component);t.FilterSummary=b;var C=(function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.reset=function(){t.props.actionClearFilters(),N()},t}return a.__extends(i,e),i.prototype.render=function(){var e=this.props,a=e.date,i=e.members,n=e.file,s=e.activity,o=e.teams,m=e.participants,d=a.dirty||i.dirty||n.dirty||s.dirty||m&&m.dirty||o&&o.fieldValue.length>0;return l.default.createElement("div",{className:"filters-header"},l.default.createElement("div",{className:"filters-control summary"},l.default.createElement("div",{className:"filters-summary"},l.default.createElement("div",{className:"filters-summary-label"},r._("Filters"),": (",l.default.createElement(c.TertiaryLink,{onClick:N},r._("Back to top")),")"),!d&&l.default.createElement("div",{className:"no-filters"},r._("No filters added")),a.dirty&&l.default.createElement(b,{className:"date",name:r._("Date"),onReset:a.actionClear}),i.dirty&&l.default.createElement(b,{className:"member",name:r._("People"),count:i.fieldValue.length,onReset:i.actionClear}),o.fieldValue.length>0&&l.default.createElement(b,{className:"member",name:r._("Team"),count:o.fieldValue.length,onReset:o.actionClear}),n.dirty&&l.default.createElement(b,{className:"file",name:r._("File or folder"),onReset:n.actionClear}),s.dirty&&l.default.createElement(b,{className:"activity",name:r._("Activity"),count:s.fieldValue.length,onReset:s.actionClear}),m&&m.dirty&&l.default.createElement(b,{className:"participants",name:t.Participants[m.fieldValue],onReset:m.actionClear})),l.default.createElement(c.TertiaryLink,{onClick:this.reset},r._("Clear filters"))))},i})(l.default.Component);t.FiltersCollapsed=C,t.filterBehavior=v.createBehavior(f.FiltersBehavior,"filters"),t.FiltersWidget=u.widget(t.filterBehavior,E),t.FiltersCollapsedWidget=u.widget(t.filterBehavior,C)}));
//# sourceMappingURL=filters.min.js-vflTQ2X6c.map