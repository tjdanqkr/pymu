define(["require","exports","tslib","modules/clean/teams/admin/pages/activity/activity_modal/util","modules/clean/teams/admin/pages/activity/behaviors/activity_logger","rondo/v1/index"],(function(e,t,i,c,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){return e[t].map((function(t){return i.__assign(i.__assign({},t),{checked:e.checkedCategories.includes(t.id),highlighted:e.highlightedCategory===t.id,activities:t.activities.map((function(t){return i.__assign(i.__assign({},t),{checked:e.checkedActivities.includes(t.id)})}))})}))},o=(function(){function e(){this.actionSearch=r.createAction().handle((function(e,t){var r=t||"",a=new RegExp(c.escapeRegExp(r),"i"),o=e.allCategories.map((function(e){return i.__assign(i.__assign({},e),{activities:a.test(e.label)&&e.activities||e.activities.filter((function(e){return a.test(e.label)}))})})).filter((function(e){return e.activities.length>0}));return n.logActivityPageEventToHive({eventName:"activity_search",extra:{activity_search:o.length>0?r:""}}),{search:r,filteredCategories:o}})),this.actionHighlight=r.createAction().handle((function(e,t){return{highlightedCategory:t}})),this.actionCheckCategory=r.createAction().handle((function(e,t){var i=Array.from(e.checkedCategories),c=t,n=c.id;return c.checked?i.push(n):i.includes(n)&&i.splice(i.indexOf(n),1),{checkedCategories:i}})),this.actionClear=r.createAction().handle((function(){return{checkedActivities:[],checkedCategories:[]}})),this.actionCheckActivity=r.createAction().handle((function(e,t){var i=Array.from(e.checkedActivities),c=t,n=c.id;return c.checked?i.push(n):i.includes(n)&&i.splice(i.indexOf(n),1),{checkedActivities:i}})),this.actionClose=r.createAction().handle((function(e){return e.onClose(),{}})),this.actionOnSubmit=r.createAction().handle((function(e){return e.onSubmit(e.checkedCategories,e.checkedActivities),{}})),this.search=r.createSelector((function(e){return e.search})),this.filteredCategories=r.createSelector((function(e){return a(e,"filteredCategories")})),this.allCategories=r.createSelector((function(e){return a(e,"allCategories")})),this.countChecked=r.createSelector(this.allCategories,(function(e){return e.reduce((function(e,t){return e+c.numCheckedActivities(t)}),0)})),r.extendBehavior(this,n.ActivityModalLogger)}return e.displayName="ActivityModalBehavior",e})();t.ActivityModalBehavior=o}));
//# sourceMappingURL=activity_modal_behavior.min.js-vflyigOYn.map