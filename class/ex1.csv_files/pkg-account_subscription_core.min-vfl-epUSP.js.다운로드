(function(e){function t(e,t,a){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:a;default:throw new Error("Implement me")}}function a(e,t){function a(){!1===Q.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}var n=!0;return l((function(){return n&&(a(),n=!1),t.apply(this,arguments)}),t)}function n(e,t){return function(a){return u(e.call(this,a),t)}}function r(e,t){return function(a){return this.lang().ordinal(e.call(this,a),t)}}function i(){}function s(e){M(e),l(this,e)}function o(e){var t=h(e),a=t.year||0,n=t.quarter||0,r=t.month||0,i=t.week||0,s=t.day||0,o=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*d+6e4*l+36e5*o,this._days=+s+7*i,this._months=+r+3*n+12*a,this._data={},this._bubble()}function l(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function d(e){return 0>e?Math.ceil(e):Math.floor(e)}function u(e,t,a){for(var n=""+Math.abs(e),r=e>=0;n.length<t;)n="0"+n;return(r?a?"+":"":"-")+n}function c(e,t,a,n){var r=t._milliseconds,i=t._days,s=t._months;n=null==n||n,r&&e._d.setTime(+e._d+r*a),i&&G(e,"Date",z(e,"Date")+i*a),s&&q(e,z(e,"Month")+s*a),n&&Q.updateOffset(e,i||s)}function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function _(e,t,a){var n,r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0;for(n=0;r>n;n++)(a&&e[n]!==t[n]||!a&&g(e[n])!==g(t[n]))&&s++;return s+i}function m(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Fe[e]||Ue[t]||t}return e}function h(e){var t,a,n={};for(a in e)e.hasOwnProperty(a)&&((t=m(a))&&(n[t]=e[a]));return n}function f(t){var a,n;if(0===t.indexOf("week"))a=7,n="day";else{if(0!==t.indexOf("month"))return;a=12,n="month"}Q[t]=function(r,i){var s,o,l=Q.fn._lang[t],d=[];if("number"==typeof r&&(i=r,r=e),o=function(e){var t=Q().utc().set(n,e);return l.call(Q.fn._lang,t,r||"")},null!=i)return o(i);for(s=0;a>s;s++)d.push(o(s));return d}}function g(e){var t=+e,a=0;return 0!==t&&isFinite(t)&&(a=t>=0?Math.floor(t):Math.ceil(t)),a}function y(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function b(e,t,a){return V(Q([e,11,31+t-a]),t,a).week}function S(e){return v(e)?366:365}function v(e){return e%4==0&&e%100!=0||e%400==0}function M(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[re]<0||e._a[re]>11?re:e._a[ie]<1||e._a[ie]>y(e._a[ne],e._a[re])?ie:e._a[se]<0||e._a[se]>23?se:e._a[oe]<0||e._a[oe]>59?oe:e._a[le]<0||e._a[le]>59?le:e._a[de]<0||e._a[de]>999?de:-1,e._pf._overflowDayOfYear&&(ne>t||t>ie)&&(t=ie),e._pf.overflow=t)}function L(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function T(e){return e?e.toLowerCase().replace("_","-"):e}function w(e,t){return t._isUTC?Q(e).zone(t._offset||0):Q(e).local()}function C(e){var t,a,n,r,i=0,s=function(e){if(!ue[e]&&pe)try{require("./lang/"+e)}catch(e){}return ue[e]};if(!e)return Q.fn._lang;if(!p(e)){if(a=s(e))return a;e=[e]}for(;i<e.length;){for(t=(r=T(e[i]).split("-")).length,n=(n=T(e[i+1]))?n.split("-"):null;t>0;){if(a=s(r.slice(0,t).join("-")))return a;if(n&&n.length>=t&&_(r,n,!0)>=t-1)break;t--}i++}return Q.fn._lang}function D(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function E(e,t){return e.isValid()?(t=P(t,e.lang()),je[t]||(je[t]=(function(e){var t,a,n=e.match(fe);for(t=0,a=n.length;a>t;t++)n[t]=qe[n[t]]?qe[n[t]]:D(n[t]);return function(r){var i="";for(t=0;a>t;t++)i+=n[t]instanceof Function?n[t].call(r,e):n[t];return i}})(t)),je[t](e)):e.lang().invalidDate()}function P(e,t){function a(e){return t.longDateFormat(e)||e}var n=5;for(ge.lastIndex=0;n>=0&&ge.test(e);)e=e.replace(ge,a),ge.lastIndex=0,n-=1;return e}function k(e,t){var a=t._strict;switch(e){case"Q":return Ee;case"DDDD":return ke;case"YYYY":case"GGGG":case"gggg":return a?Ye:Se;case"Y":case"G":case"g":return xe;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return a?Ne:ve;case"S":if(a)return Ee;case"SS":if(a)return Pe;case"SSS":if(a)return ke;case"DDD":return be;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Le;case"a":case"A":return C(t._l)._meridiemParse;case"X":return Ce;case"Z":case"ZZ":return Te;case"T":return we;case"SSSS":return Me;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return a?Pe:ye;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ye;case"Do":return De;default:return new RegExp((function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})((function(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,a,n,r){return t||a||n||r}))})(e.replace("\\",""))))}}function Y(e){var t=(e=e||"").match(Te)||[],a=((t[t.length-1]||[])+"").match(Be)||["-",0,0],n=60*a[1]+g(a[2]);return"+"===a[0]?-n:n}function N(e,t,a){var n,r=a._a;switch(e){case"Q":null!=t&&(r[re]=3*(g(t)-1));break;case"M":case"MM":null!=t&&(r[re]=g(t)-1);break;case"MMM":case"MMMM":null!=(n=C(a._l).monthsParse(t))?r[re]=n:a._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[ie]=g(t));break;case"Do":null!=t&&(r[ie]=g(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(a._dayOfYear=g(t));break;case"YY":r[ne]=Q.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[ne]=g(t);break;case"a":case"A":a._isPm=C(a._l).isPM(t);break;case"H":case"HH":case"h":case"hh":r[se]=g(t);break;case"m":case"mm":r[oe]=g(t);break;case"s":case"ss":r[le]=g(t);break;case"S":case"SS":case"SSS":case"SSSS":r[de]=g(1e3*("0."+t));break;case"X":a._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":a._useUTC=!0,a._tzm=Y(t);break;case"dd":case"ddd":case"dddd":null!=(n=C(a._l).weekdaysParse(t))?(a._w=a._w||{},a._w.d=n):a._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(a._w=a._w||{},a._w[e]=g(t));break;case"gg":case"GG":a._w=a._w||{},a._w[e]=Q.parseTwoDigitYear(t)}}function x(e){var a,n,r,i,s,o,l,d;null!=(a=e._w).GG||null!=a.W||null!=a.E?(s=1,o=4,n=t(a.GG,e._a[ne],V(Q(),1,4).year),r=t(a.W,1),i=t(a.E,1)):(s=(d=C(e._l))._week.dow,o=d._week.doy,n=t(a.gg,e._a[ne],V(Q(),s,o).year),r=t(a.w,1),null!=a.d?s>(i=a.d)&&++r:i=null!=a.e?a.e+s:s),l=(function(e,t,a,n,r){var i,s=U(e,0,1).getUTCDay();return{year:(i=7*(t-1)+((a=null!=a?a:r)-r)+(r-(s=0===s?7:s)+(s>n?7:0)-(r>s?7:0))+1)>0?e:e-1,dayOfYear:i>0?i:S(e-1)+i}})(n,r,i,o,s),e._a[ne]=l.year,e._dayOfYear=l.dayOfYear}function A(e){var a,n,r,i,s=[];if(!e._d){for(r=(function(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]})(e),e._w&&null==e._a[ie]&&null==e._a[re]&&x(e),e._dayOfYear&&(i=t(e._a[ne],r[ne]),e._dayOfYear>S(i)&&(e._pf._overflowDayOfYear=!0),n=U(i,0,e._dayOfYear),e._a[re]=n.getUTCMonth(),e._a[ie]=n.getUTCDate()),a=0;3>a&&null==e._a[a];++a)e._a[a]=s[a]=r[a];for(;7>a;a++)e._a[a]=s[a]=null==e._a[a]?2===a?1:0:e._a[a];e._d=(e._useUTC?U:F).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function I(e){if(e._f!==Q.ISO_8601){e._a=[],e._pf.empty=!0;var t,a,n,r,i,s=C(e._l),o=""+e._i,l=o.length,d=0;for(n=P(e._f,s).match(fe)||[],t=0;t<n.length;t++)r=n[t],(a=(o.match(k(r,e))||[])[0])&&((i=o.substr(0,o.indexOf(a))).length>0&&e._pf.unusedInput.push(i),o=o.slice(o.indexOf(a)+a.length),d+=a.length),qe[r]?(a?e._pf.empty=!1:e._pf.unusedTokens.push(r),N(r,a,e)):e._strict&&!a&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=l-d,o.length>0&&e._pf.unusedInput.push(o),e._isPm&&e._a[se]<12&&(e._a[se]+=12),!1===e._isPm&&12===e._a[se]&&(e._a[se]=0),A(e),M(e)}else B(e)}function R(e){var t,a,n,r,i;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)i=0,(t=l({},e))._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},t._f=e._f[r],I(t),L(t)&&(i+=t._pf.charsLeftOver,i+=10*t._pf.unusedTokens.length,t._pf.score=i,(null==n||n>i)&&(n=i,a=t));l(e,a||t)}function B(e){var t,a,n=e._i,r=Ae.exec(n);if(r){for(e._pf.iso=!0,t=0,a=Ie.length;a>t;t++)if(Ie[t][1].exec(n)){e._f=Ie[t][0]+(r[6]||" ");break}for(t=0,a=Re.length;a>t;t++)if(Re[t][1].exec(n)){e._f+=Re[t][0];break}n.match(Te)&&(e._f+="Z"),I(e)}else e._isValid=!1}function O(t){var a=t._i,n=_e.exec(a);a===e?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof a?(function(e){B(e),!1===e._isValid&&(delete e._isValid,Q.createFromInputFallback(e))})(t):p(a)?(t._a=a.slice(0),A(t)):(function(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date})(a)?t._d=new Date(+a):"object"==typeof a?(function(e){var t;e._d||(t=h(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],A(e))})(t):"number"==typeof a?t._d=new Date(a):Q.createFromInputFallback(t)}function F(e,t,a,n,r,i,s){var o=new Date(e,t,a,n,r,i,s);return 1970>e&&o.setFullYear(e),o}function U(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function j(e,t,a,n,r){return r.relativeTime(t||1,!!a,e,n)}function V(e,t,a){var n,r=a-t,i=a-e.day();return i>r&&(i-=7),r-7>i&&(i+=7),n=Q(e).add("d",i),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function H(t){var a=t._i,n=t._f;return null===a||n===e&&""===a?Q.invalid({nullInput:!0}):("string"==typeof a&&(t._i=a=C().preparse(a)),Q.isMoment(a)?(t=(function(e){var t,a={};for(t in e)e.hasOwnProperty(t)&&ce.hasOwnProperty(t)&&(a[t]=e[t]);return a})(a))._d=new Date(+a._d):n?p(n)?R(t):I(t):O(t),new s(t))}function W(e,t){var a,n;if(1===t.length&&p(t[0])&&(t=t[0]),!t.length)return Q();for(a=t[0],n=1;n<t.length;++n)t[n][e](a)&&(a=t[n]);return a}function q(e,t){var a;return"string"==typeof t&&"number"!=typeof(t=e.lang().monthsParse(t))?e:(a=Math.min(e.date(),y(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,a),e)}function z(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function G(e,t,a){return"Month"===t?q(e,a):e._d["set"+(e._isUTC?"UTC":"")+t](a)}function K(e,t){return function(a){return null!=a?(G(this,e,a),Q.updateOffset(this,t),this):z(this,e)}}function J(e){Q.duration.fn[e]=function(){return this._data[e]}}function Z(e,t){Q.duration.fn["as"+e]=function(){return+this/t}}function X(e){"undefined"==typeof ender&&($=te.moment,te.moment=e?a("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",Q):Q)}for(var Q,$,ee,te="undefined"!=typeof global?global:this,ae=Math.round,ne=0,re=1,ie=2,se=3,oe=4,le=5,de=6,ue={},ce={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},pe="undefined"!=typeof module&&module.exports,_e=/^\/?Date\((\-?\d+)/i,me=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,he=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,fe=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,ge=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ye=/\d\d?/,be=/\d{1,3}/,Se=/\d{1,4}/,ve=/[+\-]?\d{1,6}/,Me=/\d+/,Le=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Te=/Z|[\+\-]\d\d:?\d\d/gi,we=/T/i,Ce=/[\+\-]?\d+(\.\d{1,3})?/,De=/\d{1,2}/,Ee=/\d/,Pe=/\d\d/,ke=/\d{3}/,Ye=/\d{4}/,Ne=/[+-]?\d{6}/,xe=/[+-]?\d+/,Ae=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ie=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Re=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Be=/([\+\-]|\d\d)/gi,Oe=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Fe={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ue={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},je={},Ve={s:45,m:45,h:22,dd:25,dm:45,dy:345},He="DDD w W M D d".split(" "),We="M D H h m s w W".split(" "),qe={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},YYYYYY:function(){var e=this.year();return(e>=0?"+":"-")+u(Math.abs(e),6)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return u(this.weekYear(),4)},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return u(this.isoWeekYear(),4)},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return g(this.milliseconds()/100)},SS:function(){return u(g(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},SSSS:function(){return u(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(g(e/60),2)+":"+u(g(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(g(e/60),2)+u(g(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ze=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];He.length;)ee=He.pop(),qe[ee+"o"]=r(qe[ee],ee);for(;We.length;)ee=We.pop(),qe[ee+ee]=n(qe[ee],2);for(qe.DDDD=n(qe.DDD,3),l(i.prototype,{set:function(e){var t,a;for(a in e)"function"==typeof(t=e[a])?this[a]=t:this["_"+a]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,a,n;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(a=Q.utc([2e3,t]),n="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[t]=new RegExp(n.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,a,n;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(a=Q([2e3,1]).day(t),n="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,a){return e>11?a?"pm":"PM":a?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var a=this._calendar[e];return"function"==typeof a?a.apply(t):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,a,n){var r=this._relativeTime[a];return"function"==typeof r?r(e,t,a,n):r.replace(/%d/i,e)},pastFuture:function(e,t){var a=this._relativeTime[e>0?"future":"past"];return"function"==typeof a?a(t):a.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return V(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(Q=function(t,a,n,r){var i;return"boolean"==typeof n&&(r=n,n=e),(i={})._isAMomentObject=!0,i._i=t,i._f=a,i._l=n,i._strict=r,i._isUTC=!1,i._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},H(i)}).suppressDeprecationWarnings=!1,Q.createFromInputFallback=a("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",(function(e){e._d=new Date(e._i)})),Q.min=function(){var e=[].slice.call(arguments,0);return W("isBefore",e)},Q.max=function(){var e=[].slice.call(arguments,0);return W("isAfter",e)},Q.utc=function(t,a,n,r){var i;return"boolean"==typeof n&&(r=n,n=e),(i={})._isAMomentObject=!0,i._useUTC=!0,i._isUTC=!0,i._l=n,i._i=t,i._f=a,i._strict=r,i._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},H(i).utc()},Q.unix=function(e){return Q(1e3*e)},Q.duration=function(e,t){var a,n,r,i=e,s=null;return Q.isDuration(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(i={},t?i[t]=e:i.milliseconds=e):(s=me.exec(e))?(a="-"===s[1]?-1:1,i={y:0,d:g(s[ie])*a,h:g(s[se])*a,m:g(s[oe])*a,s:g(s[le])*a,ms:g(s[de])*a}):(s=he.exec(e))&&(a="-"===s[1]?-1:1,i={y:(r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*a})(s[2]),M:r(s[3]),d:r(s[4]),h:r(s[5]),m:r(s[6]),s:r(s[7]),w:r(s[8])}),n=new o(i),Q.isDuration(e)&&e.hasOwnProperty("_lang")&&(n._lang=e._lang),n},Q.version="2.7.0",Q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Q.ISO_8601=function(){},Q.momentProperties=ce,Q.updateOffset=function(){},Q.relativeTimeThreshold=function(t,a){return Ve[t]!==e&&(Ve[t]=a,!0)},Q.lang=function(e,t){return e?(t?(function(e,t){t.abbr=e,ue[e]||(ue[e]=new i),ue[e].set(t),ue[e]})(T(e),t):null===t?((function(e){delete ue[e]})(e),e="en"):ue[e]||C(e),(Q.duration.fn._lang=Q.fn._lang=C(e))._abbr):Q.fn._lang._abbr},Q.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),C(e)},Q.isMoment=function(e){return e instanceof s||null!=e&&e.hasOwnProperty("_isAMomentObject")},Q.isDuration=function(e){return e instanceof o},ee=ze.length-1;ee>=0;--ee)f(ze[ee]);for(ee in Q.normalizeUnits=function(e){return m(e)},Q.invalid=function(e){var t=Q.utc(NaN);return null!=e?l(t._pf,e):t._pf.userInvalidated=!0,t},Q.parseZone=function(){return Q.apply(null,arguments).parseZone()},Q.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)},l(Q.fn=s.prototype,{clone:function(){return Q(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=Q(this).utc();return 0<e.year()&&e.year()<=9999?E(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):E(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return L(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&_(this._a,(this._isUTC?Q.utc(this._a):Q(this._a)).toArray())>0)},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=E(this,e||Q.defaultFormat);return this.lang().postformat(t)},add:function(e,t){return c(this,"string"==typeof e&&"string"==typeof t?Q.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?Q.duration(+t,e):Q.duration(e,t),1),this},subtract:function(e,t){return c(this,"string"==typeof e&&"string"==typeof t?Q.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?Q.duration(+t,e):Q.duration(e,t),-1),this},diff:function(e,t,a){var n,r,i=w(e,this),s=6e4*(this.zone()-i.zone());return"year"===(t=m(t))||"month"===t?(n=432e5*(this.daysInMonth()+i.daysInMonth()),r=12*(this.year()-i.year())+(this.month()-i.month()),r+=(this-Q(this).startOf("month")-(i-Q(i).startOf("month")))/n,r-=6e4*(this.zone()-Q(this).startOf("month").zone()-(i.zone()-Q(i).startOf("month").zone()))/n,"year"===t&&(r/=12)):(n=this-i,r="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-s)/864e5:"week"===t?(n-s)/6048e5:n),a?r:d(r)},from:function(e,t){return Q.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(Q(),e)},calendar:function(e){var t=w(e||Q(),this).startOf("day"),a=this.diff(t,"days",!0),n=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return v(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=(function(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e})(e,this.lang()),this.add({d:e-t})):t},month:K("Month",!0),startOf:function(e){switch(e=m(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=m(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)>+Q(e).startOf(t)},isBefore:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)<+Q(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)==+w(e,this).startOf(t)},min:a("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",(function(e){return this>(e=Q.apply(null,arguments))?this:e})),max:a("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",(function(e){return(e=Q.apply(null,arguments))>this?this:e})),zone:function(e,t){var a=this._offset||0;return null==e?this._isUTC?a:this._d.getTimezoneOffset():("string"==typeof e&&(e=Y(e)),Math.abs(e)<16&&(e*=60),this._offset=e,this._isUTC=!0,a!==e&&(!t||this._changeInProgress?c(this,Q.duration(a-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Q.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?Q(e).zone():0,(this.zone()-e)%60==0},daysInMonth:function(){return y(this.year(),this.month())},dayOfYear:function(e){var t=ae((Q(this).startOf("day")-Q(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=V(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=V(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=V(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return b(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return b(this.year(),e.dow,e.doy)},get:function(e){return this[e=m(e)]()},set:function(e,t){return"function"==typeof this[e=m(e)]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=C(t),this)}}),Q.fn.millisecond=Q.fn.milliseconds=K("Milliseconds",!1),Q.fn.second=Q.fn.seconds=K("Seconds",!1),Q.fn.minute=Q.fn.minutes=K("Minutes",!1),Q.fn.hour=Q.fn.hours=K("Hours",!0),Q.fn.date=K("Date",!0),Q.fn.dates=a("dates accessor is deprecated. Use date instead.",K("Date",!0)),Q.fn.year=K("FullYear",!0),Q.fn.years=a("years accessor is deprecated. Use year instead.",K("FullYear",!0)),Q.fn.days=Q.fn.day,Q.fn.months=Q.fn.month,Q.fn.weeks=Q.fn.week,Q.fn.isoWeeks=Q.fn.isoWeek,Q.fn.quarters=Q.fn.quarter,Q.fn.toJSON=Q.fn.toISOString,l(Q.duration.fn=o.prototype,{_bubble:function(){var e,t,a,n,r=this._milliseconds,i=this._days,s=this._months,o=this._data;o.milliseconds=r%1e3,e=d(r/1e3),o.seconds=e%60,t=d(e/60),o.minutes=t%60,a=d(t/60),o.hours=a%24,i+=d(a/24),o.days=i%30,s+=d(i/30),o.months=s%12,n=d(s/12),o.years=n},weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)},humanize:function(e){var t=+this,a=(function(e,t,a){var n=ae(Math.abs(e)/1e3),r=ae(n/60),i=ae(r/60),s=ae(i/24),o=ae(s/365),l=n<Ve.s&&["s",n]||1===r&&["m"]||r<Ve.m&&["mm",r]||1===i&&["h"]||i<Ve.h&&["hh",i]||1===s&&["d"]||s<=Ve.dd&&["dd",s]||s<=Ve.dm&&["M"]||s<Ve.dy&&["MM",ae(s/30)]||1===o&&["y"]||["yy",o];return l[2]=t,l[3]=e>0,l[4]=a,j.apply({},l)})(t,!e,this.lang());return e&&(a=this.lang().pastFuture(t,a)),this.lang().postformat(a)},add:function(e,t){var a=Q.duration(e,t);return this._milliseconds+=a._milliseconds,this._days+=a._days,this._months+=a._months,this._bubble(),this},subtract:function(e,t){var a=Q.duration(e,t);return this._milliseconds-=a._milliseconds,this._days-=a._days,this._months-=a._months,this._bubble(),this},get:function(e){return this[(e=m(e)).toLowerCase()+"s"]()},as:function(e){return this["as"+(e=m(e)).charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:Q.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),a=Math.abs(this.days()),n=Math.abs(this.hours()),r=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(a?a+"D":"")+(n||r||i?"T":"")+(n?n+"H":"")+(r?r+"M":"")+(i?i+"S":""):"P0D"}}),Oe)Oe.hasOwnProperty(ee)&&(Z(ee,Oe[ee]),J(ee.toLowerCase()));Z("Weeks",6048e5),Q.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},Q.lang("en",{ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),(function(e){e.lang("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})})(Q),(function(e){var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},a={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.lang("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiem:function(e){return 12>e?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return a[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})})(Q),(function(e){var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},a={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.lang("ar",{months:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),monthsShort:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiem:function(e){return 12>e?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return a[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})})(Q),(function(e){var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};e.lang("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiem:function(e){return 4>e?"gecə":12>e?"səhər":17>e?"gündüz":"axşam"},ordinal:function(e){if(0===e)return e+"-ıncı";var a=e%10;return e+(t[a]||t[e%100-a]||t[e>=100?100:null])},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinal:function(e){var t=e%10,a=e%100;return 0===e?e+"-ев":0===a?e+"-ен":a>10&&20>a?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})})(Q),(function(e){var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},a={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.lang("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রুবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্রু_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কএক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return a[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiem:function(e){return 4>e?"রাত":10>e?"শকাল":17>e?"দুপুর":20>e?"বিকেল":"রাত"},week:{dow:0,doy:6}})})(Q),(function(e){e(Q)})((function(t){function a(e,t,a){return e+" "+(function(e,t){return 2===t?n(e):e})({mm:"munutenn",MM:"miz",dd:"devezh"}[a],e)}function n(t){var a={m:"v",b:"v",d:"z"};return a[t.charAt(0)]===e?t:a[t.charAt(0)]+t.substring(1)}return t.lang("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:a,h:"un eur",hh:"%d eur",d:"un devezh",dd:a,M:"ur miz",MM:a,y:"ur bloaz",yy:function(e){switch((function e(t){return t>9?e(t%10):t})(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4}})})),(function(e){function t(e,t,a){var n=e+" ";switch(a){case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return n+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return n+(1===e?"dan":"dana");case"MM":return n+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return n+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.lang("bs",{months:"januar_februar_mart_april_maj_juni_juli_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:"%dº",week:{dow:1,doy:4}})})(Q),(function(e){function t(e){return e>1&&5>e&&1!=~~(e/10)}function a(e,a,n,r){var i=e+" ";switch(n){case"s":return a||r?"pár sekund":"pár sekundami";case"m":return a?"minuta":r?"minutu":"minutou";case"mm":return a||r?i+(t(e)?"minuty":"minut"):i+"minutami";case"h":return a?"hodina":r?"hodinu":"hodinou";case"hh":return a||r?i+(t(e)?"hodiny":"hodin"):i+"hodinami";case"d":return a||r?"den":"dnem";case"dd":return a||r?i+(t(e)?"dny":"dní"):i+"dny";case"M":return a||r?"měsíc":"měsícem";case"MM":return a||r?i+(t(e)?"měsíce":"měsíců"):i+"měsíci";case"y":return a||r?"rok":"rokem";case"yy":return a||r?i+(t(e)?"roky":"let"):i+"lety"}}var n="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),r="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");e.lang("cs",{months:n,monthsShort:r,monthsParse:(function(e,t){var a,n=[];for(a=0;12>a;a++)n[a]=new RegExp("^"+e[a]+"$|^"+t[a]+"$","i");return n})(n,r),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H.mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/çул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinal:"%d-мĕш",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a){var n={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?n[a][0]:n[a][1]}e.lang("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a){var n={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?n[a][0]:n[a][1]}e.lang("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,a){return e>11?a?"μμ":"ΜΜ":a?"πμ":"ΠΜ"},longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var a=this._calendarEl[e],n=t&&t.hours();return"function"==typeof a&&(a=a.apply(t)),a.replace("{}",n%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinal:function(e){return e+"η"},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})})(Q),(function(e){e.lang("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiem:function(e,t,a){return e>11?a?"p.t.m.":"P.T.M.":a?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinal:"%da",week:{dow:1,doy:7}})})(Q),(function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),a="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");e.lang("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,n){return/-MMM-/.test(n)?a[e.month()]:t[e.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [del] YYYY",LLL:"D [de] MMMM [del] YYYY LT",LLLL:"dddd, D [de] MMMM [del] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a,n){var r={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[a][2]?r[a][2]:r[a][1]:n?r[a][0]:r[a][1]}e.lang("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},a={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};e.lang("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiem:function(e){return 12>e?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return a[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},ordinal:"%dم",week:{dow:6,doy:12}})})(Q),(function(e){function t(e,t,n,r){var i="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"m":return r?"minuutin":"minuutti";case"mm":i=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":i=r?"tunnin":"tuntia";break;case"d":return r?"päivän":"päivä";case"dd":i=r?"päivän":"päivää";break;case"M":return r?"kuukauden":"kuukausi";case"MM":i=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":i=r?"vuoden":"vuotta"}return a(e,r)+" "+i}function a(e,t){return 10>e?t?r[e]:n[e]:e}var n="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),r=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",n[7],n[8],n[9]];e.lang("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}})})(Q),(function(e){e.lang("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e+" שנים"}}})})(Q),(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},a={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return a[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiem:function(e){return 4>e?"रात":10>e?"सुबह":17>e?"दोपहर":20>e?"शाम":"रात"},week:{dow:0,doy:6}})})(Q),(function(e){function t(e,t,a){var n=e+" ";switch(a){case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return n+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return n+(1===e?"dan":"dana");case"MM":return n+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return n+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.lang("hr",{months:"sječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){function t(e,t,a,n){var r=e;switch(a){case"s":return n||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(n||t?" perc":" perce");case"mm":return r+(n||t?" perc":" perce");case"h":return"egy"+(n||t?" óra":" órája");case"hh":return r+(n||t?" óra":" órája");case"d":return"egy"+(n||t?" nap":" napja");case"dd":return r+(n||t?" nap":" napja");case"M":return"egy"+(n||t?" hónap":" hónapja");case"MM":return r+(n||t?" hónap":" hónapja");case"y":return"egy"+(n||t?" év":" éve");case"yy":return r+(n||t?" év":" éve")}return""}function a(e){return(e?"":"[múlt] ")+"["+n[this.day()]+"] LT[-kor]"}var n="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");e.lang("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiem:function(e,t,a){return 12>e?!0===a?"de":"DE":!0===a?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return a.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return a.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("hy-am",{months:function(e,t){return{nominative:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_"),accusative:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:function(e){return"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_")[e.month()]},weekdays:function(e){return"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_")[e.day()]},weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., LT",LLLL:"dddd, D MMMM YYYY թ., LT"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiem:function(e){return 4>e?"գիշերվա":12>e?"առավոտվա":17>e?"ցերեկվա":"երեկոյան"},ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e){return 11>e?"pagi":15>e?"siang":19>e?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})(Q),(function(e){function t(e){return e%100==11||e%10!=1}function a(e,a,n,r){var i=e+" ";switch(n){case"s":return a||r?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return a?"mínúta":"mínútu";case"mm":return t(e)?i+(a||r?"mínútur":"mínútum"):a?i+"mínúta":i+"mínútu";case"hh":return t(e)?i+(a||r?"klukkustundir":"klukkustundum"):i+"klukkustund";case"d":return a?"dagur":r?"dag":"degi";case"dd":return t(e)?a?i+"dagar":i+(r?"daga":"dögum"):a?i+"dagur":i+(r?"dag":"degi");case"M":return a?"mánuður":r?"mánuð":"mánuði";case"MM":return t(e)?a?i+"mánuðir":i+(r?"mánuði":"mánuðum"):a?i+"mánuður":i+(r?"mánuð":"mánuði");case"y":return a||r?"ár":"ári";case"yy":return t(e)?i+(a||r?"ár":"árum"):i+(a||r?"ár":"ári")}}e.lang("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:a,m:a,mm:a,h:"klukkustund",hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:"%dº",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(e){return 12>e?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})})(Q),(function(e){e.lang("ka",{months:function(e,t){return{nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")}[/D[oD] *MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:function(e,t){return{nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")}[/(წინა|შემდეგ)/.test(t)?"accusative":"nominative"][e.day()]},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinal:function(e){return 0===e?e:1===e?e+"-ლი":20>e||100>=e&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("km",{months:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ថ្ងៃនៈ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 mm분",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},meridiem:function(e){return 12>e?"오전":"오후"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinal:"%d일",meridiemParse:/(오전|오후)/,isPM:function(e){return"오후"===e}})})(Q),(function(e){function t(e,t,a){var n={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],dd:[e+" Deeg",e+" Deeg"],M:["ee Mount","engem Mount"],MM:[e+" Méint",e+" Méint"],y:["ee Joer","engem Joer"],yy:[e+" Joer",e+" Joer"]};return t?n[a][0]:n[a][1]}function a(e){if(e=parseInt(e,10),isNaN(e))return!1;if(0>e)return!0;if(10>e)return e>=4&&7>=e;if(100>e){var t=e%10;return a(0===t?e/10:t)}if(1e4>e){for(;e>=10;)e/=10;return a(e)}return a(e/=1e3)}e.lang("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){return(function(e){switch(e=parseInt(e,10)){case 0:case 1:case 3:case 5:case 6:return!0;default:return!1}})(this.format("d"))?"[Leschte] dddd [um] LT":"[Leschten] dddd [um] LT"}},relativeTime:{future:function(e){return a(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return a(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a,r){return t?n(a)[0]:r?n(a)[1]:n(a)[2]}function a(e){return e%10==0||e>10&&20>e}function n(e){return i[e].split("_")}function r(e,r,i,s){var o=e+" ";return 1===e?o+t(0,r,i[0],s):r?o+(a(e)?n(i)[1]:n(i)[0]):s?o+n(i)[1]:o+(a(e)?n(i)[1]:n(i)[2])}var i={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"},s="sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_");e.lang("lt",{months:"sausio_vasario_kovo_balandžio_gegužės_biržėlio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:function(e,t){var a=-1===t.indexOf("dddd HH:mm"),n=s[e.day()];return a?n:n.substring(0,n.length-2)+"į"},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:function(e,t,a,n){return t?"kelios sekundės":n?"kelių sekundžių":"kelias sekundes"},m:t,mm:r,h:t,hh:r,d:t,dd:r,M:t,MM:r,y:t,yy:r},ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,n){return e+" "+(function(e,t,a){var n=e.split("_");return a?t%10==1&&11!==t?n[2]:n[3]:t%10==1&&11!==t?n[0]:n[1]})(a[n],e,t)}var a={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};e.lang("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:t,h:"stundu",hh:t,d:"dienu",dd:t,M:"mēnesi",MM:t,y:"gadu",yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Во изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Во изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinal:function(e){var t=e%10,a=e%100;return 0===e?e+"-ев":0===a?e+"-ен":a>10&&20>a?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiem:function(e){return 4>e?"രാത്രി":12>e?"രാവിലെ":17>e?"ഉച്ച കഴിഞ്ഞ്":20>e?"വൈകുന്നേരം":"രാത്രി"}})})(Q),(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},a={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%s नंतर",past:"%s पूर्वी",s:"सेकंद",m:"एक मिनिट",mm:"%d मिनिटे",h:"एक तास",hh:"%d तास",d:"एक दिवस",dd:"%d दिवस",M:"एक महिना",MM:"%d महिने",y:"एक वर्ष",yy:"%d वर्षे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return a[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiem:function(e){return 4>e?"रात्री":10>e?"सकाळी":17>e?"दुपारी":20>e?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})})(Q),(function(e){e.lang("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},a={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return a[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiem:function(e){return 3>e?"राती":10>e?"बिहान":15>e?"दिउँसो":18>e?"बेलुका":20>e?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})})(Q),(function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),a="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");e.lang("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,n){return/-MMM-/.test(n)?a[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e){return 5>e%10&&e%10>1&&~~(e/10)%10!=1}function a(e,a,n){var r=e+" ";switch(n){case"m":return a?"minuta":"minutę";case"mm":return r+(t(e)?"minuty":"minut");case"h":return a?"godzina":"godzinę";case"hh":return r+(t(e)?"godziny":"godzin");case"MM":return r+(t(e)?"miesiące":"miesięcy");case"yy":return r+(t(e)?"lata":"lat")}}var n="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");e.lang("pl",{months:function(e,t){return/D MMMM/.test(t)?r[e.month()]:n[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:a,mm:a,h:a,hh:a,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:a,y:"rok",yy:a},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [às] LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})})(Q),(function(e){e.lang("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a){var n=" ";return(e%100>=20||e>=100&&e%100==0)&&(n=" de "),e+n+{mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[a]}e.lang("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})})(Q),(function(e){function t(e,t,a){return"m"===a?t?"минута":"минуту":e+" "+(function(e,t){var a=e.split("_");return t%10==1&&t%100!=11?a[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?a[1]:a[2]})({mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[a],+e)}e.lang("ru",{months:function(e,t){return{nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:function(e,t){return{nominative:"янв_фев_мар_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]},weekdays:function(e,t){return{nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")}[/\[ ?[Вв] ?(?:прошлую|следующую)? ?\] ?dddd/.test(t)?"accusative":"nominative"][e.day()]},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:t,mm:t,h:"час",hh:t,d:"день",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e){return 4>e?"ночи":12>e?"утра":17>e?"дня":"вечера"},ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}})})(Q),(function(e){function t(e){return e>1&&5>e}function a(e,a,n,r){var i=e+" ";switch(n){case"s":return a||r?"pár sekúnd":"pár sekundami";case"m":return a?"minúta":r?"minútu":"minútou";case"mm":return a||r?i+(t(e)?"minúty":"minút"):i+"minútami";case"h":return a?"hodina":r?"hodinu":"hodinou";case"hh":return a||r?i+(t(e)?"hodiny":"hodín"):i+"hodinami";case"d":return a||r?"deň":"dňom";case"dd":return a||r?i+(t(e)?"dni":"dní"):i+"dňami";case"M":return a||r?"mesiac":"mesiacom";case"MM":return a||r?i+(t(e)?"mesiace":"mesiacov"):i+"mesiacmi";case"y":return a||r?"rok":"rokom";case"yy":return a||r?i+(t(e)?"roky":"rokov"):i+"rokmi"}}var n="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),r="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");e.lang("sk",{months:n,monthsShort:r,monthsParse:(function(e,t){var a,n=[];for(a=0;12>a;a++)n[a]=new RegExp("^"+e[a]+"$|^"+t[a]+"$","i");return n})(n,r),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a){var n=e+" ";switch(a){case"m":return t?"ena minuta":"eno minuto";case"mm":return n+(1===e?"minuta":2===e?"minuti":3===e||4===e?"minute":"minut");case"h":return t?"ena ura":"eno uro";case"hh":return n+(1===e?"ura":2===e?"uri":3===e||4===e?"ure":"ur");case"dd":return n+(1===e?"dan":"dni");case"MM":return n+(1===e?"mesec":2===e?"meseca":3===e||4===e?"mesece":"mesecev");case"yy":return n+(1===e?"leto":2===e?"leti":3===e||4===e?"leta":"let")}}e.lang("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),meridiem:function(e){return 12>e?"PD":"MD"},longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){var t={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,a,n){var r=t.words[n];return 1===n.length?a?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.lang("sr-cyrl",{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],monthsShort:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],weekdays:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],weekdaysShort:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],weekdaysMin:["не","по","ут","ср","че","пе","су"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,a,n){var r=t.words[n];return 1===n.length?a?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.lang("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinal:function(e){return e+"வது"},meridiem:function(e){return e>=6&&10>=e?" காலை":e>=10&&14>=e?" நண்பகல்":e>=14&&18>=e?" எற்பாடு":e>=18&&20>=e?" மாலை":e>=20&&24>=e?" இரவு":e>=0&&6>=e?" வைகறை":void 0},week:{dow:0,doy:6}})})(Q),(function(e){e.lang("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiem:function(e){return 12>e?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})})(Q),(function(e){e.lang("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinal:function(e){return e},week:{dow:1,doy:4}})})(Q),(function(e){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.lang("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e){if(0===e)return e+"'ıncı";var a=e%10;return e+(t[a]||t[e%100-a]||t[e>=100?100:null])},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})})(Q),(function(e){e.lang("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})})(Q),(function(e){function t(e,t,a){return"m"===a?t?"хвилина":"хвилину":"h"===a?t?"година":"годину":e+" "+(function(e,t){var a=e.split("_");return t%10==1&&t%100!=11?a[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?a[1]:a[2]})({mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[a],+e)}function a(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.lang("uk",{months:function(e,t){return{nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")}[/D[oD]? *MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:function(e,t){return{nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")}[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]},weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:a("[Сьогодні "),nextDay:a("[Завтра "),lastDay:a("[Вчора "),nextWeek:a("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return a("[Минулої] dddd [").call(this);case 1:case 2:case 4:return a("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:t,mm:t,h:"годину",hh:t,d:"день",dd:t,M:"місяць",MM:t,y:"рік",yy:t},meridiem:function(e){return 4>e?"ночі":12>e?"ранку":17>e?"дня":"вечора"},ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("uz",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY LT",LLLL:"dddd, D MMMM [năm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinal:function(e){return e},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t){var a=100*e+t;return 600>a?"凌晨":900>a?"早上":1130>a?"上午":1230>a?"中午":1800>a?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var t,a;return t=e().startOf("week"),a=this.unix()-t.unix()>=604800?"[下]":"[本]",0===this.minutes()?a+"dddAh点整":a+"dddAh点mm"},lastWeek:function(){var t,a;return t=e().startOf("week"),a=this.unix()<t.unix()?"[上]":"[本]",0===this.minutes()?a+"dddAh点整":a+"dddAh点mm"},sameElse:"LL"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t){var a=100*e+t;return 900>a?"早上":1130>a?"上午":1230>a?"中午":1800>a?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})})(Q),Q.lang("en"),pe?module.exports=Q:"function"==typeof define&&define.amd?(define("moment",(function(e,t,a){return a.config&&a.config()&&!0===a.config().noGlobal&&(te.moment=$),Q})),X(!0)):X()}).call(this),define("dig-components/typography",["require","exports","tslib","dig-components/typography/link","dig-components/typography/text","dig-components/typography/title"],(function(e,t,a,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.__exportStar(n,t),a.__exportStar(r,t),a.__exportStar(i,t)})),define("dig-components/typography/link",["require","exports","tslib","classnames","react"],(function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r),t.Link=function(e){var t=e.children,i=e.className,s=e.inverse,o=void 0!==s&&s,l=e.hasNoUnderline,d=void 0!==l&&l,u=e.isBold,c=void 0!==u&&u,p=e.variant,_=void 0===p?"primary":p,m=a.__rest(e,["children","className","inverse","hasNoUnderline","isBold","variant"]),h=n.default("dig-Link",i,{"dig-Link--primary":"primary"===_,"dig-Link--hasNoUnderline":d,"dig-Link--isBold":c,"dig-Link--inverse":o});return r.createElement("a",Object.assign({className:h},m),t)},t.Link.displayName="Link"})),define("dig-components/typography/text",["require","exports","tslib","classnames","react"],(function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r),t.Text=r.forwardRef((function(e,t){var i=e.tagName,s=void 0===i?"span":i,o=e.children,l=e.className,d=e.color,u=void 0===d?"standard":d,c=e.size,p=void 0===c?"standard":c,_=e.isBold,m=void 0!==_&&_,h=e.inverse,f=void 0!==h&&h,g=e._withoutLineHeight,y=e._withoutWrap,b=a.__rest(e,["tagName","children","className","color","size","isBold","inverse","_withoutLineHeight","_withoutWrap"]),S=n.default("dig-Text","dig-Text--size-"+p,"dig-Text--color-"+u,{"dig-Text--inverse":f,"dig-Text--isBold":m,"dig-Text--withoutLineheight":g,"dig-Text--withoutWrap":y},l);return r.createElement(s,Object.assign({ref:t,className:S},b),o)})),t.Text.displayName="Text"})),define("dig-components/typography/title",["require","exports","tslib","classnames","react"],(function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r),t.Title=function(e){var t=e.tagName,i=void 0===t?"h2":t,s=e.children,o=e.className,l=e.color,d=void 0===l?"standard":l,u=e.size,c=void 0===u?"standard":u,p=e.isBold,_=void 0!==p&&p,m=e.inverse,h=void 0!==m&&m,f=a.__rest(e,["tagName","children","className","color","size","isBold","inverse"]),g=n.default("dig-Title","dig-Title--size-"+c,"dig-Title--color-"+d,{"dig-Title--isBold":_,"dig-Title--inverse":h},o);return r.createElement(i,Object.assign({className:g},f),s)},t.Title.displayName="Title"})),define("dig-components/controls",["require","exports","tslib","dig-components/controls/checkbox/checkbox","dig-components/controls/radio_button/radio_button","dig-components/controls/segmented_control/segmented_control","dig-components/controls/toggle/toggle"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.__exportStar(n,t),a.__exportStar(r,t),a.__exportStar(i,t),a.__exportStar(s,t)})),define("dig-components/controls/checkbox/checkbox",["require","exports","tslib","classnames","react","focus-visible"],(function(e,t,a,n,r){"use strict";function i(e){var t=e.checked;return e.isIndeterminate?"mixed":t?"true":"false"}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r),t.Checkbox=r.forwardRef((function(e,t){var l=e.checked,d=e.className,u=e.isIndeterminate,c=void 0!==u&&u,p=e.inverse,_=void 0!==p&&p,m=e.style,h=void 0===m?{}:m,f=a.__rest(e,["checked","className","isIndeterminate","inverse","style"]),g=n.default("dig-Checkbox-input",{"dig-Checkbox--inverse":_}),y=n.default("dig-Checkbox",d),b=r.useRef();return r.useEffect((function(){b.current&&(b.current.indeterminate=c)}),[t]),r.createElement("span",{className:y,style:h},r.createElement("input",Object.assign({"aria-checked":i({checked:l,isIndeterminate:c}),checked:l,className:g,ref:function(e){b.current=e,t&&("function"==typeof t?t(e):t.current=e)},type:"checkbox"},f)),r.createElement("span",{className:"dig-Checkbox-styles"}),r.createElement(o,null),r.createElement(s,null))})),t.Checkbox.displayName="Checkbox";var s=function(){return r.createElement("svg",{className:"dig-Checkbox-checked-icon","aria-hidden":"true",width:"20px",height:"20px",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M1 4L4.5 7.5L11 1",stroke:"currentColor",strokeWidth:"2",transform:"translate(4, 6)"}))};s.displayName="CheckedCheckboxIcon";var o=function(){return r.createElement("svg",{"aria-hidden":"true",width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",className:"dig-Checkbox-indeterminate-icon"},r.createElement("rect",{x:"5px",y:"9px",width:"10px",height:"2px"}))};o.displayName="IndeterminateCheckboxIcon"})),define("dig-components/controls/radio_button/radio_button",["require","exports","tslib","classnames","react","focus-visible"],(function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r),t.RadioButton=r.forwardRef((function(e,t){var i=e.className,s=(e.children,e.inverse),o=a.__rest(e,["className","children","inverse"]),l=n.default("dig-Radio",i,{"dig-Radio--inverse":s});return r.createElement("input",Object.assign({type:"radio",className:l,ref:t},o))})),t.RadioButton.displayName="RadioButton"})),define("dig-components/controls/segmented_control/context",["require","exports","tslib","react"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var r={setSelectedOption:function(){return!1},selectedOption:void 0};t.SegmentedControlContext=n.createContext(r)})),define("dig-components/controls/segmented_control/option",["require","exports","tslib","react","classnames","dig-components/controls/segmented_control/context"],(function(e,t,a,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),r=a.__importDefault(r),t.Option=n.forwardRef((function(e,t){var s=e.index,o=e.children,l=e.disabled,d=e.value,u=e.role,c=void 0===u?"tab":u,p=a.__rest(e,["index","children","disabled","value","role"]),_=n.useContext(i.SegmentedControlContext).setSelectedOption,m=r.default("dig-SegmentedControl-option",{"dig-SegmentedControl-option--disabled":l});return n.createElement("button",Object.assign({role:c,className:m,disabled:l,onClick:function(){_({value:d,index:s})},ref:t},p),o)})),t.Option.displayName="SegmentedControl.Option"})),define("dig-components/controls/segmented_control/segmented_control",["require","exports","tslib","classnames","react","dig-components/controls/segmented_control/option","dig-components/controls/segmented_control/context","focus-visible"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r);t.SegmentedControl=function(e){var t=e.className,i=e.children,o=e.selectedValue,l=e.onSelection,d=e.inverse,u=void 0!==d&&d,c=a.__rest(e,["className","children","selectedValue","onSelection","inverse"]),p=r.useState((function(){var e=-1;return void 0!==o&&r.Children.forEach(i,(function(t,a){r.isValidElement(t)&&t.props.value===o&&(e=a)})),e})),_=p[0],m=p[1],h=n.default("dig-SegmentedControl",t,{"dig-SegmentedControl--inverse":u});r.useEffect((function(){void 0===o&&m(-1)}),[o]);var f={selectedOption:{value:o},setSelectedOption:function(e){m(e.index),l&&l(e.value)}},g=-1!==_?32*_+2*_:0;return r.createElement(s.SegmentedControlContext.Provider,{value:f},r.createElement("div",Object.assign({role:"tablist",className:h},c),-1!==_&&r.createElement("span",{className:"dig-SegmentedControl-selector",style:{transform:"translateX("+g+"px)"}}),r.Children.map(i,(function(e,t){return r.isValidElement(e)&&r.cloneElement(e,{index:t})}))))},t.SegmentedControl.displayName="SegmentedControl",t.SegmentedControl.Option=i.Option})),define("dig-components/controls/toggle/toggle",["require","exports","tslib","classnames","react","focus-visible"],(function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r),t.Toggle=r.forwardRef((function(e,t){var i=e.isToggled,s=e.disabled,o=e.className,l=e.wrapperProps,d=e.inverse,u=a.__rest(e,["isToggled","disabled","className","wrapperProps","inverse"]),c=n.default(o,"dig-Toggle",{"dig-Toggle--isToggled":i,"dig-Toggle--disabled":s,"dig-Toggle--inverse":d});return r.createElement("label",Object.assign({className:c},l),r.createElement("input",Object.assign({role:"switch",type:"checkbox",className:"dig-Toggle-input",checked:i,disabled:s,ref:t},u)),r.createElement("span",{className:"dig-Toggle-track"}))})),t.Toggle.displayName="Toggle"})),define("modules/clean/account_page/tabs/billing",["require","exports","tslib","modules/clean/event_handler","modules/core/browser","modules/core/browser_detection","modules/core/uri","modules/clean/react/payments/update_individual_billing/update_individual_store_creator","modules/clean/dbmodal_stack","react","react-redux","modules/clean/react/css","modules/core/i18n","modules/clean/web_timing_logger","modules/clean/account_page/util","modules/clean/teams/admin/lib/billing_history","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/account_page/widgets/billing/action_creators","modules/clean/account_page/widgets/plan/action_creators","modules/clean/account_page/widgets/plan/add_ons/action_creators","modules/clean/react/payments/error/browser_update_required_modal","modules/clean/account_page/widgets/plan/views/cancel_subs_warning_modal","modules/clean/account_page/widgets/plan/views/change_schedule_modal","modules/clean/account_page/widgets/plan/views/change_plan_modal","modules/clean/account_page/widgets/plan/views/cancel_plan","modules/clean/account_page/widgets/plan/views/churn_survey/indiv_churn_survey","modules/clean/account_page/widgets/plan/views/individual_cancel_survey_modal","modules/clean/account_page/widgets/plan/views/montana/montana_modal_flow","modules/clean/account_page/widgets/plan/views/montana/montana_renew_success_modal","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/react/payments/edit_invoice_address_modal/edit_invoice_address_modal_loader","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader","modules/clean/account_page/components/key_value_block","modules/clean/account_page/widgets/billing/views/license_keys","modules/clean/account_page/components/loading","modules/clean/payments/skus/constants","modules/constants/trademark","modules/clean/analytics","modules/clean/payments/skus/subscription_status","modules/clean/account_page/widgets/billing/views/invoice_details","modules/clean/account_page/widgets/billing/views/billing_history","modules/core/notify","modules/clean/stormcrow/stormcrow_exposure_logger","modules/clean/stormcrow/experiment"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g,y,b,S,v,M,L,T,w,C,D,E,P,k,Y,N,x,A,I,R,B,O,F,U,j,V,H){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importStar(r),i=a.__importStar(i),d=a.__importDefault(d),u=a.__importStar(u);var W=(function(e){function t(t){var n=e.call(this,t)||this;return n.browserUpdateRequired=function(){return!!n.props.browserUpdateRequired&&(S.BrowserUpdateModalLoader.showInstance(),!0)},n.handlePaymentUpdate=function(){n.browserUpdateRequired()||(B.ProEventsLogger.log("de_billing_tab_update_payment_method_click"),n.props.billingInfo.scheduled_for_downgrade?v.CancelChangesModalConfirmation.showInstance({transitionPerformed:n.reloadData,subStatus:n.subStatus}):Y.IndividualUpdateBillingModalLoader.showInstance())},n.handlePaymentAdd=function(){n.browserUpdateRequired()||(B.ProEventsLogger.log("de_billing_tab_add_payment_method_click"),Y.IndividualUpdateBillingModalLoader.showInstance())},n.handlePaymentAddToResubscribe=function(){n.browserUpdateRequired()||(B.ProEventsLogger.log("de_billing_tab_add_payment_method_resubscribe_click"),j.Notify.success(p._("Please update your billing information to be resubscribed.")),Y.IndividualUpdateBillingModalLoader.showInstance())},n.reloadData=function(){var e=n.props,t=e.loadBillingInfo,a=e.loadPlanDataIfNecessary,r=e.loadEvhInfoIfNecessary;t(!0),r(!0),a(!0)},n.handleBillingChange=function(){B.ProEventsLogger.log("de_billing_tab_change_billing_modal_open");var e=n.props.billingInfo,t=e.payment_info;e.scheduled_for_downgrade?v.CancelChangesModalConfirmation.showInstance({transitionPerformed:n.reloadData,subStatus:n.subStatus}):(V.logVariantExposure("montana_master_switch",n.props.expMontana),M.ChangeScheduleModalView.showInstance({transitionPerformed:n.reloadData,paymentInfo:t,browserUpdateRequired:n.props.browserUpdateRequired,expMontana:n.props.expMontana}))},n.handleRebillUpsell=function(e){e&&e.showChangePlanConfirm&&L.ChangePlanModalView.showInstance({mode:L.ChangePlanMode.CONFIRM,transitionPerformed:n.reloadData})},n.onEditInvoiceDetailsClick=function(){B.ProEventsLogger.log("de_billing_tab_edit_invoice_modal_open"),k.EditInvoiceAddressModalLoader.showUpdateTaxProfileModal(!1,n.onInvoiceDetailsUpdated)},n.onInvoiceDetailsUpdated=function(){n.props.loadBillingInfo(!0)},n.renderLicenseKeys=function(){return d.default.createElement("div",{className:"account-page-block"},d.default.createElement(x.LicenseKeys,{licenseKeys:n.props.billingInfo.license_keys}))},n.renderBillingHistory=function(){var e=n.props.billingInfo,t=e.transactions,a=e.show_edit_invoice_modal,r=e.edit_past_invoices,i=a&&r,s=!1;null!==t&&t.transactions.length>0&&(s=h.getHistoryData(t.transactions).length>3);return d.default.createElement(U.BillingHistory,{showEditInvoiceModal:i,transactions:t.transactions,filters:t.filters,hasMore:s})},n.renderPaymentMethod=function(){if(n.user.paid&&(!n.props.trialsConfig||!n.props.trialsConfig.hideBillingModal)){var e=n.props.billingInfo.payment_info,t=e.gateway_id,a=e.expiration_date,r=e.description,i=e.is_reseller_billing,s=e.end_date,o=e.deactivated,l=e.is_on_trial,u=e.reseller_name,c=e.reseller_link;if(i){var _=p._("Go to %(reseller_name)s to view or make changes to your account details").format({reseller_name:u}),m=d.default.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},_);return d.default.createElement(N.KeyValueBlock,{keyText:m})}if(-1!==t){if(!f.shouldHidePaymentMethod(t)&&!n.props.billingInfo.payment_method)return d.default.createElement(N.KeyValueBlock,{className:"add-payment",keyText:p._("You can add your payment information now to have           your subscription automatically renew when it expires"),linkText:p._("Add"),onLinkClick:n.handlePaymentAddToResubscribe});if(f.isLicenseKey(t))return d.default.createElement("div",{className:"account-page-block"},d.default.createElement(N.KeyValueBlock,{keyText:p._("Payment method"),subtext:p._("Add your payment information now to have           your subscription automatically renew when it expires"),linkText:p._("Add payment method"),onLinkClick:n.handlePaymentAdd}));if(f.shouldHidePaymentMethod(t)){var h=f.getPaymentMethodDisabledMessage(t,i,R.TRADEMARK_PLUS,s,o,l);return d.default.createElement(N.KeyValueBlock,{keyText:h})}var g=r;return null!==a&&(g=p._("%(payment_description)s, exp: %(expiration_date)s",{comment:'Payment description is a card information, already translated           (ex> Visa ending in 2543). Date is in format MM / YYYY ( ex> 08 / 2017 ).           An example translated string is "Visa ending in 2543, exp: 08 / 2017 ).'}).format({payment_description:r,expiration_date:a})),d.default.createElement(N.KeyValueBlock,{keyText:p._("Payment method"),valueText:g,linkText:p._("Update"),onLinkClick:n.handlePaymentUpdate})}}},n.renderBillingPeriod=function(){if(n.user.paid){var e=n.props.billingInfo,t=e.payment_info,a=e.scheduled_for_downgrade;if(!f.shouldHideBillingChange(t.gateway_id,t.is_reseller_billing)&&t.period){if(!t.schedule_switchable&&!a&&!n.isProfessionalTrialPlan)return d.default.createElement(N.KeyValueBlock,{keyText:p._("Sorry, you cannot change your billing schedule at this time.")});var r="yearly"===t.period?p._("Plan billed yearly"):p._("Plan billed monthly");return d.default.createElement(N.KeyValueBlock,{className:"lookup-charge-key-value",keyText:p._("Billing period"),valueText:r,linkText:p._("Change"),onLinkClick:n.handleBillingChange,disabled:t&&t.is_in_grace_period})}}},n.renderInvoiceDetails=function(){var e=n.props.billingInfo,t=e.show_edit_invoice_modal,a=e.payment_info,r=e.payment_method,i=e.has_invoice_details;if(n.user.paid&&t&&!f.shouldHideBillingChange(a.gateway_id,a.is_reseller_billing)&&a.period)return d.default.createElement(F.InvoiceDetails,{onLinkClick:n.onEditInvoiceDetailsClick,has_invoice_details:i,country_code:r?r.country_code:void 0})},n.openChangePlanModal=function(e,t){var a=!1;if(!t&&"ON"===n.props.planInfo.expMontana){var r=n.props.planInfo,i=r.montanaAnnouncementDate,s=r.usersMontanaMigrationDate,o=r.usersFirstMontanaRebillDate,l=r.now;a=P.getMontanaDateBooleans({montanaAnnouncementDate:i,usersFirstMontanaRebillDate:o,usersMontanaMigrationDate:s,now:l}).isAfterFirstMontanaRebill,P.MontanaLogger.logEvent("cancel_view",{featureType:"change_plan"})}L.ChangePlanModalView.showInstance({transitionPerformed:n.reloadData,expMontana:n.props.planInfo.expMontana,shouldApplyMontanaRetentionPolicy:a,indivChurnSurveyLogData:e,shouldShowRedesignedModal:t})},n.openChangeScheduleModal=function(e,t){var a=n.props,r=a.planInfo,i=a.browserUpdateRequired,s=r.paymentInfo,o=r.expMontana;!t&&P.MontanaLogger.isInitialized()&&P.MontanaLogger.logEvent("cancel_view",{featureType:"yearly_billing"}),M.ChangeScheduleModalView.showInstance({transitionPerformed:n.reloadData,paymentInfo:s,browserUpdateRequired:i,expMontana:o,isMontanaDowngradeFlow:!e,indivChurnSurveyLogData:e,shouldShowRedesignedModal:t})},n.showMontanaModalFlow=function(){V.logVariantExposure("montana_master_switch",n.props.planInfo.expMontana),n.setState({showMontanaModalFlow:!0})},n.openMontanaRenewSuccessModal=function(){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,this.props.loadPlanDataIfNecessary(!0,!0)];case 1:return e.sent(),this.setState({showMontanaRenewSuccessModal:!0}),[2]}}))}))},n.openIndividualCancelSurvey=function(){var e=n.props.expRetentionAccountWayfindingProps.expRenewIndivChurnSurvey;V.logVariantExposure("renew_indiv_churn_survey",e),B.ProEventsLogger.log("individual_cancel_survey_modal_view"),n.setState({showIndividualCancelSurvey:!0})},n.openRetentionIndivChurnSurveyV1=function(){n.logIndivChurnExposureIfOn(),B.ProEventsLogger.log("individual_cancel_survey_modal_view"),n.setState({showIndividualCancelSurvey:!0})},n.openRetentionIndivChurnSurveyV2=function(){n.logIndivChurnExposureIfOn();var e={postSurveyHandler:function(){r.redirect("/downgrade")},subStatus:n.subStatus,currentSpaceUsage:n.props.planInfo.usageBreakdown.usage,openChangePlanModal:n.openChangePlanModal,openChangeScheduleModal:n.openChangeScheduleModal};B.ProEventsLogger.log("individual_cancel_survey_modal_view"),w.IndivChurnSurveyModalView.showInstance(e)},n.logIndivChurnExposureIfOn=function(){var e=n.props.expRetentionAccountWayfindingProps,t=e.expRetentionIndivChurnSurvey,a=e.expRetentionIndivChurnSurveyTrials;V.logVariantExposure("retention_indiv_churn_survey",t),V.logVariantExposure("retention_indiv_churn_survey_trials",a)},n.handleCancel=function(){n.logIndivChurnExposureIfOn(),r.redirect("/downgrade")},n.closeIndividualCancelSurvey=function(){n.setState({showIndividualCancelSurvey:!1})},n.hideMontanaModalFlow=function(){n.setState({showMontanaModalFlow:!1})},n.closeMontanaRenewSuccessModal=function(){n.setState({showMontanaRenewSuccessModal:!1})},n.renderCancelPlanButton=function(){var e,t=n.props.expRetentionAccountWayfindingProps,a=t.expRenewIndivChurnSurvey,r=t.expRetentionIndivChurnSurvey,i=t.expRetentionIndivChurnSurveyTrials,s=t.expRetentionAccountWayfinding,o=n.props.planInfo,l=o.usageBreakdown,u=o.scheduledForDowngrade,c=o.paymentInfo,p=o.eligibleFor1tb,_=o.expMontana,m=o.basicSkuContent,h=o.plusToProTrialVariant,g=n.subStatus;if(H.Experiment(_).isActive&&g&&P.isValidMontanaUserState(g,n.props.planInfo)?e=n.showMontanaModalFlow:H.Experiment(a).variantIs("V1")?e=n.openIndividualCancelSurvey:H.Experiment(r).variantIs("CONTROL")||H.Experiment(i).variantIs("CONTROL")?e=n.handleCancel:H.Experiment(r).variantIs("V1")||H.Experiment(i).variantIs("V1")?e=n.openRetentionIndivChurnSurveyV1:g&&(H.Experiment(r).variantIs("V2")||H.Experiment(i).variantIs("V2"))&&(e=n.openRetentionIndivChurnSurveyV2),!(n.isExternallyBilled||u||n.isProfessionalTrialPlan||!n.isPersonalUser&&!n.isLimitedTeam||!c||f.shouldHideBillingChange(c.gateway_id,c.is_reseller_billing)||n.props.trialsConfig&&n.props.trialsConfig.hideCancelPlan)){var y={plusToProTrialVariant:h,expRetentionAccountWayfinding:s};return d.default.createElement(T.CancelPlan,{experiments:y,usageBreakdown:l,subStatus:g,eligibleFor1tb:p,basicSkuContent:m,onClick:e})}},n.renderModals=function(){var e=n.props,t=e.expMontana,r=e.expRetentionAccountWayfindingProps,i=e.planInfo,s=r.firstName;if(n.subStatus){if(n.state.showIndividualCancelSurvey){var o={firstName:s,onClose:n.closeIndividualCancelSurvey,subStatus:n.subStatus,expMontanaActive:H.Experiment(t).isActive&&n.subStatus&&P.isValidMontanaUserState(n.subStatus,i),nextModal:function(){},prevModal:function(){},exitModalFlow:function(){},goToModal:function(){},modalFlowState:{}};return d.default.createElement(C.IndividualCancelSurveyModal,a.__assign({},o))}return n.state.showMontanaModalFlow?d.default.createElement(D.MontanaModalFlow,{firstName:s,subStatus:n.subStatus,onClose:n.hideMontanaModalFlow,planInfo:i,openChangePlanModal:n.openChangePlanModal,openChangeScheduleModal:n.openChangeScheduleModal,openMontanaRenewSuccessModal:n.openMontanaRenewSuccessModal}):n.state.showMontanaRenewSuccessModal?d.default.createElement(E.RenewSuccessModal,{subStatus:n.subStatus,planInfo:i,onClose:n.closeMontanaRenewSuccessModal}):void 0}},n.handleLookUpCharge=function(){B.ProEventsLogger.log("de_billing_tab_look_up_charge_click",{},(function(){r.redirect("/payments/find_receipt")}))},n.renderLookUpCharge=function(){return d.default.createElement(N.KeyValueBlock,{keyText:p._("Look up a credit or debit card purchase"),linkText:p._("Look up charge"),onLinkClick:n.handleLookUpCharge})},n.user=m.getCurrentUser(),l.DBModalStack.register(o.BILLING_INFO_UPDATED,(function(e,t){B.ProEventsLogger.log("de_payment_modal_save_click"),n.props.loadBillingInfo(!0),n.props.loadPlanDataIfNecessary(!0),n.handleRebillUpsell(t)})),n.state={showIndividualCancelSurvey:!1,showMontanaModalFlow:!1,showMontanaRenewSuccessModal:!1},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.expRetentionAccountWayfindingProps.expRetentionAccountWayfinding;this.props.loadBillingInfo(),H.Experiment(t).variantIs("V2")&&this.props.loadPlanDataIfNecessary(),this.checkTTIstate(),B.ProEventsLogger.log("de_billing_tab_view"),this.events.on(window,"hashchange",(function(){e.displayResubscribeBillingModal(),e.displayUpdateBillingModal()})),this.displayResubscribeBillingModal(),this.displayUpdateBillingModal();var a=r.get_hash(),n=r.get_uri().getQuery().exp_renewals_pro_mobile_payment_page;void 0!==a&&-1!==a.search("billing_info")&&-1===a.search("resubscribe_billing_info")&&["V1","V2"].includes(n)&&B.ProEventsLogger.log("exp_renewals_pro_mobile_payment_page_"+n,{isAndroid:i.is_android(),isMobile:i.is_supported_mobile_browser(),isIOS:i.iOS})},t.prototype.componentDidUpdate=function(){this.checkTTIstate()},t.prototype.displayUpdateBillingModal=function(){var e=r.get_hash(),t=void 0!==e&&-1!==e.search("billing_info")&&-1===e.search("resubscribe_billing_info"),a=s.URI.parse(r.get_href()).getQuery().modal;if(t||a&&"billing_info"===a){if(!this.user.paid)return;if(this.browserUpdateRequired())return;if(this.props.trialsConfig&&this.props.trialsConfig.hideBillingModal)return;Y.IndividualUpdateBillingModalLoader.showInstance()}},t.prototype.displayResubscribeBillingModal=function(){var e=r.get_hash();if(void 0!==e&&-1!==e.search("resubscribe_billing_info")){if(this.browserUpdateRequired())return;Y.IndividualUpdateBillingModalLoader.showInstance()}},Object.defineProperty(t.prototype,"subStatus",{get:function(){var e=this.props.billingInfo.serialized_sub_status;if(e)return O.SubscriptionStatus.deserialize(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isProfessionalTrialPlan",{get:function(){return!(!this.subStatus||!this.subStatus.subState.plan)&&this.subStatus.subState.plan.productType===I.ProductPlanType.PROFESSIONAL_TRIAL},enumerable:!0,configurable:!0}),t.prototype.checkTTIstate=function(){this.props.dataLoadedForTTI&&(_.mark_time_to_view(),_.mark_time_to_interactive())},Object.defineProperty(t.prototype,"isExternallyBilled",{get:function(){return void 0===this.subStatus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPersonalUser",{get:function(){return"personal"===m.getCurrentUser().role},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLimitedTeam",{get:function(){return this.props.planInfo.isLimitedTeam},enumerable:!0,configurable:!0}),t.prototype.isLoading=function(){return"ready"!==this.props.loadingState},t.prototype.render=function(){var e=this.props.expRetentionAccountWayfindingProps.expRetentionAccountWayfinding;return this.isLoading()?d.default.createElement(A.Loading,null):d.default.createElement("div",{className:"account-page-tab"},this.renderPaymentMethod(),this.renderBillingPeriod(),this.renderInvoiceDetails(),this.renderLicenseKeys(),H.Experiment(e).isActive&&this.renderLookUpCharge(),H.Experiment(e).variantIs("V2")&&this.renderCancelPlanButton(),H.Experiment(e).variantIs("V2")&&this.renderModals(),this.renderBillingHistory())},t=a.__decorate([n.eventHandler],t)})(d.default.Component);t.BillingTabView=W;var q=u.connect((function(e,t){return{browserUpdateRequired:t.browserUpdateRequired,expRetentionAccountWayfindingProps:t.expRetentionAccountWayfindingProps,billingInfo:e.billingInfo.billingInfo,planInfo:e.planTab.planInfo,loadingState:e.billingInfo.loadingState,dataLoadedForTTI:"ready"===e.billingInfo.loadingState}}),(function(e){return{loadBillingInfo:function(t){return void 0===t&&(t=!1),e(g.loadDataIfNecessary(t))},loadPlanDataIfNecessary:function(t,a){return void 0===t&&(t=!1),e(y.loadDataIfNecessary(t,a))},loadEvhInfoIfNecessary:function(t){return void 0===t&&(t=!1),e(b.loadEvhInfoIfNecessary(t))}}}))(W);t.BillingTab=c.requireCssWithComponent(q,["/static/css/account/pagelet/billing_tab-vflLgXCS8.css","/static/css/plan_management-vfl6KnLr0.css"])})),define("modules/clean/account_page/widgets/billing/action_creators",["require","exports","tslib","modules/clean/account_page/widgets/billing/api","modules/clean/account_page/util"],(function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDataIfNecessary=function(e){var t=this;return void 0===e&&(e=!1),function(i,s){return a.__awaiter(t,void 0,void 0,(function(){var t;return a.__generator(this,(function(a){switch(a.label){case 0:return"never_loaded"===s().billingInfo.loadingState||e?(i({type:"billing_info_load"}),[4,n.getBillingInfo(r.getCurrentUser().id)]):[3,2];case 1:return t=a.sent(),i({type:"billing_info_loaded",billingInfo:t}),[2,!0];case 2:return[2,!1]}}))}))}}})),define("modules/clean/account_page/widgets/billing/api",["require","exports","modules/clean/ajax_as_promised"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBillingInfo=function(e){return a.WebRequest({url:"/account/ajax_billing_tab_model",subject_user:e,dataType:"json"})}})),define("modules/clean/account_page/widgets/billing/billing_history/api",["require","exports","tslib","modules/clean/ajax_as_promised"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBillingHistory=function(e,t,r,i){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(a){return[2,n.WebRequest({url:"/account/ajax_load_more_billing_history/",data:{block:t,filter_type:r,filter_change:i},subject_user:e,dataType:"json"})]}))}))}})),define("modules/clean/account_page/widgets/billing/billing_history/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"})(t.BillingHistoryOrder||(t.BillingHistoryOrder={}))})),define("modules/clean/account_page/widgets/billing/views/billing_history",["require","exports","tslib","react","modules/core/i18n","modules/clean/account_page/util","modules/clean/teams/admin/widgets/billing_history/billing_history_table","modules/clean/teams/admin/lib/billing_history","modules/clean/analytics","modules/clean/account_page/widgets/billing/billing_history/api","modules/clean/account_page/widgets/billing/billing_history/types","modules/clean/static_urls"],(function(e,t,a,n,r,i,s,o,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=(function(e){function t(t){var n=e.call(this,t)||this;return n.loadMoreBillingHistory=function(e){return a.__awaiter(n,void 0,void 0,(function(){var t;return a.__generator(this,(function(a){switch(a.label){case 0:return this.setState({isLoading:!0}),l.ProEventsLogger.log("de_billing_history_view_more_click"),e.preventDefault(),[4,d.getBillingHistory(i.getCurrentUser().id,this.state.numBlocksLoaded,this.state.filter,!1)];case 1:return t=a.sent(),this.setState((function(e){return{transactions:e.isInitialLoad?t.transactions:e.transactions.concat(t.transactions),hasMore:t.hasMore,isLoading:!1,numBlocksLoaded:e.numBlocksLoaded+1,isInitialLoad:!1}})),[2,!1]}}))}))},n.changeFilter=function(e){return a.__awaiter(n,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(a){switch(a.label){case 0:return this.setState({isLoading:!0,filter:e}),l.ProEventsLogger.log("de_billing_history_change_filter_click"),[4,d.getBillingHistory(i.getCurrentUser().id,this.state.numBlocksLoaded,e,!0)];case 1:return t=a.sent(),this.state.isInitialLoad&&(n=o.getHistoryData(t.transactions),t.hasMore=n.length>3),this.setState((function(e){return{transactions:t.transactions,hasMore:t.hasMore,isLoading:!1,numBlocksLoaded:e.numBlocksLoaded,isInitialLoad:e.isInitialLoad}})),[2,!1]}}))}))},n.changeOrder=function(){n.setState((function(e){return{order:e.order===u.BillingHistoryOrder.ASCENDING?u.BillingHistoryOrder.DESCENDING:u.BillingHistoryOrder.ASCENDING}})),l.ProEventsLogger.log("de_billing_history_change_order_click")},n.handlePopoverSelection=function(e){n.state.filter!==e&&n.state.order!==e&&(e===u.BillingHistoryOrder.ASCENDING||e===u.BillingHistoryOrder.DESCENDING?n.changeOrder():n.changeFilter(e))},n.state={transactions:n.props.transactions?n.props.transactions.slice():[],hasMore:n.props.hasMore,isLoading:!1,numBlocksLoaded:0,isInitialLoad:!0,filter:"all_time",order:u.BillingHistoryOrder.ASCENDING},n}return a.__extends(t,e),t.prototype.render=function(){return n.default.createElement("div",{className:"account-page-block"},n.default.createElement("span",{className:"account-page-block__heading"},r._("Billing history")),n.default.createElement("p",{className:"account-page-block__subtext"},r._("View invoices and receipts for all payments made on your Dropbox account.")),n.default.createElement("div",{className:"billing-table-container"},n.default.createElement(s.BillingHistoryTable,{billingHistoryRecords:this.getHistory(),amountLabel:r._("Amount"),displayNoTransactionsOnEmptyRecords:!0,showEditInvoiceModal:this.props.showEditInvoiceModal,noTransactionLabel:r._("No transaction history"),footer:this.buildFooter(),logAccountBillingTabEvents:!0,isTeam:!1,filter:this.state.filter,order:this.state.order,onSelection:this.handlePopoverSelection,filters:this.props.filters})))},t.prototype.getHistory=function(){var e=[];return this.state.transactions.length>0&&(e=o.getHistoryData(this.state.transactions),this.state.isInitialLoad&&(e=e.slice(0,3))),this.state.order===u.BillingHistoryOrder.ASCENDING?e:e.reverse()},t.prototype.buildFooter=function(){return this.state.isLoading?n.default.createElement("tr",{className:"billing-history-row"},n.default.createElement("td",{colSpan:4,className:"billing-history-col"},n.default.createElement("img",{src:c.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:r._("Loading")}))):this.state.hasMore?n.default.createElement("tr",{className:"billing-history-row"},n.default.createElement("td",{colSpan:4,className:"billing-history-col"},n.default.createElement("a",{href:"#",rel:"noopener noreferrer",onClick:this.loadMoreBillingHistory},r._("View more billing history")))):void 0},t})((n=a.__importDefault(n)).default.Component);t.BillingHistory=p})),define("modules/clean/account_page/widgets/billing/views/license_keys",["require","exports","tslib","modules/core/i18n","modules/core/browser","react","modules/clean/react/css","modules/clean/account_page/components/account_table","modules/clean/account_page/components/key_value_block"],(function(e,t,a,n,r,i,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importStar(r);var d=(function(e){function t(t){var a=e.call(this,t)||this;return a.licenseRowsIncrement=3,a.handleRedeemClick=function(){r.redirect("/pro/redeem_key")},a.buildLicenseFooter=function(){if(a.state.showViewMore)return i.default.createElement("tr",{className:"license-footer-row"},i.default.createElement("td",{colSpan:4},i.default.createElement("a",{onClick:a.showMoreLicense,href:"",rel:"noopener noreferrer"},n._("View more license keys"))))},a.showMoreLicense=function(e){e.preventDefault(),a.setState((function(e,t){var n=e.maxShow+a.licenseRowsIncrement;return{maxShow:n,showViewMore:n<t.licenseKeys.length}}))},a.buildStatus=function(e){return e.activated?n._("Activated on %(activated_date)s").format({activated_date:e.activated_date}):n._("Scheduled for future use")},a.buildDuration=function(e){return e.duration?e.duration:n._("N/A")},a.buildLicenseKeyTable=function(){var e=a.props.licenseKeys;if(0!==e.length)return i.default.createElement("div",{className:"license-table-container"},i.default.createElement(o.Table,{className:"license-table"},i.default.createElement(o.TableHead,null,i.default.createElement(o.HeaderRow,{className:"license-header-row"},i.default.createElement(o.HeaderCell,{className:"license-key-header"},n._("Key")),i.default.createElement(o.HeaderCell,{className:"license-redeemed-header"},n._("Redeemed")),i.default.createElement(o.HeaderCell,{className:"license-duration-header"},n._("Duration")),i.default.createElement(o.HeaderCell,{className:"license-status-header"},n._("Status")))),i.default.createElement(o.TableFooter,{className:"license-footer"},a.buildLicenseFooter()),i.default.createElement(o.TableBody,null,e.map((function(e,t){if(!(t>=a.state.maxShow))return i.default.createElement(o.BodyRow,{className:"license-body-row "+(e.activated?"activated":"unused"),key:e.key},i.default.createElement(o.BodyCell,{className:"license-key"},e.key),i.default.createElement(o.BodyCell,{className:"license-redeemded"},e.redeemed_date),i.default.createElement(o.BodyCell,{className:"license-duration"},a.buildDuration(e)),i.default.createElement(o.BodyCell,{className:"license-status"},a.buildStatus(e)))})))))},a.state={maxShow:3,showViewMore:!1},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.setState((function(e,t){return{showViewMore:e.maxShow<t.licenseKeys.length}}))},t.prototype.render=function(){return i.default.createElement("div",{className:"license-keys"},i.default.createElement(l.KeyValueBlock,{className:"redeem-license-key",keyText:n._("License keys"),linkText:n._("Redeem a license key"),onLinkClick:this.handleRedeemClick,subtext:n._("License keys will be applied before any other form of payment method")}),this.buildLicenseKeyTable())},t})((i=a.__importDefault(i)).default.Component);t.LicenseKeys=s.requireCssWithComponent(d,["/static/css/account/pagelet/license_keys-vflkxBQHC.css"])})),define("modules/clean/account_page/widgets/billing/views/invoice_details",["require","exports","tslib","react","modules/core/i18n","modules/clean/account_page/components/key_value_block","modules/clean/payments/validation"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.country_code,a=e.has_invoice_details,o=r._("Add details to your invoice, such as company name and address.");t&&s.hasVat(t)&&(o=r._("Add details to your invoice, such as company name, address, and VAT ID."));var l=a?r._("Update"):r._("Add invoice details");return n.default.createElement(i.KeyValueBlock,{keyText:r._("Invoice details"),linkText:l,subtext:o,onLinkClick:this.props.onLinkClick})},t})((n=a.__importDefault(n)).default.Component);t.InvoiceDetails=o})),define("modules/clean/account_page/widgets/plan/action_creators",["require","exports","tslib","modules/clean/account_page/widgets/plan/api","modules/clean/account_page/util"],(function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDataIfNecessary=function(e,t){var i=this;return function(s,o){return a.__awaiter(i,void 0,void 0,(function(){var i;return a.__generator(this,(function(a){switch(a.label){case 0:return"never_loaded"===o().planTab.loadingState||e?(t||s({type:"plan_tab_load_info"}),[4,n.getPlanInfo(r.getCurrentUser().id)]):[3,2];case 1:return i=a.sent(),s({type:"plan_tab_info_loaded",planInfo:i}),[2,!0];case 2:return[2,!1]}}))}))}}})),define("modules/clean/account_page/widgets/plan/add_ons/action_creators",["require","exports","tslib","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/add_ons/api"],(function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadEvhInfoIfNecessary=function(e){var t=this;return function(i,s){return a.__awaiter(t,void 0,void 0,(function(){var t;return a.__generator(this,(function(a){switch(a.label){case 0:return"never_loaded"===s().planTab.evhLoadingState||e?(i({type:"load_evh_info"}),[4,r.getEvhInfo(n.getCurrentUser().id)]):[3,2];case 1:return t=a.sent(),i({type:"evh_info_loaded",evhInfo:t}),[2,!0];case 2:return[2,!1]}}))}))}}})),define("modules/clean/account_page/widgets/plan/add_ons/api",["require","exports","tslib","modules/clean/ajax_as_promised"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEvhInfo=function(e){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(t){return[2,n.WebRequest({url:"/account/ajax_get_evh_info",subject_user:e,dataType:"json"})]}))}))}})),define("modules/clean/account_page/widgets/plan/api",["require","exports","tslib","modules/clean/ajax_as_promised"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlanInfo=function(e){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(t){return[2,n.WebRequest({url:"/account/ajax_plan_tab_model",subject_user:e,dataType:"json"})]}))}))}})),define("modules/clean/account_page/widgets/plan/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANGE_IND_PLAN_MODAL_UPDATED="change_inv_plan_modal:updated"})),define("modules/clean/account_page/widgets/plan/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.MONTHLY=1]="MONTHLY",e[e.YEARLY=2]="YEARLY",e[e.PLUS=3]="PLUS",e[e.PROFESSIONAL=4]="PROFESSIONAL",e[e.ADD_EVH=5]="ADD_EVH",e[e.REMOVE_EVH=6]="REMOVE_EVH"})(t.PerformPlanTransition||(t.PerformPlanTransition={}))})),define("modules/clean/account_page/widgets/plan/views/basic_plan_status",["require","exports","tslib","react","modules/core/browser","modules/core/i18n","modules/clean/static_urls","modules/clean/analytics","modules/clean/bem","modules/constants/trademark"],(function(e,t,a,n,r,i,s,o,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r);var u=l.bem("plan-status-section"),c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleUpgradeClick=function(){o.ProEventsLogger.log("de_general_tab_upgrade_to_plus_click",{},(function(){r.redirect("/upgrade?oqa=acc_general_upgrade")}))},t}return a.__extends(t,e),t.prototype.defaultUpgradePlanButton=function(){return n.default.createElement("div",{className:u("upgrade_btn")},n.default.createElement("button",{className:"button-primary",onClick:this.handleUpgradeClick},i._("Upgrade")))},t.prototype.renderDropboxLogo=function(){return n.default.createElement("div",{className:u("icon")},n.default.createElement("img",{src:s.static_url("/static/images/logo_catalog/dropbox-business-icon_m1-vflczuza3.svg"),alt:i._("Dropbox logo")}))},t.prototype.render=function(){var e=this.props,t=e.planName,a=e.plansUrl,r=e.limitedTeam,s=e.upgradePlanButton;return n.default.createElement("div",{className:u("")},this.renderDropboxLogo(),n.default.createElement("div",{className:u("description")},n.default.createElement("h1",{className:u("title")},t),r,n.default.createElement("a",{className:u("link"),href:a,target:"_blank",rel:"noopener noreferrer"},i._("See other plans"))),s||this.defaultUpgradePlanButton())},t.defaultProps={planName:d.DROPBOX_BASIC,plansUrl:"/plans?oqa=acc_general_upgrade"},t})(n.default.Component);t.BasicPlanStatusSection=c})),define("modules/clean/account_page/widgets/plan/views/billing_summary",["require","exports","tslib","react","modules/core/i18n","modules/clean/analytics","modules/clean/react_format","modules/clean/payments/cash","modules/clean/payments/skus/constants","modules/clean/account_page/components/key_value_block","modules/clean/account_page/widgets/billing/payment_methods_util"],(function(e,t,a,n,r,i,s,o,l,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCtaClick=function(e){e.preventDefault(),i.ProEventsLogger.log("de_plan_tab_change_billing_open_modal"),t.props.onCtaClick()},t}return a.__extends(t,e),t.prototype.isBillingScheduleToChange=function(){var e=this.props.subStatus;return!(!e.subState.billingSchedule||!e.finalSubState.billingSchedule)&&e.subState.billingSchedule.id!==e.finalSubState.billingSchedule.id},t.prototype.getBillingStrings=function(e,t){return e===l.ScheduleId.MONTHLY?{ctaText:r._("Save up to %(save_percentage)s with yearly billing").format({save_percentage:r.format_percent(17)}),subText:r._("billed monthly"),billingSummary:s.reactFormat(r._("<b>%(total)s</b> per month"),{b:n.default.createElement("b",null),total:o.Cash.formatWithTaxLabels(t.total,t)})}:{ctaText:r._("Switch to monthly billing"),subText:r._("billed yearly"),billingSummary:s.reactFormat(r._("<b>%(total)s</b> per month"),{b:n.default.createElement("b",null),total:o.Cash.formatWithTaxLabels(t.total.divide(12),t)})}},t.prototype.render=function(){var e,t=this.props,a=t.subStatus,r=t.paymentInfo;return a.scheduledSubState&&a.subState.plan?u.shouldHideBillingSummary(r.gateway_id,a.subState.plan.productType)||u.shouldHideBillingChange(r.gateway_id,r.is_reseller_billing)?null:(a.currentBillingSummary&&a.subState.billingSchedule&&(e=this.getBillingStrings(a.subState.billingSchedule.id,a.currentBillingSummary)),this.isBillingScheduleToChange()&&a.nextBillingSummary&&a.scheduledSubState&&a.scheduledSubState.plan&&a.scheduledSubState.billingSchedule&&(e=this.getBillingStrings(a.scheduledSubState.billingSchedule.id,a.nextBillingSummary)),e?n.default.createElement(d.KeyValueBlock,{className:"billing-summary-key-value",keyText:e.billingSummary,linkText:e.ctaText,onLinkClick:this.handleCtaClick,subtext:e.subText}):null):null},t})((n=a.__importDefault(n)).default.Component);t.BillingSummary=c})),define("modules/clean/account_page/widgets/plan/views/cancel_changes_modal",["require","exports","tslib","react","modules/clean/ajax","modules/clean/account_page/widgets/plan/constants","modules/clean/teams/admin/widgets/billing_notifications/cancel_billing_changes_modal","modules/clean/react/modal","modules/clean/analytics","modules/clean/payments/skus/constants","modules/clean/payments/skus/subscription_service","modules/constants/trademark","modules/core/i18n","modules/clean/dbmodal_stack","modules/clean/account_page/util","modules/core/notify","modules/clean/react_format","modules/clean/account_page/widgets/plan/views/change_confirmation_modal"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r);var y=(function(e){function t(t){var a=e.call(this,t)||this;return a.onAccept=function(){var e=a.props.cancellationType;a.cancelScheduledChange(e)},a.closeModals=function(){a.props.shouldShowRedesignedModal?a.setState({open:!1}):o.Modal.close()},new u.SubscriptionService,a.state={submitting:!1,open:!0},a}return a.__extends(t,e),t.showInstance=function(e){o.Modal.showInstance(n.default.createElement(t,a.__assign({},e)))},t.prototype.submittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!0})}))},t.prototype.doneSubmittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!1})}))},t.prototype.cancelScheduledChange=function(e){var t=this,a=this.props,n=a.transitionPerformed,o=a.shouldLogCancelPlanChange,u=a.shouldLogCancelBillingChange,c=a.subStatus;this.submittingRequest();var f=c.subState.billingSchedule.id===d.ScheduleId.MONTHLY?"monthly":"yearly",g="";c.finalSubState.billingSchedule&&(g=c.finalSubState.billingSchedule.id===d.ScheduleId.MONTHLY?"monthly":"yearly"),r.WebRequest({url:"/account/ajax_cancel_scheduled_change",data:{scheduled_change_type:e},subject_user:m.getCurrentUser().id,success:function(a){h.Notify.success(p._("You’ve cancelled your change!")),e===s.CancellationType.SCHEDULE&&(l.ProEventsLogger.log("de_change_billing_cancel_change"),u&&l.ProEventsLogger.log("scheduled_billing_change_prompt_click_confirmed",{cta:"cancel_change_confirm",currentBillingSchedule:f,nextBillingSchedule:g})),e===s.CancellationType.EVH_ADDON&&l.ProEventsLogger.log("de_evh_modal_cancel_change"),e===s.CancellationType.PLAN&&o&&l.ProEventsLogger.log("scheduled_plan_change_prompt_click_confirmed",{cta:"cancel_change_confirm"}),n&&n(),t.doneSubmittingRequest(),t.closeModals(),t.props.reOpenModalDialogAfterCancellation&&_.DBModalStack.trigger(i.CHANGE_IND_PLAN_MODAL_UPDATED,null)},error:function(){h.Notify.error(p._("Failed to cancel changes.")),t.doneSubmittingRequest(),t.closeModals(),t.props.reOpenModalDialogAfterCancellation&&_.DBModalStack.trigger(i.CHANGE_IND_PLAN_MODAL_UPDATED,null)}})},t.prototype.render=function(){var e,t=this.props,a=t.cancellationType,r=t.subStatus,i=t.indivChurnSurveyLogData,l=t.shouldShowRedesignedModal,u=this.state,_=u.open,m=u.submitting;if(!r.subState.plan||!r.subState.billingSchedule)return n.default.createElement("noscript",null);var h=p._("Confirm cancelling change");switch(a){case s.CancellationType.PLAN:e=r.finalSubState.billingSchedule.id===d.ScheduleId.YEARLY?f.reactFormat(p._("You’re cancelling your scheduled plan change. Your Dropbox %(plan)s plan           will renew on <span>%(date)s</span> and you will be billed yearly.").format({trademark_plus:c.TRADEMARK_PLUS,plan:r.subState.plan.displayName(),date:r.subState.formattedNextBillingDate}),{span:l?n.default.createElement("strong",null):n.default.createElement("span",null)}):f.reactFormat(p._("You’re cancelling your scheduled plan change. Your Dropbox %(plan)s plan           will renew on <span>%(date)s</span> and you will be billed monthly.").format({trademark_plus:c.TRADEMARK_PLUS,plan:r.subState.plan.displayName(),date:r.subState.formattedNextBillingDate}),{span:l?n.default.createElement("strong",null):n.default.createElement("span",null)});break;case s.CancellationType.SCHEDULE:e=r.subState.billingSchedule.id===d.ScheduleId.YEARLY?f.reactFormat(p._("You’re cancelling your scheduled billing change. Your Dropbox %(plan)s plan           will renew on <span>%(date)s</span> and you will be billed yearly.").format({plan:r.finalSubState.plan.displayName(),date:r.subState.formattedNextBillingDate}),{span:l?n.default.createElement("strong",null):n.default.createElement("span",null)}):f.reactFormat(p._("You’re cancelling your scheduled billing change. Your Dropbox %(plan)s plan           will renew on <span>%(date)s</span> and you will be billed monthly.").format({plan:r.finalSubState.plan.displayName(),date:r.subState.formattedNextBillingDate}),{span:l?n.default.createElement("strong",null):n.default.createElement("span",null)});break;case s.CancellationType.EVH_ADDON:e=p._("You’re cancelling your EVH changes. Your Dropbox %(plan)s plan           will renew on %(date)s and you will be billed %(schedule)s.").format({plan:r.finalSubState.plan.displayName(),date:r.subState.formattedNextBillingDate,schedule:r.finalSubState.billingSchedule.scheduleDescriptionAdjective});break;case s.CancellationType.IND_SUBSCRIPTION:h=p._("Confirmation"),e=p._("By confirming, your downgrade to Dropbox Basic scheduled change will be cancelled.");break;case s.CancellationType.ALL:h=p._("Confirmation"),e=p._("By confirming, all existing scheduled changes will be cancelled.");break;default:h=p._("Confirmation"),e=p._("By confirming, the scheduled change will be cancelled.")}return l?n.default.createElement(g.ChangeConfirmationModal,{acceptButtonDisabled:m,acceptButtonText:p._("Confirm"),dismissButtonText:p._("Don’t cancel"),loadingContent:!1,onAccept:this.onAccept,onDismiss:this.closeModals,open:_,text:e,title:h,indivChurnSurveyLogData:i}):n.default.createElement(o.Modal,{acceptButtonDisabled:m,acceptButtonText:p._("Confirm"),autoClose:!1,dismissButtonText:p._("Don’t cancel"),onAccept:this.onAccept,title:h,id:"cancel-changes-modal",submitting:m},n.default.createElement("p",null,e))},t})(n.default.Component);t.CancelChangesModalConfirmationView=y})),define("modules/clean/account_page/widgets/plan/views/cancel_plan",["require","exports","tslib","react","modules/core/uri","modules/core/i18n","modules/clean/display_format","modules/clean/react_format","modules/clean/payments/skus/constants","modules/clean/analytics","modules/clean/payments/skus/sku_content","modules/core/browser","spectrum/button","modules/clean/react/trials/components/shared/types","modules/clean/react/trials/components/shared/logging","modules/clean/account_page/components/key_value_block","modules/clean/stormcrow/experiment"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),c=a.__importStar(c);var g=(function(t){function g(){var n=null!==t&&t.apply(this,arguments)||this;return n.handleCancelPlanClick=function(t){t.preventDefault();var r=n.props.experiments.plusToProTrialVariant;d.ProEventsLogger.log("de_cancel_plan_subscription_click",{},(function(){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return"ON"!==r?[3,2]:(m.logClick(_.FlowType.IN_TRIAL,_.ButtonType.CANCEL_PLAN,_.ScreenType.ACCOUNT_PLAN,{},void 0,!0),[4,new Promise((function(t,a){e(["modules/clean/account_page/widgets/plan/views/plus_to_pro_trial/offboarding/cancel_plus_with_pro_trial_info_modal"],t,a)})).then(a.__importStar)]);case 1:return(0,t.sent().showCancelPlusWithProTrialInfoModal)(this.cancelURL),[2];case 2:return this.props.onClick?this.props.onClick():c.redirect(this.cancelURL),[2]}}))}))}))},n}return a.__extends(g,t),Object.defineProperty(g.prototype,"quota",{get:function(){return this.props.usageBreakdown.quota||.01},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"cancelURL",{get:function(){return new r.URI({path:"/downgrade",query:{oqa:"acc_cancel"}}).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"cancelLink",{get:function(){return this.props.onClick?n.default.createElement(p.Button,{variant:"secondary",size:"large",onClick:this.handleCancelPlanClick},i._("Cancel plan")):n.default.createElement("a",{href:"#",onClick:this.handleCancelPlanClick},i._("Cancel plan"))},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"cancelHeader",{get:function(){var e=this.props,t=e.subStatus,a=e.eligibleFor1tb;return t&&t.subState&&t.subState.plan?i._("Cancel %(plan)s plan").format({plan:t.subState.plan.displayName(a)}):null},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"cancelDescription",{get:function(){var e=this.props.basicSkuContent,t=u.SkuContentClient.deserialize(e);return i._("If you cancel your plan, your account will drop from %(quota)s     to %(basic_space_short_form_gb)s of space (plus any bonus space earned previously)").format({quota:s.format_bytes(this.quota),basic_space_short_form_gb:t.spaceShortFormGb()})},enumerable:!0,configurable:!0}),g.prototype.render=function(){var e=this.props,t=e.subStatus,a=e.experiments.expRetentionAccountWayfinding;if(!t||!t.subState.plan||t.subState.plan.productType===l.ProductPlanType.FREE)return n.default.createElement("noscript",null);if(f.Experiment(a).isActive){var r=f.Experiment(a).variantIs("V1")?o.reactFormat(i._("Renews <b>%(date)s</b>"),{b:n.default.createElement("b",null),date:t.formattedNextBillingDate}):i._("Renews on %(date)s").format({date:t.formattedNextBillingDate});return n.default.createElement(h.KeyValueBlock,{className:"cancel-plan-key-value",keyText:r,linkText:i._("Cancel plan"),onLinkClick:this.handleCancelPlanClick})}return n.default.createElement("div",{className:"cancel-plan"},n.default.createElement("span",{className:"cancel-plan__header"},this.cancelHeader),n.default.createElement("div",null,n.default.createElement("p",{className:"cancel-plan__desc"},this.cancelDescription),n.default.createElement("span",{className:"cancel-plan__downgrade-link"},this.cancelLink)))},g})(n.default.Component);t.CancelPlan=g})),define("modules/clean/account_page/widgets/plan/views/cancel_subs_warning_modal",["require","exports","tslib","modules/clean/ajax","modules/clean/react/css","modules/core/notify","react","modules/core/i18n","modules/clean/account_page/util","modules/clean/static_urls","modules/clean/react_format","modules/clean/teams/admin/widgets/billing_notifications/cancel_billing_changes_modal","modules/clean/react/modal","spectrum/button","modules/clean/account_page/widgets/plan/views/change_confirmation_modal"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var h=(function(e){function t(t){var a=e.call(this,t)||this;return a.closeModals=function(){a.props.shouldShowRedesignedModal?a.setState({open:!1}):p.Modal.close()},a.onDismiss=function(e){e.preventDefault(),a.closeModals()},a.onAccept=function(){a.cancelScheduledChange()},a.state={submitting:!1,open:!0},a}return a.__extends(t,e),t.showInstance=function(e){p.Modal.showInstance(s.default.createElement(t.cancelChangesModalConfirmationView,a.__assign({},e)))},t.prototype.submittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!0})}))},t.prototype.doneSubmittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!1})}))},t.prototype.cancelScheduledChange=function(){var e=this,t=this.props,a=t.transitionPerformed,r=t.userIdOverride,s=null;s=r||l.getCurrentUser().id,this.submittingRequest(),n.WebRequest({url:"/account/ajax_cancel_scheduled_change",data:{scheduled_change_type:c.CancellationType.IND_SUBSCRIPTION},subject_user:s,success:function(t){i.Notify.success(o._("You’ve cancelled your change!")),a&&a(),e.doneSubmittingRequest(),e.closeModals()},error:function(){i.Notify.error(o._("Failed to cancel changes.")),e.doneSubmittingRequest(),e.closeModals()}})},t.prototype.render=function(){var e=this.props,t=e.subStatus,a=e.shouldShowRedesignedModal,n=this.state,r=n.submitting,i=n.open;if(!t)return s.default.createElement("noscript",null);var l=s.default.createElement("div",{className:"loading-indicator"},s.default.createElement("img",{src:d.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:o._("Loading")})),c=r?l:s.default.createElement("div",null,s.default.createElement("div",{className:"cancel-subscription-warning-modal__cancel-btn"},s.default.createElement(_.Button,{variant:"primary",onClick:this.onAccept,disabled:r},o._("Cancel downgrade"))),s.default.createElement("div",{className:"cancel-subscription-warning-modal__dismiss-btn"},s.default.createElement("a",{href:"#",onClick:this.onDismiss},o._("Dismiss")))),h=o._("Plan downgrade scheduled"),f=u.reactFormat(o._("Your plan is scheduled to be downgraded to Dropbox Basic on <span>%(date)s</span>.               If you want to make any changes, first cancel your scheduled downgrade.").format({date:t.subState.formattedNextBillingDate}),{span:a?s.default.createElement("strong",null):s.default.createElement("span",null)});return a?s.default.createElement(m.ChangeConfirmationModal,{acceptButtonDisabled:r,acceptButtonText:o._("Cancel downgrade"),dismissButtonText:o._("Dismiss"),loadingContent:!1,onAccept:this.onAccept,onDismiss:this.closeModals,open:i,text:f,title:h}):s.default.createElement(p.Modal,{acceptButtonDisabled:this.state.submitting,autoClose:!1,className:"cancel-subscription-warning-modal",buttonComponent:s.default.createElement(p.ModalButtons,null),submitting:this.state.submitting},s.default.createElement("div",null,s.default.createElement("p",{className:"cancel-subscription-warning-modal__title"},h),s.default.createElement("p",{className:"cancel-subscription-warning-modal__desc"},f),c))},t.cancelChangesModalConfirmationView=r.requireCssWithComponent(t,["/static/css/account/pagelet/cancel_subs_warning-vfl-s2mqh.css"]),t})((s=a.__importDefault(s)).default.Component);t.CancelChangesModalConfirmation=h})),define("modules/clean/account_page/widgets/plan/views/cancellable_notifications_view",["require","exports","tslib","react","react-dom-factories","modules/clean/react/css","modules/core/i18n","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/teams/admin/widgets/billing_notifications/cancellable_item","modules/clean/teams/admin/widgets/billing_notifications/cancel_billing_changes_modal","modules/clean/payments/skus/constants","modules/clean/react_format","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/cancel_changes_modal","modules/clean/analytics","modules/clean/stormcrow/experiment"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r);var f=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCancelSubscriptionAction=function(){t.handleCancelActions(d.CancellationType.IND_SUBSCRIPTION)},t.handleCancelPlanAction=function(){t.shouldLogScheduledProToPlusChange()&&m.ProEventsLogger.log("scheduled_plan_change_prompt_click",{cta:"cancel_change"}),t.handleCancelActions(d.CancellationType.PLAN)},t.handleCancelScheduleAction=function(){t.shouldLogScheduledBillingChange()&&m.ProEventsLogger.log("scheduled_billing_change_prompt_click",{cta:"cancel_change",currentBillingSchedule:t.props.subStatus.subState.billingSchedule.id===u.ScheduleId.MONTHLY?"monthly":"yearly",nextBillingSchedule:t.props.subStatus.scheduledSubState.billingSchedule.id===u.ScheduleId.MONTHLY?"monthly":"yearly"}),t.handleCancelActions(d.CancellationType.SCHEDULE)},t.handleCancelEvhAction=function(){t.handleCancelActions(d.CancellationType.EVH_ADDON)},t.handleCancelActions=function(e){var a=t.props,n=a.subStatus,r=a.transitionPerformed,i=a.reOpenModalDialogAfterCancellation,s=a.shouldShowRedesignedModal;n&&_.CancelChangesModalConfirmationView.showInstance({subStatus:n,transitionPerformed:r,cancellationType:e,reOpenModalDialogAfterCancellation:i,shouldLogCancelPlanChange:t.shouldLogScheduledProToPlusChange(),shouldLogCancelBillingChange:t.shouldLogScheduledBillingChange(),shouldShowRedesignedModal:s})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.shouldLogScheduledProToPlusChange()&&m.ProEventsLogger.log("scheduled_plan_change_prompt_view"),this.shouldLogScheduledBillingChange()&&m.ProEventsLogger.log("scheduled_billing_change_prompt_view",{currentBillingSchedule:this.props.subStatus.subState.billingSchedule.id===u.ScheduleId.MONTHLY?"monthly":"yearly",nextBillingSchedule:this.props.subStatus.scheduledSubState.billingSchedule.id===u.ScheduleId.MONTHLY?"monthly":"yearly"})},t.prototype.renderCancelSubscriptionNotification=function(){var e=this.props,t=e.subStatus,a=e.scheduledForDowngrade;if(t)return a?n.default.createElement(l.CancellableItemView,{title:s._("Scheduled plan change"),description:s._("Dropbox Basic"),handleAction:this.handleCancelSubscriptionAction,useCTA:!0}):void 0},t.prototype.shouldRenderDowngradePlanNotif=function(){var e=this.props,t=e.subStatus,a=e.scheduledForDowngrade;if(!t||a)return!1;var n=t.scheduledSubState;if(!n)return!1;var r=t.subState.plan,i=n.plan;return!(!r||!i)&&(r.productType!==i.productType||r.productType===i.productType&&r.productSpec!==i.productSpec)},t.prototype.shouldRenderBillingChangeNotif=function(){var e=this.props,t=e.subStatus,a=e.scheduledForDowngrade;if(!t||a)return!1;var n=t.scheduledSubState;return!!(n&&n.billingSchedule&&t.subState.billingSchedule)&&t.subState.billingSchedule.id!==n.billingSchedule.id},t.prototype.shouldLogScheduledProToPlusChange=function(){if(this.props.expRetentionIndivChurnSurveyV2&&this.shouldRenderDowngradePlanNotif()){var e=this.props.subStatus.subState.plan,t=this.props.subStatus.scheduledSubState.plan;return e.productType===u.ProductPlanType.PROFESSIONAL&&t.productType===u.ProductPlanType.PLUS}return!1},t.prototype.shouldLogScheduledBillingChange=function(){return Boolean(this.props.expRetentionIndivChurnSurveyV2)&&this.shouldRenderBillingChangeNotif()},t.prototype.renderDowngradePlanNotification=function(){if(this.shouldRenderDowngradePlanNotif()){var e=this.props.subStatus.scheduledSubState.plan,t=s._("Dropbox %(scheduled_plan)s").format({trademark_plus:p.TRADEMARK_PLUS,scheduled_plan:e.displayName()});return n.default.createElement(l.CancellableItemView,{title:s._("Scheduled plan change"),description:t,handleAction:this.handleCancelPlanAction,useCTA:!0,className:"cancel-plan-schedule"})}},t.prototype.renderScheduledChange=function(){if(this.shouldRenderBillingChangeNotif()){var e=this.props.subStatus.scheduledSubState.billingSchedule.scheduleDescriptionAdjective;return n.default.createElement(l.CancellableItemView,{title:s._("Scheduled billing period"),description:s._("%(billing)s billing").format({billing:e.charAt(0).toUpperCase()+e.slice(1)}),handleAction:this.handleCancelScheduleAction,useCTA:!0,className:"cancel-billing-schedule"})}},t.prototype.renderEvhChange=function(){var e=this.props,t=e.subStatus,a=e.scheduledForDowngrade;if(t&&!a){var r=t.scheduledSubState;if(r)return t.subState.addons.skus.length>0&&1===t.subState.quantityForEvhAddOn()&&0===r.quantityForEvhAddOn()?n.default.createElement(l.CancellableItemView,{title:s._("Scheduled add-on change"),description:s._("Remove extended version history"),handleAction:this.handleCancelEvhAction,useCTA:!0,className:"cancel-evh-schedule"}):void 0}},t.prototype.appendAllCancellationTypes=function(e){e.push(this.renderCancelSubscriptionNotification()),e.push(this.renderDowngradePlanNotification()),e.push(this.renderScheduledChange()),e.push(this.renderEvhChange())},t.prototype.render=function(){var e=this.props,t=e.displaySingleChangeCancellationItem,a=e.scheduledForDowngrade,i=e.subStatus,l=e.paymentInfo,p=e.hasLicenseKey,_=e.displayNewTotal,m=e.expRetentionAccountWayfinding;if(!i)return n.default.createElement("noscript",null);if(!l||o.shouldHideBillingChange(l.gateway_id,l.is_reseller_billing))return n.default.createElement("noscript",null);var f=[];if(!i.finalSubState.plan&&!h.Experiment(m).isActive)return n.default.createElement("noscript",null);if(t)switch(t){case d.CancellationType.IND_SUBSCRIPTION:f.push(this.renderCancelSubscriptionNotification());break;case d.CancellationType.PLAN:f.push(this.renderDowngradePlanNotification());break;case d.CancellationType.SCHEDULE:f.push(this.renderScheduledChange());break;case d.CancellationType.EVH_ADDON:f.push(this.renderEvhChange());break;case d.CancellationType.ALL:this.appendAllCancellationTypes(f)}if(!(f=f.filter((function(e){return void 0!==e}))).length)return n.default.createElement("noscript",null);var g="";!a&&_&&(g=s._("Your new %(schedule)s total will be %(total)s.").format({schedule:u.productScheduleToProductScheduleDescription(i.finalSubState.plan.schedule),total:i.nextBillingSummary.total.toString()}));var y=n.default.createElement("div",{className:"cancellable-scheduled-notifications cancellable-scheduled-notifications__header"},c.reactFormat(s._("Changes are scheduled for <strong>%(date)s</strong>.").format({date:i.subState.formattedNextBillingDate}),{strong:r.strong()})," ",g);return n.default.createElement("div",{className:"cancellable-scheduled-notifications personal-cancellable-scheduled-notifications"},y,!p&&n.default.createElement("div",{className:"cancellable-scheduled-notifications cancellable-scheduled-notifications__items"},f))},t})(n.default.Component);t.CancellableNotificationsViewControl=f,t.CancellableNotificationsView=i.requireCssWithComponent(f,["/static/css/teams/admin/widgets/billing_notifications/cancellable_scheduled_notifications-vflyqlL2l.css"])})),define("modules/clean/account_page/widgets/plan/views/change_confirmation_modal",["require","exports","tslib","react","spectrum/modal","spectrum/button","modules/core/i18n","modules/clean/bem","modules/clean/static_urls","modules/clean/react/css","modules/clean/account_page/widgets/plan/views/churn_survey/utils"],(function(e,t,a,n,r,i,s,o,l,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var c=o.bem("change-confirmation-modal"),p=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleAccept=function(){var e=t.props.indivChurnSurveyLogData;e?u.logIndivChurnSurveyAction(e,u.IndivChurnSurveyLogAction.CONFIRM,t.props.onAccept):t.props.onAccept()},t.handleDismiss=function(){var e=t.props.indivChurnSurveyLogData;e?u.logIndivChurnSurveyAction(e,u.IndivChurnSurveyLogAction.CANCEL_BUTTON,t.props.onDismiss):t.props.onDismiss()},t}return a.__extends(t,e),t.prototype.render=function(){var e,t=this.props,a=t.acceptButtonDisabled,o=t.acceptButtonText,d=t.dismissButtonText,u=t.loadingContent,p=t.open,_=t.renderUpdateLink,m=t.renderVat,h=t.text,f=t.title;return e=u?n.default.createElement("div",{className:c("loading-indicator")},n.default.createElement("img",{src:l.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:s._("Loading")})):n.default.createElement("div",{className:c("")},n.default.createElement("div",{className:c("body")},n.default.createElement("div",{className:c("title")},f),n.default.createElement("div",{className:c("vat")}," ",m&&m()),n.default.createElement("div",{className:c("description")},h)),n.default.createElement("div",{className:c("footer")},n.default.createElement("div",{className:c("link")},_),n.default.createElement("div",{className:c("btns-wrapper")},n.default.createElement(i.Button,{className:c("btn-cancel"),variant:"secondary",onClick:this.handleDismiss},d),n.default.createElement(i.Button,{className:c("btn-submit"),variant:"primary",disabled:a,onClick:this.handleAccept},o)))),n.default.createElement(r.Modal,{ariaLabel:"ChangeConfirmationModal",open:p,displayCloseButton:!1,overlayClickClose:!1,onRequestClose:this.handleDismiss,width:560},e)},t})(n.default.Component);t.ChangeConfirmationModal=d.requireCssWithComponent(p,["/static/css/account/pagelet/change_confirmation_modal-vflUUq-n3.css"])})),define("modules/clean/account_page/widgets/plan/views/change_plan_modal",["require","exports","tslib","modules/core/browser","modules/core/notify","react","modules/clean/ajax","modules/clean/react/css","modules/clean/react/badge","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item","modules/clean/account_page/widgets/plan/constants","modules/constants/individual_invoice_modal","modules/clean/account_page/widgets/plan/views/cancel_changes_modal","modules/clean/payments/validation","modules/clean/account_page/widgets/plan/views/cancellable_notifications_view","modules/clean/teams/admin/widgets/billing_notifications/cancel_billing_changes_modal","modules/clean/payments/cash","modules/clean/dbmodal_stack","modules/clean/account_page/widgets/plan/views/individual_inline_payment_method","modules/clean/react/modal","modules/clean/analytics","modules/clean/payments/skus/constants","modules/clean/payments/skus/subscription_change_plan","modules/clean/payments/skus/subscription_status","modules/core/i18n","modules/clean/account_page/util","modules/clean/react_format","modules/clean/static_urls","modules/clean/react/arbor/aspen/elements/arbor_inputs","modules/clean/account_page/widgets/plan/views/pro_upsell_modal_content","modules/clean/account_page/widgets/plan/views/exp_change_plans_modal_redesign","modules/clean/react/payments/error/browser_update_required_modal","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader","modules/clean/react/payments/update_individual_billing/update_individual_store_creator","modules/clean/account_page/widgets/plan/views/exp_change_plans_modal_billboard","modules/clean/account_page/widgets/plan/views/update_billing_info_link","modules/clean/account_page/widgets/plan/views/change_confirmation_modal","modules/clean/stormcrow/experiment","classnames","modules/clean/api_v2/user_client","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/payments/three_ds_helper","modules/clean/account_page/widgets/billing/payment_method_constants","modules/clean/account_page/widgets/plan/views/churn_survey/utils","modules/core/exception","modules/clean/family/constants"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g,y,b,S,v,M,L,T,w,C,D,E,P,k,Y,N,x,A,I,R,B,O,F,U,j,V,H,W,q,z){"use strict";var G,K;Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importDefault(i),s=a.__importStar(s),F=a.__importDefault(F),q=a.__importStar(q),(function(e){e.DEFAULT="default",e.CONFIRM="confirm"})(G=t.ChangePlanMode||(t.ChangePlanMode={})),(function(e){e[e.MONTHLY=1]="MONTHLY",e[e.YEARLY=2]="YEARLY",e[e.PLUS=3]="PLUS",e[e.PROFESSIONAL=4]="PROFESSIONAL",e[e.FAMILY_PAYER=7]="FAMILY_PAYER"})(K=t.PerformPlanTransition||(t.PerformPlanTransition={}));var J=(function(e){function t(o){var l=e.call(this,o)||this;return l.onLoadTransitionsError=function(){r.Notify.error(w._("Failed to load modal.")),l.closeModals()},l.onAccept=function(){var e,t,i=l.getSubChangePlan();if(i){var o;switch(i.subState.planSku.productType){case M.ProductPlanType.PLUS:t=K.PLUS;break;case M.ProductPlanType.PROFESSIONAL:t=K.PROFESSIONAL;break;case M.ProductPlanType.FAMILY_PAYER:t=K.FAMILY_PAYER}switch(i.finalSubState.planSku.productType){case M.ProductPlanType.PLUS:case M.ProductPlanType.STANDARD:o={radio:"plus"},e=K.PLUS;break;case M.ProductPlanType.PROFESSIONAL:o={radio:"professional"},e=K.PROFESSIONAL;break;case M.ProductPlanType.FAMILY_PAYER:o={radio:"family_payer"},e=K.FAMILY_PAYER}l.setState((function(e){return{showErrors:!0}}));var d=l.state,u=d.vat,c=d.paymentMethod,p=d.threeDsData,_=d.handle3DsMessage;if(c&&c.country_code&&l.vatValidator(c.country_code,u))if(e&&t)if(l.setState((function(e){return{submitting:!0}})),O.Experiment(l.props.expMontana).isActive&&l.props.shouldApplyMontanaRetentionPolicy&&e===K.PLUS&&t===K.PROFESSIONAL&&j.MontanaLogger.logEvent("cancel_click",a.__assign({featureType:"change_plan",cta:"confirm_change"},o)),O.Experiment(l.props.expMontana).isActive&&l.props.shouldApplyMontanaRetentionPolicy&&i.subState.billingSchedule.id===M.ScheduleId.YEARLY&&e===K.PLUS&&t===K.PROFESSIONAL){var m=(new U.UserApiV2Client).ns("retention_policy").rpc("get_retention_policies_for_user",void 0,{subjectUserId:C.getCurrentUser().id}),h=function(){r.Notify.error(w._("There was an issue, please contact Customer Support.")),l.setState((function(e){return{submitting:!1}}))};m.then((function(t){var a=t.available_policies;if(a&&a.length){for(var s=-1,o=0;o<a.length;o++)if(2===a[o].policy_id){s=o;break}if(-1!==s)(new U.UserApiV2Client).ns("retention_policy").rpc("apply_retention_policy_for_user",{policy_id:2,expected_price:JSON.parse(a[s].serialized_subscription_change_plan).tvm.expected_price},{subjectUserId:C.getCurrentUser().id}).then((function(t){if(r.Notify.success(w._("You’ve changed your plan, and will be refunded the difference!")),l.removeShowModalParams(),l.logChangePlan(e),l.props.transitionPerformed&&l.props.transitionPerformed(),i.finalSubState.planSku.productType===M.ProductPlanType.PROFESSIONAL)return n.redirect("/professional_onboarding");l.closeModals(),n.reload()}),(function(e){h()}));else h()}else h()}),(function(e){h()}))}else{v.ProEventsLogger.log("de_change_plan_modal_confirm_change_click");var f={transition_change_type:e,browser_info:V.collectBrowserInfo(),three_ds_data:p};u&&(f.vat=u,v.ProEventsLogger.log("vat_provided_on_upgrade")),s.WebRequest({url:"/account/perform_personal_transition",data:f,subject_user:l.getUserId(),success:function(t){var a=JSON.parse(t);return a.redirect?n.redirect(a.redirect):(r.Notify.success(w._("You’ve changed your plan!")),l.removeShowModalParams(),l.logChangePlan(e),l.props.transitionPerformed&&l.props.transitionPerformed(),i.finalSubState.planSku.productType===M.ProductPlanType.PROFESSIONAL?n.redirect("/professional_onboarding"):i.finalSubState.planSku.productType===M.ProductPlanType.FAMILY_PAYER?n.redirect(z.FAMILY_MANAGEMENT_URI_PATH):void l.closeModals())},error:function(e,t,a){l.setState((function(e){return{submitting:!1}}));var n=!1,i=null;try{i=JSON.parse(a)}catch(e){}finally{_&&i&&(n=!0,_(i))}n||r.Notify.error(w._("There was an error changing the plan!"))}}),l.updateThreeDsData("")}else r.Notify.error(w._("There was an error changing the plan!"))}},l.updateThreeDsData=function(e){l.setState({threeDsData:e})},l.onDismiss=function(){var e=l.props,t=e.expMontana,a=e.shouldApplyMontanaRetentionPolicy,n=e.shouldShowRedesignedModal;O.Experiment(t).isActive&&a?j.MontanaLogger.logEvent("cancel_dismiss",{featureType:"change_plan"}):v.ProEventsLogger.log("de_change_plan_modal_cancel_click"),l.closeProPlansRedesignModal(),n&&l.setState({open:!1})},l.closeModals=function(){var e=l.props.shouldShowRedesignedModal;S.Modal.close(),l.closeProPlansRedesignModal(),e&&l.setState({open:!1})},l.renderVat=function(){var e=null;if(!l.vatDisplayEnabled)return e;var t=l.state,a=t.vat,n=t.paymentMethod,r=t.showErrors,s=n&&n.country_code?n.country_code:void 0;if(s){var o=m.getVatPrefix(s),d=w._("Please enter a valid VAT number, e.g. %(examples)s.").format({examples:m.getVatExamples(s).join(", ")});e=i.default.createElement(P.ArborTextInput,{name:"vat",placeholderText:o,labelText:w._("VAT number (optional)"),isValid:!r||l.vatValidator(s,a),errorText:d,value:a,onChange:l.onVatChange})}return e},l.onVatChange=function(e,t,a){var n=a;l.setState((function(e){return{vat:n,loadingChangeSummary:!0,showErrors:!1}}));var r=l.state.paymentMethod;r&&r.country_code&&l.repriceTransitions(m.validateVat(r.country_code,n)?n:"")},l.renderPaymentMethod=function(){var e=l.state,t=e.paymentMethod,a=e.expProPlansModal;if(!l.isPlanScheduledToChange())return i.default.createElement("div",{className:"upgrade-payment-method-link"},i.default.createElement(b.IndividualInlinePaymentMethodView,{paymentMethod:t,expProPlansModal:a,paymentErrorMessage:w._("Please update your billing information to change your plan."),renderUpdateLink:i.default.createElement(R.UpdateBillingInfo,{updateBillingCTA:l.updateBillingInfo})}))},l.updateBillingInfo=function(e){e.stopPropagation(),e.preventDefault(),O.Experiment(l.props.expMontana).isActive&&l.props.shouldApplyMontanaRetentionPolicy?j.MontanaLogger.logEvent("cancel_click",{featureType:"change_plan",cta:"update_billing_information"}):v.ProEventsLogger.log("de_update_billing_info_click"),S.Modal.close(),y.DBModalStack.register(A.BILLING_INFO_UPDATED,(function(){t.showInstance(l.props)})),l.props.browserUpdateRequired?N.BrowserUpdateModalLoader.showInstance():x.IndividualUpdateBillingModalLoader.showInstance()},l.handleCancelScheduleAction=function(e){l.handleCancelActions(f.CancellationType.SCHEDULE),e.preventDefault()},l.handleCancelPlanAction=function(e){e.preventDefault(),l.handleCancelActions(f.CancellationType.PLAN)},l.handleCancelActions=function(e){var t=l.state.subStatus,a=l.props,n=a.transitionPerformed,r=a.indivChurnSurveyLogData,i=a.shouldShowRedesignedModal;return t&&_.CancelChangesModalConfirmationView.showInstance({subStatus:t,transitionPerformed:n,cancellationType:e,reOpenModalDialogAfterCancellation:!i,indivChurnSurveyLogData:r,shouldShowRedesignedModal:i}),!1},l.transitionPerformedClosure=function(e){if(l.props.transitionPerformed)return l.props.transitionPerformed()},l.closeProPlansRedesignModal=function(){var e=l.state,t=e.expProPlansModalV2,a=e.expProPlansModal;(t&&"V1"===t||a&&["V2","V3"].includes(a))&&l.setState({open:!1})},l.state={loadingContent:!0,schedule:M.ScheduleId.MONTHLY,showRebillUpsell:!1,subChangePlans:[],submitting:!1,type:M.ProductPlanType.STANDARD,showErrors:!1,vat:"",loadingChangeSummary:!1,open:!0,expUjRebillUpsellVariant:"OFF"},l}return a.__extends(t,e),t.prototype.getUrlOption=function(e){var t=e,a=n.get_href().match(/option=([a-zA-Z_]*)/);if(a&&a.length>1){var r=a[1];"plus"===r&&(t=e===M.ProductPlanType.PROFESSIONAL?M.ProductPlanType.PLUS:e),"pro"===r&&(t=M.ProductPlanType.PROFESSIONAL)}return t},t.showInstance=function(e){S.Modal.showInstance(i.default.createElement(t.ChangePlanModal,a.__assign({},e)))},t.prototype.componentDidMount=function(){this.loadPlanTransitions()},t.prototype.onLoadPlanTransitions=function(e){var t=this;this.setState((function(a){var n,r=T.SubscriptionStatus.deserialize(e.serializedSubStatus),i=e.paymentMethod;i.gateway_id===H.BRAINTREE&&(n=new V.ThreeDsHandler({updateThreeDsData:t.updateThreeDsData,submitThreeDsChallenge:t.onAccept,triggerThreeDsChallenge:function(){},submitThreeDsFingerprint:t.onAccept,triggerThreeDsFingerprint:function(){},isDesktop:!1,isSeleniumChangesTest:!1}).handle3DsMessage);var s=r.finalSubState;if(!s.billingSchedule||!s.plan)throw"A base plan is required, in order to change it.";var o=r.subState.billingSchedule.id,l=e.serializedSubChangePlans.map((function(e){return L.SubscriptionChangePlan.deserialize(e)})),d=l.map((function(e){return e}));d.push(r);var u=t.getUrlOption(r.subState.plan.productType),c=t.props.mode||G.DEFAULT,p=e.exp_subgrowth_pro_plans_modal_simplification||"OFF",_=e.exp_subgrowth_pro_change_plans_redesign_v2||"OFF";(["V1","V2","V3"].includes(p)||["V1","V2"].includes(_))&&c===G.DEFAULT&&(u=M.ProductPlanType.PROFESSIONAL);var m=e.is_montana_plan||!1;(!j.MontanaLogger.isInitialized()&&O.Experiment(t.props.expMontana).isActive&&j.MontanaLogger.initialize(r),t.props.shouldShowRedesignedModal)&&(u=r.subState.planSku.productType===M.ProductPlanType.PLUS?M.ProductPlanType.PROFESSIONAL:M.ProductPlanType.PLUS);return{loadingContent:!1,subStatus:r,paymentMethod:i,schedule:o,subChangePlans:l,allSubStatuses:d,type:u,showRebillUpsell:e.show_rebill_upsell||!1,expProPlansModal:p,expProPlansModalV2:_,expUjRebillUpsellVariant:e.exp_uj_rebill_upsell_variant||"OFF",isMontanaPlan:m,handle3DsMessage:n}}))},t.prototype.loadPlanTransitions=function(){var e=this;this.retrieveViewModel((function(t){e.onLoadPlanTransitions(t)}),this.onLoadTransitionsError)},t.prototype.onRepriceTransitions=function(e){this.setState((function(t){var a=T.SubscriptionStatus.deserialize(e.serializedSubStatus),n=e.serializedSubChangePlans.map((function(e){return L.SubscriptionChangePlan.deserialize(e)})),r=n.map((function(e){return e}));r.push(a);return{subStatus:a,subChangePlans:n,allSubStatuses:r,loadingChangeSummary:!1}}))},t.prototype.onRepriceError=function(){r.Notify.error(w._("Request failed")),this.closeModals()},t.prototype.repriceTransitions=function(e){var t=this;this.retrieveViewModel((function(e){t.onRepriceTransitions(e)}),this.onRepriceError,e)},t.prototype.getUserId=function(){return this.props.userIdOverride?this.props.userIdOverride:C.getCurrentUser().id},t.prototype.retrieveViewModel=function(e,t,a){var n=this,r=this.state,i=r.withVat,o=r.withoutVat,l=a?{vat:a}:void 0,d=a?i:o;d?e(d):s.WebRequest({url:"/account/ajax_change_plan",data:l,subject_user:this.getUserId(),success:function(t){var r=JSON.parse(t);n.setState((function(e){return a?{withVat:r}:{withoutVat:r}})),e(r)},error:t})},t.prototype.getSubChangePlan=function(e){return void 0===e&&(e=this.state.type),this.state.subChangePlans.filter((function(t){var a=t.finalSubState;return!(!a.plan||!a.billingSchedule)&&a.plan.productType===e})).pop()},Object.defineProperty(t.prototype,"hasTypeChanged",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.plan&&e.finalSubState.plan.productType!==this.state.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCurrentPlanChanged",{get:function(){return this.hasTypeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subStatusScheduleId",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.billingSchedule?e.finalSubState.billingSchedule.id:M.ScheduleId.MONTHLY},enumerable:!0,configurable:!0}),t.prototype.logChangePlan=function(e){var t=this.state.subStatus;if(t&&t.subState.billingSchedule)switch(e){case K.PROFESSIONAL:return v.ProEventsLogger.log("de_change_plan_modal_change_plan_to_pro");case K.FAMILY_PAYER:return v.ProEventsLogger.log("de_change_plan_modal_change_plan_to_family_payer");case K.PLUS:v.ProEventsLogger.log("de_change_plan_modal_change_plan_to_plus");break;default:q.reportException({err:new Error("Unexpected plan transition: "+e),severity:"non-critical"})}},t.prototype.removeShowModalParams=function(){var e=n.get_href().match(/modal=([a-zA-Z_]*)/);e&&e.length>1&&("plan"===e[1]&&window.history.replaceState({},document.title,n.get_href().split("?")[0]))},t.prototype.changeProductPlanAndScheduleType=function(e,t){switch(e){case M.ProductPlanType.PROFESSIONAL:v.ProEventsLogger.log("de_change_plan_modal_professional_section_click");break;case M.ProductPlanType.FAMILY_PAYER:v.ProEventsLogger.log("de_change_plan_modal_family_payer_section_click");break;case M.ProductPlanType.PLUS:v.ProEventsLogger.log("de_change_plan_modal_plus_section_click");break;default:q.reportException({err:new Error("Unexpected ProductPlanType: "+e),severity:"non-critical"})}this.setState((function(a){return{type:e,schedule:t}}))},t.prototype.getPlanDescription=function(e){var t=e.content&&e.content.spaceShortFormTb(),a=this.state.isMontanaPlan;switch(e.productType){case M.ProductPlanType.STANDARD:case M.ProductPlanType.PLUS:return t?a?w._("Smart Sync, stress-free sharing, offline folders on mobile, and %(plan_space)s storage.").format({plan_space:t}):w._("Stress-free sharing, offline folders on mobile, and %(plan_space)s storage.").format({plan_space:t}):a?w._("Smart Sync, stress-free sharing, offline folders on mobile."):w._("Stress-free sharing and offline folders on mobile.");case M.ProductPlanType.PROFESSIONAL:return t?a?w._("Everything in Plus, with Showcase, shared link controls, and %(plan_space)s storage.").format({plan_space:t}):w._("Smart Sync, Showcase, shared link controls, and %(plan_space)s storage.").format({plan_space:t}):a?w._("Everything in Plus, with Showcase, shared link controls.").format({plan_space:t}):w._("Smart Sync, Showcase, and shared link controls.")}return""},t.prototype.changeProductPlanAndScheduleTypeClosure=function(e,t){var a=this;return function(){a.changeProductPlanAndScheduleType(e,t)}},t.prototype.renderPlanItems=function(){var e=this,t=this.state,a=t.type,n=t.allSubStatuses,r=t.subStatus,s=[M.ProductPlanType.STANDARD,M.ProductPlanType.PLUS,M.ProductPlanType.PROFESSIONAL,M.ProductPlanType.FAMILY_PAYER];if(n&&r)return n.filter((function(e){return!!(e.finalSubState.plan&&r.subState.plan&&r.finalSubState.plan&&r.subState.planSku&&r.finalSubState.planSku&&r.subState.billingSchedule&&e.finalSubState.billingSchedule)})).sort((function(e,t){return e.finalSubState.plan&&t.finalSubState.plan?s.indexOf(e.finalSubState.plan.productType)-s.indexOf(t.finalSubState.plan.productType):0})).map((function(t){var n=t.finalSubState.plan,s=t.finalSubState.billingSchedule;if(n&&s&&!(r&&r.subState&&r.subState.plan&&r.subState.plan.isLegacyPlan&&n.isAdvancePlan)&&r.scheduledSubState&&r.scheduledSubState.billingSchedule&&t&&t.subState.billingSchedule&&t.finalSubState.plan&&t.finalSubState.billingSchedule&&r.subState.billingSchedule&&r.subState.plan){var o,d=r.isOnTrial?r.finalSubState.plan:r.subState.plan;d&&n.productType===d.productType&&(o=w._("(current plan)"));var c=i.default.createElement("span",null,i.default.createElement("br",null),i.default.createElement("a",{href:"/plans",target:"_blank",rel:"noreferrer noopener"},w._("See plan details"))),p=w._("Dropbox %(plan_name)s").format({plan_name:n.displayName()}),_=void 0;e.props.mode===G.CONFIRM&&n.productType===M.ProductPlanType.PROFESSIONAL&&(_={variant:l.BadgeVariant.NEW,color:l.BadgeColor.NEON_GREEN});var m=d&&n.productType===d.productType?e.getPlanDescription(d):e.getPlanDescription(n);return i.default.createElement(u.AdminPricedListItem,{key:n.code,isSelected:a===n.productType,title:p,titleWarningText:void 0,titleSecondaryText:o,description:m,detailsLink:c,price:n.displayCost,unit:n.billingSchedule.id===M.ScheduleId.MONTHLY?w._("per month"):w._("per year"),onClick:e.changeProductPlanAndScheduleTypeClosure(n.productType,s.id),disableItem:e.isPlanScheduledToChange(),badge:_})}}))},t.prototype.getProfessionalPlanSkuForModalExperiments=function(){var e=this,t=this.state,a=t.allSubStatuses,n=t.subStatus;if(!a||!n)return null;for(var r,i=0,s=a.filter((function(t){return!!(t.finalSubState.plan&&n.subState.plan&&n.finalSubState.plan&&n.subState.planSku&&n.finalSubState.planSku&&n.subState.billingSchedule&&t.finalSubState.billingSchedule)&&(!e.isBillingScheduleToChange()||t.subState.billingSchedule.id===n.subState.billingSchedule.id)}));i<s.length;i++){var o=s[i];o.finalSubState.plan.productType===M.ProductPlanType.PROFESSIONAL&&(r=o)}return r&&r.finalSubState.plan?r.finalSubState.plan:null},t.prototype.renderSubgrowthProPlansModalSimplificationExperiment=function(){var e=this.state,t=e.expProPlansModal,a=e.expProPlansModalV2,n=this.getProfessionalPlanSkuForModalExperiments();return t&&n?i.default.createElement(k.ProUpsellModalContent,{expProPlansModalVariant:t,expProPlansModalV2Variant:a,price:n.displayCost,unit:n.billingSchedule.id===M.ScheduleId.MONTHLY?w._("per month"):w._("per year"),quota:n.content&&n.content.spaceLongFormRounded()}):null},t.prototype.renderBillingSection=function(){var e=this.props.mode||G.DEFAULT;return i.default.createElement("div",null,this.state.expProPlansModal&&e===G.DEFAULT&&["V1","V2","V3"].indexOf(this.state.expProPlansModal)>-1?this.renderSubgrowthProPlansModalSimplificationExperiment():i.default.createElement(d.AdminPricedList,null,this.renderPlanItems()),this.renderVat())},t.prototype.vatValidator=function(e,t){return!t||m.validateVat(e,t)},t.prototype.isScheduledToChange=function(){return this.isPlanScheduledToChange()||this.isBillingScheduleToChange()||this.isEvhScheduledToChange()},t.prototype.isEvhScheduledToChange=function(){var e=this.state.subStatus;return!(!e||!e.scheduledSubState)&&e.subState.quantityForEvhAddOn()!==e.scheduledSubState.quantityForEvhAddOn()},t.prototype.isPlanScheduledToChange=function(){var e=this.state.subStatus;return!!(e&&e.subState.plan&&e.finalSubState.plan)&&e.subState.plan.productType!==e.finalSubState.plan.productType},t.prototype.isBillingScheduleToChange=function(){var e=this.state.subStatus;return!!(e&&e.subState.billingSchedule&&e.finalSubState.billingSchedule)&&e.subState.billingSchedule.id!==e.finalSubState.billingSchedule.id},t.prototype.getPlanNameWithEvhText=function(e){var t=this.state.subStatus;return t&&t.scheduledSubState&&t.scheduledSubState.quantityForEvhAddOn()>0?e+" "+w._("+ extended version history"):e},t.prototype.renderScheduleTransitionText=function(){var e=this.state.subStatus,t=this.getSubChangePlan();if(e&&e.subState.plan){var a=i.default.createElement("a",{href:"#",onClick:this.handleCancelScheduleAction},w._("Cancel change")),n=i.default.createElement("a",{"aria-label":w._("CancelLink"),href:"#",onClick:C.logClickAndRedirect("de_cancel_link_click","/help/billing/cancel-dropbox-plus",{from:"change_plan_modal"})}),r=i.default.createElement("a",{"aria-label":w._("LegalLink"),href:"#",onClick:C.logClickAndRedirect("de_legal_link_click","/help/billing/plus-refund",{from:"change_plan_modal"})});if(this.isPlanScheduledToChange())return i.default.createElement("span",{className:"plan-transition"},w._("You’ve already requested a change to your plan. If you want           to choose a different plan or billing period, first cancel your pending change.")," ",a);if((!t||e.subState.planSku.productType===t.finalSubState.planSku.productType)&&e.subState.billingSchedule&&e.currentBillingSummary){if(!this.isScheduledToChange())return i.default.createElement("span",{className:"plan-transition"},w._("Your Dropbox %(plan)s plan will renew on %(date)s.                 Your current %(schedule)s total is %(recurring_total)s.").format({plan:this.getPlanNameWithEvhText(e.subState.plan.displayName()),schedule:e.subState.billingSchedule.scheduleDescriptionAdjective,recurring_total:g.Cash.formatWithTaxLabels(e.currentBillingSummary.total,e.currentBillingSummary),date:e.subState.formattedNextBillingDate}));if(e.scheduledSubState&&e.scheduledSubState.plan)return i.default.createElement("div",null,i.default.createElement("span",{className:"change-summary"},w._("Change summary")),i.default.createElement("p",{className:"plan-transition"},D.reactFormat(w._("Starting on %(date)s, we’ll bill you once a %(schedule_noun)s for your Dropbox                     %(plan)s. Your new %(schedule)s total will be %(scheduled_total)s.").format({plan:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,schedule:e.scheduledSubState.billingSchedule.scheduleDescriptionAdjective,schedule_noun:e.scheduledSubState.billingSchedule.scheduleDescriptionNoun,scheduled_total:g.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary)}),{strong:i.default.createElement("strong",null)})))}if(t&&t.finalSubState.plan){var s=void 0!==t.tvm;if(t&&t.tvm&&s)return i.default.createElement("div",null,i.default.createElement("span",{className:"change-summary"},w._("Change summary")),i.default.createElement("p",{className:"plan-transition"},D.reactFormat(w._("You’re upgrading your plan to Dropbox %(plan)s.                 <strong>We’ll charge you %(prorated_price)s now</strong>, which is prorated for the current                 billing period. Starting on %(date)s and until you <cancelLink>cancel</cancelLink>, we’ll bill you once a %(schedule_noun)s and your new                 %(schedule)s total will be %(scheduled_total)s. If you cancel, previous charges won’t be refunded                 <legalLink>unless it’s legally required</legalLink>.").format({plan:this.getPlanNameWithEvhText(t.finalSubState.plan.displayName()),prorated_price:g.Cash.formatWithTaxLabels(t.tvm.getTotalPrice(),t.nextBillingSummary),date:t.subState.formattedNextBillingDate,schedule_noun:t.finalSubState.billingSchedule.scheduleDescriptionNoun,schedule:t.finalSubState.billingSchedule.scheduleDescriptionAdjective,scheduled_total:g.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)}),{strong:i.default.createElement("strong",null),cancelLink:n,legalLink:r})));if(!s){var o=D.reactFormat(w._("Starting on %(date)s, your plan will be downgraded to Dropbox %(plan)s           and your new %(schedule)s total will be %(scheduled_total)s. Charges will           continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded           <legalLink>unless it’s legally required</legalLink>.").format({plan:this.getPlanNameWithEvhText(t.finalSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,schedule:t.finalSubState.billingSchedule.scheduleDescriptionAdjective,scheduled_total:g.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)}),{strong:i.default.createElement("strong",null),cancelLink:n,legalLink:r});return O.Experiment(this.props.expMontana).isActive&&this.props.shouldApplyMontanaRetentionPolicy&&(o=D.reactFormat(w._("Starting as soon as you confirm below, your plan will be downgraded to Dropbox %(plan)s             and your new %(schedule)s total will be %(scheduled_total)s. Charges will             continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded             <legalLink>unless it’s legally required</legalLink>.").format({plan:this.getPlanNameWithEvhText(t.finalSubState.plan.displayName()),schedule:t.finalSubState.billingSchedule.scheduleDescriptionAdjective,scheduled_total:g.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)}),{strong:i.default.createElement("strong",null),cancelLink:n,legalLink:r})),i.default.createElement("div",null,i.default.createElement("span",{className:"change-summary"},w._("Change summary")),i.default.createElement("p",{className:"plan-transition"},o))}}}},t.prototype.renderChangeFooter=function(){var e;return this.state.loadingChangeSummary?i.default.createElement("div",{className:"loading-indicator"},i.default.createElement("img",{src:E.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:w._("Loading")})):(this.isPlanScheduledToChange()||(e=this.renderPaymentMethod()),i.default.createElement("div",{className:"plan-footer u-font-meta"},this.renderScheduleTransitionText(),e))},Object.defineProperty(t.prototype,"acceptButtonDisabled",{get:function(){var e=this.state.paymentMethod,t=this.state,a=t.loadingContent,n=t.loadingChangeSummary,r=t.submitting;return!(!(a||n||r)&&e)||!this.hasUserSelectedDifferentPlan()},enumerable:!0,configurable:!0}),t.prototype.isValidVatCountry=function(){var e=this.state.paymentMethod;return e&&e.country_code&&m.hasVat(e.country_code)},t.prototype.isUserOnPlus=function(){var e=this.state.subStatus;return e&&e.subState&&e.subState.plan&&e.subState.plan.productType===M.ProductPlanType.PLUS},t.prototype.hasUserSelectedDifferentPlan=function(){return!this.isPlanScheduledToChange()&&this.hasTypeChanged},Object.defineProperty(t.prototype,"vatDisplayEnabled",{get:function(){var e=this.state,t=e.loadingContent,a=e.submitting;return p.INDIVIDUAL_INVOICE_MODAL&&!t&&!a&&this.isValidVatCountry()&&this.isUserOnPlus()&&this.hasUserSelectedDifferentPlan()},enumerable:!0,configurable:!0}),t.prototype.getPlanStrings=function(){var e=this.getProfessionalPlanSkuForModalExperiments();if(e){var t=void 0,a=void 0;return e.displayCost&&(t=e.displayCost.toString(),a=e.billingSchedule.id===M.ScheduleId.MONTHLY?w._("Monthly cost"):w._("Yearly cost")),{priceString:t,scheduleString:a,quotaString:e.content&&e.content.spaceLongFormRounded()}}return null},t.prototype.getBillingSummaryStrings=function(){var e=this.state.expProPlansModal,t=this.getSubChangePlan();if(t&&t.finalSubState.plan&&t.tvm){return{scheduledPriceString:t.nextBillingSummary.total.toString(),proratedPriceString:t.tvm.getTotalPrice().toString(),changeSummaryString:e&&"V3"===e?D.reactFormat(w._("will be charged %(prorated_price)s today,             which has been prorated from your current billing period.             Your plan will renew on %(date)s and your %(schedule)s total             will be %(scheduled_total)s.").format({plan:this.getPlanNameWithEvhText(t.finalSubState.plan.displayName()),prorated_price:g.Cash.formatWithTaxLabels(t.tvm.getTotalPrice(),t.nextBillingSummary),date:t.subState.formattedNextBillingDate,schedule:t.finalSubState.billingSchedule.scheduleDescriptionAdjective,scheduled_total:g.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)})):D.reactFormat(w._("You’re upgrading to Dropbox %(plan)s.           <strong>We’ll charge you %(prorated_price)s now</strong>,           which has been prorated for the current billing period.           Your plan will renew on %(date)s. Your new %(schedule)s total           will be %(scheduled_total)s.").format({plan:this.getPlanNameWithEvhText(t.finalSubState.plan.displayName()),prorated_price:g.Cash.formatWithTaxLabels(t.tvm.getTotalPrice(),t.nextBillingSummary),date:t.subState.formattedNextBillingDate,schedule:t.finalSubState.billingSchedule.scheduleDescriptionAdjective,scheduled_total:g.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)}),{strong:i.default.createElement("strong",null)})}}return null},Object.defineProperty(t.prototype,"changesSummaryContent",{get:function(){var e=this.props.indivChurnSurveyLogData,t=this.state,n=t.subStatus,r=t.paymentMethod,s=this.getSubChangePlan();if(n&&n.subState.plan){if(n.subState.plan.productType!==n.finalSubState.plan.productType)return D.reactFormat(w._("You’ve already requested a change to your plan. If you want           to choose a different plan, first cancel your pending change. <a>Cancel change</a>"),{a:i.default.createElement("a",{href:"#","aria-label":w._("Cancel change"),onClick:this.handleCancelPlanAction})});var o=i.default.createElement("a",{"aria-label":w._("Cancel link"),href:"/help/billing/cancel-dropbox-plus"}),l=i.default.createElement("a",{"aria-label":w._("Legal link"),href:"/help/billing/plus-refund"});e&&(o=i.default.createElement("a",{"aria-label":w._("Cancel link"),href:"#",onClick:function(){W.onClickCancelLink(e)}}),l=i.default.createElement("a",{"aria-label":w._("Legal link"),href:"#",onClick:function(){W.onClickLegalLink(e)}}));var d={br:i.default.createElement("br",null),strong:i.default.createElement("strong",null),cancelLink:o,legalLink:l};return s&&s.tvm?D.reactFormat(w._("We’ll charge you <strong>%(prorated_price)s</strong> now, which is prorated for the current billing period.%(br)s%(br)s%(IndividualInlinePaymentMethodView)s%(br)s%(br)sCharges will continue until you <cancelLink>cancel</cancelLink>, and previous                 charges won’t be refunded <legalLink>unless it’s legally required</legalLink>.").format({prorated_price:g.Cash.formatWithTaxLabels(s.tvm.getTotalPrice(),s.nextBillingSummary)}),a.__assign(a.__assign({},d),{IndividualInlinePaymentMethodView:i.default.createElement(b.IndividualInlinePaymentMethodView,{paymentMethod:r,renderUpdateLink:i.default.createElement(R.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo}),isRedesignedModal:!0,nextBillingDate:s.subState.formattedNextBillingDate,scheduleId:s.finalSubState.billingSchedule.id,totalPrice:g.Cash.formatWithTaxLabels(s.nextBillingSummary.total,s.nextBillingSummary)})})):D.reactFormat(w._("%(IndividualInlinePaymentMethodView)s%(br)s%(br)sCharges will continue until you <cancelLink>cancel</cancelLink>, and previous                 charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."),a.__assign(a.__assign({},d),{IndividualInlinePaymentMethodView:i.default.createElement(b.IndividualInlinePaymentMethodView,{paymentMethod:r,renderUpdateLink:i.default.createElement(R.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo}),isRedesignedModal:!0,nextBillingDate:n.subState.formattedNextBillingDate,scheduleId:s.finalSubState.billingSchedule.id,totalPrice:g.Cash.formatWithTaxLabels(s.nextBillingSummary.total,s.nextBillingSummary)})}))}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e,n=this,r=this.props,s=r.transitionPerformed,o=r.paymentInfo,l=r.mode,d=r.expMontana,u=r.indivChurnSurveyLogData,p=r.shouldShowRedesignedModal,_=this.state,m=_.subStatus,g=_.loadingContent,b=_.submitting,v=_.type,L=_.expProPlansModal,T=_.expProPlansModalV2,C=_.open,D=w._("Change plan"),P=w._("Cancel"),k=w._("Confirm change");if(g)D="",k="",P="",e=i.default.createElement("div",{className:"loading-indicator"},i.default.createElement("div",{className:"loading-indicator__text"},w._("Loading account details...")),i.default.createElement("img",{src:E.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:w._("Loading")}));else{var N=void 0;if(m&&s){y.DBModalStack.clear(),y.DBModalStack.register(c.CHANGE_IND_PLAN_MODAL_UPDATED,(function(){t.showInstance(a.__assign(a.__assign({},n.props),{transitionPerformed:n.transitionPerformedClosure}))})),N=i.default.createElement(h.CancellableNotificationsView,{subStatus:m,transitionPerformed:this.transitionPerformedClosure,displaySingleChangeCancellationItem:f.CancellationType.ALL,reOpenModalDialogAfterCancellation:!0,paymentInfo:o,displayNewTotal:!1})}if(e=i.default.createElement("div",null,N,this.renderBillingSection(),this.renderChangeFooter()),l===G.CONFIRM&&m)D=w._("Confirm plan"),m.finalSubState.plan.productType===v?(k=null,P=w._("Confirm")):(k=w._("Upgrade plan"),P=null);else{if(T&&"V1"===T){var x=a.__assign(a.__assign({},this.getPlanStrings()),this.getBillingSummaryStrings());return i.default.createElement(Y.ExpChangePlanRedesignModal,{onAccept:this.onAccept,onDismiss:this.onDismiss,open:this.state.open,planAndPricingContent:x,scheduledNotifications:N,submitting:this.state.submitting,loadingChangeSummary:this.state.loadingChangeSummary,renderVat:this.renderVat,renderPaymentMethod:this.renderPaymentMethod})}if(L&&["V1","V2","V3"].includes(L)&&(D=w._("Upgrade account"),k=w._("Upgrade now"),"V3"===L)){x=a.__assign(a.__assign({},this.getPlanStrings()),this.getBillingSummaryStrings());return i.default.createElement(I.ExpChangePlanModalBillboard,{onAccept:this.onAccept,onDismiss:this.onDismiss,open:this.state.open,planAndPricingContent:x,submitting:this.state.submitting,loadingChangeSummary:this.state.loadingChangeSummary,renderVat:this.renderVat,renderPaymentMethod:this.renderPaymentMethod,content:this.renderSubgrowthProPlansModalSimplificationExperiment(),acceptButtonText:k,renderUpdateLink:i.default.createElement(R.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo})})}}}if(p)return D=this.isPlanScheduledToChange()?w._("Change plan"):v===M.ProductPlanType.PLUS?w._("You’re switching to Dropbox Plus"):w._("You’re switching to Dropbox Professional"),i.default.createElement(B.ChangeConfirmationModal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:w._("Confirm"),dismissButtonText:w._("Cancel"),loadingContent:g,onAccept:this.onAccept,onDismiss:this.onDismiss,open:C,renderUpdateLink:i.default.createElement(R.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo,indivChurnSurveyLogData:u,isRedesignedModal:!0}),renderVat:this.renderVat,text:this.changesSummaryContent,title:D,indivChurnSurveyLogData:u});var A=F.default("change-plan-modal",{"change-plan-modal--montana":O.Experiment(d).isActive});return i.default.createElement(S.Modal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:k,className:A,dismissButtonText:P,autoClose:!1,onAccept:this.onAccept,onDismiss:this.onDismiss,submitting:b,title:D},e)},t.ChangePlanModal=o.requireCssWithComponent(t,["/static/css/teams/admin/widgets/change_plan_modal/change_plan_modal-vflu3DfOl.css"]),t})(i.default.Component);t.ChangePlanModalView=J})),define("modules/clean/account_page/widgets/plan/views/change_schedule_modal",["require","exports","tslib","modules/core/browser","react","classnames","modules/clean/ajax","modules/clean/analytics","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/account_page/widgets/plan/constants","modules/clean/account_page/widgets/plan/views/cancel_changes_modal","modules/clean/account_page/widgets/plan/views/change_plan_modal","modules/clean/account_page/widgets/plan/views/cancellable_notifications_view","modules/clean/account_page/widgets/plan/views/individual_inline_payment_method","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/account_page/widgets/plan/views/update_billing_info_link","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/views/change_confirmation_modal","modules/clean/dbmodal_stack","modules/clean/payments/cash","modules/clean/payments/skus/constants","modules/clean/payments/skus/subscription_change_plan","modules/clean/payments/skus/subscription_status","modules/clean/react/css","modules/clean/react/modal","modules/clean/react/payments/error/browser_update_required_modal","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader","modules/clean/react/payments/update_individual_billing/update_individual_store_creator","modules/clean/react_format","modules/clean/static_urls","modules/clean/stormcrow/experiment","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item_variant","modules/clean/teams/admin/widgets/billing_notifications/cancel_billing_changes_modal","modules/core/i18n","modules/core/notify","modules/clean/account_page/widgets/plan/views/churn_survey/utils"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g,y,b,S,v,M,L,T,w,C,D,E,P,k,Y,N,x,A,I,R,B){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),r=a.__importDefault(r),i=a.__importDefault(i);var O=(function(e){function t(r){var i=e.call(this,r)||this;return i.closeModals=function(){i.props.shouldShowRedesignedModal?i.setState({open:!1}):T.Modal.close()},i.onAccept=function(){var e,t,r,o=i.getSubChangePlan();o&&(o.finalSubState.billingSchedule.id===S.ScheduleId.MONTHLY&&(r={radio:"monthly"},t=c.PerformPlanTransition.YEARLY,e=c.PerformPlanTransition.MONTHLY),o.finalSubState.billingSchedule.id===S.ScheduleId.YEARLY&&(r={radio:"yearly"},t=c.PerformPlanTransition.MONTHLY,e=c.PerformPlanTransition.YEARLY),k.Experiment(i.props.expMontana).isActive&&i.props.isMontanaDowngradeFlow&&m.MontanaLogger.logEvent("cancel_click",a.__assign({featureType:"yearly_billing",cta:"confirm_change"},r)),e&&t?(i.setState((function(e){return e.submitting=!0,e})),s.WebRequest({url:"/account/perform_personal_transition",data:{transition_change_type:e},subject_user:f.getCurrentUser().id,success:function(e){var t=JSON.parse(e);if(t.redirect)return n.redirect(t.redirect);R.Notify.success(I._("You’ve changed your billing period!")),i.logChangeSchedule(),i.props.transitionPerformed&&i.props.transitionPerformed(),i.closeModals()},error:function(){R.Notify.error(I._("There was an error changing the billing period!")),i.setState((function(e){return e.submitting=!1,e}))}})):R.Notify.error(I._("There was an error changing the billing period!")))},i.updateBillingInfo=function(e){k.Experiment(i.props.expMontana).isActive&&i.props.isMontanaDowngradeFlow?m.MontanaLogger.logEvent("cancel_click",{featureType:"yearly_billing",cta:"update_billing_information"}):o.ProEventsLogger.log("de_update_billing_info_click"),i.closeModals(),y.DBModalStack.register(D.BILLING_INFO_UPDATED,(function(){t.showInstance(i.props)})),i.props.browserUpdateRequired?w.BrowserUpdateModalLoader.showInstance():C.IndividualUpdateBillingModalLoader.showInstance()},i.handleCancelScheduleAction=function(){return i.handleCancelActions(A.CancellationType.SCHEDULE),!1},i.handleCancelActions=function(e){var t=i.state.subStatus,a=i.props,n=a.transitionPerformed,r=a.indivChurnSurveyLogData,s=a.shouldShowRedesignedModal;return t&&u.CancelChangesModalConfirmationView.showInstance({subStatus:t,transitionPerformed:n,cancellationType:e,reOpenModalDialogAfterCancellation:!s,indivChurnSurveyLogData:r,shouldShowRedesignedModal:s}),!1},i.transitionPerformedClosure=function(e){if(i.props.transitionPerformed)return i.props.transitionPerformed()},i.onDismissModal=function(){var e=i.props,t=e.expMontana,a=e.isMontanaDowngradeFlow,n=e.shouldShowRedesignedModal;k.Experiment(t).isActive&&a?m.MontanaLogger.logEvent("cancel_dismiss",{featureType:"yearly_billing"}):o.ProEventsLogger.log("de_cancel_billing_change_modal"),n&&i.setState({open:!1})},i.state={loadingContent:!0,schedule:S.ScheduleId.MONTHLY,subChangePlans:[],submitting:!1,type:S.ProductPlanType.STANDARD,hasLicenseKey:!1,isPriceVersionChange:!1,open:!0},i}return a.__extends(t,e),Object.defineProperty(t.prototype,"isProfessionalTrialPlan",{get:function(){var e=this.state.subStatus;return!(!e||!e.subState.plan)&&e.subState.plan.productType===S.ProductPlanType.PROFESSIONAL_TRIAL},enumerable:!0,configurable:!0}),t.showInstance=function(e){T.Modal.showInstance(r.default.createElement(t.ChangeScheduleModal,a.__assign({},e)))},t.prototype.componentDidMount=function(){this.loadPlanTransitions()},t.prototype.loadPlanTransitions=function(){var e=this;s.WebRequest({url:"/account/ajax_change_plan_schedule",subject_user:f.getCurrentUser().id,success:function(t){var n=JSON.parse(t);e.setState((function(t){var r=a.__assign({},t);r.loadingContent=!1,r.subStatus=M.SubscriptionStatus.deserialize(n.serializedSubStatus),r.paymentMethod=n.paymentMethod,r.hasLicenseKey=n.hasLicenseKey,r.isPriceVersionChange=n.isPriceVersionChange;var i=r.subStatus.finalSubState;if(!i.billingSchedule||!i.plan)throw"A base plan is required, in order to change it.";if(r.hasLicenseKey?r.schedule=r.subStatus.scheduledSubState.billingSchedule.id:r.schedule=r.subStatus.subState.billingSchedule.id,r.subStatus.subState.plan){var s=r.subStatus.subState.plan.productType,o=k.Experiment(e.props.expMontana).isActive,l=r.subStatus.subState.billingSchedule.id===S.ScheduleId.MONTHLY,d=s===S.ProductPlanType.STANDARD||s===S.ProductPlanType.PLUS;o&&l&&d&&(r.schedule=S.ScheduleId.YEARLY),!m.MontanaLogger.isInitialized()&&o&&m.MontanaLogger.initialize(r.subStatus)}if(r.subChangePlans=n.serializedSubChangePlans.map((function(e){return v.SubscriptionChangePlan.deserialize(e)})),r.allSubStatuses=r.subChangePlans.map((function(e){return e})),r.allSubStatuses.push(r.subStatus),r.type=r.subStatus.subState.plan.productType,e.props.shouldShowRedesignedModal){l=r.subStatus.subState.billingSchedule.id===S.ScheduleId.MONTHLY;r.type=i.plan.productType,r.schedule=l?S.ScheduleId.YEARLY:S.ScheduleId.MONTHLY}return r}))},error:function(){R.Notify.error(I._("Failed to load modal.")),e.closeModals()}})},t.prototype.getSubChangePlan=function(e,t){return void 0===e&&(e=this.state.type),void 0===t&&(t=this.state.schedule),this.state.subChangePlans.filter((function(a){var n=a.finalSubState;return!(!n.plan||!n.billingSchedule)&&(n.plan.productType===e&&n.billingSchedule.id===t)})).pop()},Object.defineProperty(t.prototype,"hasTypeChanged",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.plan&&e.finalSubState.plan.productType!==this.state.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasScheduleChanged",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.billingSchedule&&e.finalSubState.billingSchedule.id!==this.state.schedule},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCurrentPlanChanged",{get:function(){return this.hasTypeChanged||this.hasScheduleChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subStatusScheduleId",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.billingSchedule?e.finalSubState.billingSchedule.id:S.ScheduleId.MONTHLY},enumerable:!0,configurable:!0}),t.prototype.logChangeSchedule=function(){var e=this.state.subStatus;e&&e.subState.billingSchedule&&o.ProEventsLogger.log("de_change_billing_change_schedule",{from:e.subState.billingSchedule.id===S.ScheduleId.MONTHLY?"monthly":"yearly",to:e.subState.billingSchedule.id===S.ScheduleId.MONTHLY?"yearly":"monthly"})},t.prototype.changeProductPlanAndScheduleType=function(e,t){this.setState((function(a){return a.type=e,a.schedule=t,a}))},t.prototype.changeProductPlanAndScheduleTypeClosure=function(e,t){var a=this;return function(){a.changeProductPlanAndScheduleType(e,t)}},t.prototype.getScheduleDescription=function(e,t,a,n,r){var i=this.state.subStatus;if(!(e.finalSubState.billingSchedule&&e.finalSubState.plan&&i&&i.scheduledSubState&&i.scheduledSubState.plan&&i.subState.plan))return"";var s=i.scheduledSubState.plan.displayName();switch(e.finalSubState.billingSchedule.id){case S.ScheduleId.YEARLY:return r?I._("You’ll pay %(price_per_year)s (%(price_per_month)s/month) once a year").format({price_per_year:a.toString(),price_per_month:a.divide(12).toString()}):this.state.isPriceVersionChange?I._("Dropbox %(plan_name)s is %(price_per_year)s per year.").format({plan_name:s,price_per_year:a.toString()}):I._("Dropbox %(plan_name)s is %(price_per_year)s per year.             You’ll save %(save_percentage)s over monthly billing.").format({plan_name:s,price_per_year:a.toString(),save_percentage:n});case S.ScheduleId.MONTHLY:return r?I._("Today, you pay %(monthly_price)s each month (%(annual_monthly_price)s each year)").format({monthly_price:t.toString(),annual_monthly_price:t.multiply(12).toString()}):I._("Dropbox %(plan_name)s is %(price_per_month)s per month.           You’ll spend %(price_per_year)s per year.").format({plan_name:s,price_per_month:t.toString(),price_per_year:a.toString()})}return""},t.prototype.getBillingItemTitle=function(e){switch(e){case S.ScheduleId.YEARLY:return I._("Billed yearly");case S.ScheduleId.MONTHLY:return I._("Billed monthly")}return""},t.prototype.getOriginalStatusForCurrentStatus=function(e,t){var a=this,n=this.state,r=n.allSubStatuses,i=n.subStatus;if(r&&i)return r.filter((function(n){return!!(n.finalSubState.plan&&i.finalSubState.plan&&n.finalSubState.billingSchedule)&&((n.subState.plan.productType===e||a.isProfessionalTrialPlan)&&n.finalSubState.billingSchedule.id===t)})).pop()},t.prototype.renderBillingScheduleItems=function(){var e=this,t=this.state,a=t.allSubStatuses,n=t.subStatus,i=t.schedule,s=t.hasLicenseKey;if(a&&n)return a.filter((function(e){return!!(e.finalSubState.plan&&n.subState.plan&&n.finalSubState.plan)})).sort((function(e,t){return e.finalSubState.billingSchedule&&t.finalSubState.billingSchedule?e.finalSubState.billingSchedule.id-t.finalSubState.billingSchedule.id:0})).map((function(t){var a=t.finalSubState.plan,o=t.finalSubState.billingSchedule;if(a&&o&&n.subState.billingSchedule&&n.subState.plan&&t.finalSubState.billingSchedule){var l=e.getOriginalStatusForCurrentStatus(n.subState.plan.productType,t.finalSubState.billingSchedule.id);if(l&&l.finalSubState.billingSchedule&&t.subState.billingSchedule){var d=a.displayCost,u=a.displayCost,c=a.displayCost,p=I._("per year");o.id===S.ScheduleId.MONTHLY&&(u=u.multiply(12).round(2),p=I._("per month"));var _="";if(o.id===S.ScheduleId.YEARLY){var m=e.getOriginalStatusForCurrentStatus(n.subState.plan.productType,S.ScheduleId.MONTHLY);if(m&&m.finalSubState&&m.finalSubState.planSku){var h=m.finalSubState.planSku.displayCost.multiply(12).round(2);_=I.format_percent(Math.round(100*(1-u.amount/h.amount)))}}var f,g,y=o.id===i;e.isPlanScheduledToChange()&&!e.isProfessionalTrialPlan&&(g=r.default.createElement("span",null,r.default.createElement("br",null),r.default.createElement("a",{href:"/plans",target:"_blank",rel:"noreferrer noopener"},I._("See other plans"))));var b=n.subState.billingSchedule;s&&n.scheduledSubState&&n.scheduledSubState.billingSchedule&&(b=n.scheduledSubState.billingSchedule),b.id===o.id&&(f=I._("(current billing period)"));var v=k.Experiment(e.props.expMontana).isActive&&n.subState.billingSchedule.id===S.ScheduleId.MONTHLY&&(n.subState.plan.productType===S.ProductPlanType.STANDARD||n.subState.plan.productType===S.ProductPlanType.PLUS);return v?r.default.createElement(x.AdminPricedListItemVariant,{key:a.code,isSelected:y,title:e.getBillingItemTitle(o.id),description:e.getScheduleDescription(l,c,u,_,v),price:d,detailsLink:g,onClick:e.changeProductPlanAndScheduleTypeClosure(a.productType,o.id),disableItem:e.isBillingScheduleToChange(),showMontanaPlusMonthlyVariant:v,schedule:o.id,isCurrentSchedule:n.subState.billingSchedule.id===o.id,pricePerMonth:c,pricePerYear:u}):r.default.createElement(N.AdminPricedListItem,{key:a.code,isSelected:y,title:e.getBillingItemTitle(o.id),titleWarningText:void 0,titleSecondaryText:f,description:e.getScheduleDescription(l,c,u,_,v),price:d,detailsLink:g,unit:p,onClick:e.changeProductPlanAndScheduleTypeClosure(a.productType,o.id),disableItem:e.isBillingScheduleToChange(),recommended:k.Experiment(e.props.expMontana).isActive&&o.id===S.ScheduleId.YEARLY})}}}))},t.prototype.renderBillingSection=function(){return r.default.createElement("div",null,r.default.createElement(Y.AdminPricedList,null,this.renderBillingScheduleItems()))},t.prototype.renderPaymentMethod=function(){var e=this.state.paymentMethod;if(e&&!this.isBillingScheduleToChange())return r.default.createElement("div",{className:"upgrade-payment-method-link"},r.default.createElement(_.IndividualInlinePaymentMethodView,{paymentMethod:e,renderUpdateLink:r.default.createElement(h.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo})}))},t.prototype.isPlanScheduledToChange=function(){var e=this.state.subStatus;return!!(e&&e.subState.plan&&e.finalSubState.plan)&&e.subState.plan.productType!==e.finalSubState.plan.productType},t.prototype.isScheduledToChange=function(){return this.isPlanScheduledToChange()||this.isBillingScheduleToChange()||this.isEvhScheduledToChange()},t.prototype.isEvhScheduledToChange=function(){var e=this.state.subStatus;return!(!e||!e.scheduledSubState)&&e.subState.quantityForEvhAddOn()!==e.scheduledSubState.quantityForEvhAddOn()},t.prototype.isBillingScheduleToChange=function(){var e=this.state,t=e.subStatus;return!e.hasLicenseKey&&(!!(t&&t.subState.billingSchedule&&t.finalSubState.billingSchedule)&&t.subState.billingSchedule.id!==t.finalSubState.billingSchedule.id)},t.prototype.getPlanNameWithEvhText=function(e){var t=this.state.subStatus;return t&&t.scheduledSubState&&t.scheduledSubState.quantityForEvhAddOn()>0?e+" "+I._("+ extended version history"):e},t.prototype.renderScheduleTransitionText=function(){var e=this.state.subStatus,t=this.getSubChangePlan();if(e&&e.subState.plan){var a=r.default.createElement("a",{href:"#",onClick:this.handleCancelScheduleAction},I._("Cancel change")),n=r.default.createElement("a",{"aria-label":I._("CancelLink"),href:"#",onClick:f.logClickAndRedirect("de_cancel_link_click","/help/billing/cancel-dropbox-plus",{from:"change_billing_modal"})}),i=r.default.createElement("a",{"aria-label":I._("LegalLink"),href:"#",onClick:f.logClickAndRedirect("de_legal_link_click","/help/billing/plus-refund",{from:"change_billing_modal"})});if(this.isBillingScheduleToChange())return r.default.createElement("span",{className:"plan-transition"},I._("You’ve already requested a change to your billing period. If you want             to choose a different billing period, first cancel your pending change.")," ",a);if(this.isProfessionalTrialPlan&&!this.hasScheduleChanged)return r.default.createElement("div",null,r.default.createElement("span",{className:"change-summary"},I._("Change summary")),r.default.createElement("p",{className:"plan-transition"},l.getProfessionalTrialScheduleDescription(e)));if((!t||this.isBillingScheduleToChange())&&e.currentBillingSummary){if(this.isScheduledToChange()&&e.scheduledSubState&&e.scheduledSubState.plan){var s=E.reactFormat(I._("Starting on %(date)s, we’ll bill you once a month for your             Dropbox %(plan_name)s plan. Your new monthly total will be %(scheduled_total)s.").format({plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,scheduled_total:b.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary)}),{strong:r.default.createElement("strong",null)});return e.scheduledSubState.billingSchedule.id===S.ScheduleId.YEARLY&&(s=E.reactFormat(I._("Starting on %(date)s, we’ll bill you once a year for your               Dropbox %(plan_name)s plan. Your new yearly total will be %(scheduled_total)s.").format({plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,scheduled_total:b.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary)}),{strong:r.default.createElement("strong",null)})),r.default.createElement("div",null,r.default.createElement("span",{className:"change-summary"},I._("Change summary")),r.default.createElement("p",{className:"plan-transition"},s))}return r.default.createElement("div",null,r.default.createElement("p",{className:"plan-transition"},I._("Your Dropbox %(plan)s plan will renew on %(date)s.                 Your current %(schedule)s total is %(recurring_total)s.").format({plan:this.getPlanNameWithEvhText(e.subState.plan.displayName()),schedule:e.subState.billingSchedule.scheduleDescriptionAdjective,recurring_total:b.Cash.formatWithTaxLabels(e.currentBillingSummary.total,e.currentBillingSummary),date:e.subState.formattedNextBillingDate})))}if(e.scheduledSubState&&e.scheduledSubState.plan){if(!t||!t.finalSubState.plan){s=E.reactFormat(I._("Starting on %(date)s, we’ll bill you once a month for your           Dropbox %(plan_name)s plan. Your new monthly total will be %(scheduled_total)s.           Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded           <legalLink>unless it’s legally required</legalLink>.").format({plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,scheduled_total:b.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary)}),{strong:r.default.createElement("strong",null),cancelLink:n,legalLink:i});return e.finalSubState.billingSchedule.id===S.ScheduleId.YEARLY&&(s=E.reactFormat(I._("Starting on %(date)s, we’ll bill you once a year for your             Dropbox %(plan_name)s plan. Your new yearly total will be %(scheduled_total)s.             Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded             <legalLink>unless it’s legally required</legalLink>.").format({plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,scheduled_total:b.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary)}),{strong:r.default.createElement("strong",null),cancelLink:n,legalLink:i})),r.default.createElement("div",null,r.default.createElement("span",{className:"change-summary"},I._("Change summary")),r.default.createElement("p",{className:"plan-transition"},s))}return r.default.createElement("div",null,r.default.createElement("span",{className:"change-summary"},I._("Change summary")),r.default.createElement("p",{className:"plan-transition"},E.reactFormat(I._("Starting on %(date)s, we’ll bill you once a %(schedule_noun)s for your               Dropbox %(plan_name)s plan. Your new %(schedule)s total will be %(scheduled_total)s.               Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded               <legalLink>unless it’s legally required</legalLink>.").format({plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,schedule:t.finalSubState.billingSchedule.scheduleDescriptionAdjective,schedule_noun:t.finalSubState.billingSchedule.scheduleDescriptionNoun,scheduled_total:b.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)}),{strong:r.default.createElement("strong",null),cancelLink:n,legalLink:i})))}}},t.prototype.renderFooter=function(){return this.renderScheduleChangeFooter()},t.prototype.renderScheduleChangeFooter=function(){var e;return this.isBillingScheduleToChange()||(e=this.renderPaymentMethod()),r.default.createElement("div",{className:"plan-footer u-font-meta"},this.renderScheduleTransitionText(),e)},Object.defineProperty(t.prototype,"changesSummaryContent",{get:function(){var e=this.props.indivChurnSurveyLogData,t=this.state,a=t.subStatus,n=t.paymentMethod,i=this.getSubChangePlan();if(a&&a.subState.plan){if(a.subState.plan.scheduleId!==a.finalSubState.plan.scheduleId&&!this.isProfessionalTrialPlan)return E.reactFormat(I._("You’ve already requested a change to your billing period. If you want           to choose a different billing period, first cancel your pending change. <a>Cancel change</a>"),{a:r.default.createElement("a",{href:"#","aria-label":I._("Cancel change"),onClick:this.handleCancelScheduleAction})});var s=r.default.createElement("a",{"aria-label":I._("Cancel link"),href:"/help/billing/cancel-dropbox-plus"}),o=r.default.createElement("a",{"aria-label":I._("Legal link"),href:"/help/billing/plus-refund"});return e&&(s=r.default.createElement("a",{"aria-label":I._("Cancel link"),href:"#",onClick:function(){B.onClickCancelLink(e)}}),o=r.default.createElement("a",{"aria-label":I._("Legal link"),href:"#",onClick:function(){B.onClickLegalLink(e)}})),E.reactFormat(I._("%(IndividualInlinePaymentMethodView)s%(br)s%(br)sCharges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."),{br:r.default.createElement("br",null),strong:r.default.createElement("strong",null),cancelLink:s,legalLink:o,IndividualInlinePaymentMethodView:r.default.createElement(_.IndividualInlinePaymentMethodView,{paymentMethod:n,renderUpdateLink:r.default.createElement(h.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo}),isRedesignedModal:!0,nextBillingDate:a.subState.formattedNextBillingDate,scheduleId:i.finalSubState.billingSchedule.id,totalPrice:b.Cash.formatWithTaxLabels(i.nextBillingSummary.total,i.nextBillingSummary)})})}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"acceptButtonDisabled",{get:function(){var e=this.state.paymentMethod,t=this.state,a=t.loadingContent,n=t.submitting;return!(!a&&!n&&e)||(!this.hasScheduleChanged||this.isBillingScheduleToChange())},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e,a,n=this,s=this.state,o=s.subStatus,l=s.schedule,u=s.loadingContent,c=s.submitting,_=s.hasLicenseKey,m=s.open,f=this.props,b=f.transitionPerformed,v=f.paymentInfo,M=f.expMontana,L=f.indivChurnSurveyLogData,w=f.shouldShowRedesignedModal,C=k.Experiment(M).isActive;if(u)e=r.default.createElement("div",{className:"loading-indicator"},r.default.createElement("img",{src:P.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:I._("Loading")}));else{var D=void 0;if(o&&b&&!this.isProfessionalTrialPlan){y.DBModalStack.clear(),y.DBModalStack.register(d.CHANGE_IND_PLAN_MODAL_UPDATED,(function(){t.showInstance({transitionPerformed:n.transitionPerformedClosure})})),D=r.default.createElement(p.CancellableNotificationsView,{subStatus:o,transitionPerformed:this.transitionPerformedClosure,displaySingleChangeCancellationItem:A.CancellationType.ALL,reOpenModalDialogAfterCancellation:!0,paymentInfo:v,hasLicenseKey:_,displayNewTotal:!1})}e=r.default.createElement("div",null,D,this.renderBillingSection(),this.renderFooter()),a=C&&this.subStatusScheduleId===S.ScheduleId.MONTHLY?I._("Change to yearly billing"):I._("Change billing period")}var E=i.default("change-plan-modal",{"change-plan-modal--montana":C});return w?(a=this.isBillingScheduleToChange()&&!this.isProfessionalTrialPlan?I._("Change billing period"):l===S.ScheduleId.YEARLY?I._("You’re switching to yearly billing"):I._("You’re switching to monthly billing"),r.default.createElement(g.ChangeConfirmationModal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:I._("Confirm"),dismissButtonText:I._("Cancel"),loadingContent:u,onAccept:this.onAccept,onDismiss:this.onDismissModal,open:m,renderUpdateLink:r.default.createElement(h.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo,indivChurnSurveyLogData:L,isRedesignedModal:!0}),text:this.changesSummaryContent,title:a,indivChurnSurveyLogData:L})):r.default.createElement(T.Modal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:I._("Confirm change"),className:E,dismissButtonText:I._("Cancel"),onDismiss:this.onDismissModal,autoClose:!1,onAccept:this.onAccept,submitting:c,title:a,autoFocusPrimaryInput:!1},e)},t.ChangeScheduleModal=L.requireCssWithComponent(t,["/static/css/teams/admin/widgets/change_plan_modal/change_plan_modal-vflu3DfOl.css"]),t})(r.default.Component);t.ChangeScheduleModalView=O})),define("modules/clean/account_page/widgets/plan/views/churn_survey/churn_survey_wrapper",["require","exports","tslib","react","modules/core/i18n","modules/clean/bem","spectrum/button","modules/clean/account_page/widgets/plan/views/churn_survey/churn_survey_reasons_wrapper"],(function(e,t,a,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var l=i.bem("churn-survey"),d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return n.createElement("div",{className:l("")},n.createElement("div",{className:l("header")},r._("Before you go")),n.createElement("div",{className:l("subheader")},r._("What’s your main reason for canceling Dropbox?")),n.createElement(o.ChurnSurveyReasonsWrapper,{reasons:this.props.reasons,selectedReasonVal:this.props.selectedReasonVal,handleSelectReason:this.props.handleSelectReason,onOtherInputChange:this.props.onOtherInputChange,isBiz:this.props.isBiz}),n.createElement("div",{className:l("btns-wrapper")},n.createElement(s.Button,{className:l("btn-skip"),variant:"borderless",onClick:this.props.handleSkipSurvey},r._("Skip")),n.createElement(s.Button,{className:l("btn-submit"),variant:"primary",disabled:void 0===this.props.selectedReasonVal,onClick:this.props.handleSubmitSurvey},r._("Continue canceling"))))},t})(n.PureComponent);t.ChurnSurvey=d})),define("modules/clean/account_page/widgets/plan/views/churn_survey/churn_survey_reasons_wrapper",["require","exports","tslib","react","modules/clean/react/survey/types/survey_types","modules/core/i18n","spectrum/input","spectrum/label","modules/clean/bem","classnames","spectrum/button","modules/clean/react_format","modules/core/browser","modules/clean/analytics"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),d=a.__importDefault(d),p=a.__importStar(p);var m=l.bem("churn-survey"),h={reason:i._("Other"),value:"other"},f={reason:i._("Other"),value:r.OTHER_REASON_VALUE},g=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSupportRedirect=function(){_.ProEventsLogger.log("not_satisfied_modal_click",{cta:"contact_dbx_support"},(function(){p.redirect("/support")}))},t.handlePlansRedirect=function(){_.ProEventsLogger.log("not_satisfied_modal_click",{cta:"compare_plans"},(function(){p.redirect("/plans")}))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.isBiz?h:f;return n.createElement("div",{className:m("reasons-wrapper")},this.props.reasons.map((function(t){var a=e.props.selectedReasonVal===t.value;return n.createElement("div",{key:t.value},n.createElement(u.Button,{className:d.default(m("reason"),m("reason",t.value),{selected:a,"explicit-unselected":void 0!==e.props.selectedReasonVal&&e.props.selectedReasonVal!==t.value}),variant:"secondary",key:t.value,onClick:e.props.handleSelectReason.bind(e,t.value)},t.reason),t.value===r.NOT_SATISFIED_REASON_VALUE&&a&&n.createElement("div",{className:m("not-satisfied-response")},c.reactFormat(i._("We can help make things right. <a>Contact Dropbox support</a>"),{a:n.createElement("a",{href:"#","aria-label":i._("Contact Dropbox support"),className:m("not-satisfied-response-support"),onClick:e.handleSupportRedirect})}),n.createElement("br",null),c.reactFormat(i._("There may be a better fit. <a>Compare plans</a>"),{a:n.createElement("a",{href:"#","aria-label":i._("Compare plans"),className:m("not-satisfied-response-compare"),onClick:e.handlePlansRedirect})})))})),this.props.selectedReasonVal!==t.value&&n.createElement(u.Button,{className:d.default(m("reason"),{"explicit-unselected":void 0!==this.props.selectedReasonVal}),variant:"secondary",key:t.value,onClick:this.props.handleSelectReason.bind(this,t.value)},t.reason),this.props.selectedReasonVal===t.value&&n.createElement("div",{className:m("other-wrapper")},n.createElement(o.Label,{htmlFor:"other-input",className:m("other-subheader")},i._("Other")),n.createElement(s.TextArea,{id:"other-input",className:m("other-input"),placeholder:i._("Tell us why you want to cancel (optional)"),onChange:this.props.onOtherInputChange})))},t})(n.PureComponent);t.ChurnSurveyReasonsWrapper=g})),define("modules/clean/account_page/widgets/plan/views/churn_survey/indiv_churn_survey",["require","exports","tslib","react","modules/core/browser","external/lodash","modules/clean/react/survey/types/survey_types","spectrum/modal","modules/clean/react/modal","modules/core/i18n","modules/clean/react/css","modules/clean/static_urls","modules/clean/react_format","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/churn_survey/churn_survey_wrapper","modules/clean/payments/skus/constants","modules/clean/account_page/widgets/plan/views/churn_survey/response_compare_plans","modules/clean/account_page/widgets/plan/views/churn_survey/response_switch_plan","modules/clean/account_page/widgets/plan/views/retention_policy_modal","modules/clean/analytics","modules/clean/account_page/widgets/plan/views/churn_survey/utils","modules/clean/payments/cash"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g,y,b,S,v){"use strict";var M;Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),r=a.__importStar(r),(function(e){e[e.SURVEY=0]="SURVEY",e[e.SWITCH_TO_YEARLY=1]="SWITCH_TO_YEARLY",e[e.SWITCH_TO_MONTHLY=2]="SWITCH_TO_MONTHLY",e[e.SWITCH_TO_PLUS=3]="SWITCH_TO_PLUS",e[e.SWITCH_TO_BUSINESS=4]="SWITCH_TO_BUSINESS",e[e.COMPARE_PLANS=5]="COMPARE_PLANS"})(M=t.FlowState||(t.FlowState={}));var L=(function(e){function t(t){var a=e.call(this,t)||this;return a.handleClose=function(){b.ProEventsLogger.log("individual_cancel_survey_modal_close",void 0,(function(){a.setState({isOpen:!1})}))},a.handleSkipSurvey=function(){b.ProEventsLogger.log("individual_cancel_survey_modal_skip",void 0,a.props.postSurveyHandler)},a.switchBillingPrimaryAction=function(e){b.ProEventsLogger.log("too_expensive_modal_click",{featureType:e,cta:"switch"},(function(){a.props.openChangeScheduleModal({eventNameBase:"too_expensive_modal",extra:{featureType:e}},!0)}))},a.handleTooExpensive=function(){a.billingSchedule===h.ScheduleId.MONTHLY?(b.ProEventsLogger.log("too_expensive_modal_view",{featureType:"monthly"}),a.setState({flowState:M.SWITCH_TO_YEARLY})):a.plan===h.ProductPlanType.PLUS&&a.billingSchedule===h.ScheduleId.YEARLY?(b.ProEventsLogger.log("too_expensive_modal_view",{featureType:"plus_annual"}),a.setState({flowState:M.SWITCH_TO_MONTHLY})):a.plan===h.ProductPlanType.PROFESSIONAL&&a.billingSchedule===h.ScheduleId.YEARLY||a.plan===h.ProductPlanType.PROFESSIONAL_TRIAL?a.setState({flowState:M.SWITCH_TO_PLUS}):a.props.postSurveyHandler()},a.handleSubmitSurvey=function(){a.state.selectedReasonVal&&b.ProEventsLogger.log("individual_cancel_survey_modal_submit",{downgradeReasonId:a.state.selectedReasonVal,additionalInfo:a.state.otherResponse},(function(){switch(a.state.selectedReasonVal){case s.TOO_EXPENSIVE_REASON_VALUE:var e=a.isBillingScheduledToChange(),t=a.isPlanScheduledToChangeToPlus();e&&t?a.props.postSurveyHandler():e?a.plan===h.ProductPlanType.PROFESSIONAL||a.plan===h.ProductPlanType.PROFESSIONAL_TRIAL?a.setState({flowState:M.SWITCH_TO_PLUS}):a.props.postSurveyHandler():t?a.billingSchedule===h.ScheduleId.YEARLY?(b.ProEventsLogger.log("too_expensive_modal_view",{featureType:"plus_annual"}),a.setState({flowState:M.SWITCH_TO_MONTHLY})):a.props.postSurveyHandler():a.handleTooExpensive();break;case s.SWITCH_TO_BUSINESS_REASON_VALUE:a.setState({flowState:M.SWITCH_TO_BUSINESS});break;case s.NEED_DIFFERENT_PLAN_REASON_VALUE:a.setState({flowState:M.COMPARE_PLANS});break;default:a.props.postSurveyHandler()}}))},a.handleSelectReason=function(e){e===s.NOT_SATISFIED_REASON_VALUE&&b.ProEventsLogger.log("not_satisfied_modal_view"),a.setState({selectedReasonVal:e,otherResponse:""})},a.handleComparePlans=function(){r.redirect("/plans")},a.handleTryBusinessStandard=function(){r.redirect("/business/try?sku=std")},a.handleTryBusinessAdvanced=function(){r.redirect("/business/try?sku=adv")},a.onOtherInputChange=function(e){a.setState({otherResponse:e.currentTarget.value})},a.state={otherResponse:"",isOpen:!0,flowState:M.SURVEY},a.reasons=a.generateSurveyReasons(),a}return a.__extends(t,e),t.showInstance=function(e){l.Modal.showInstance(n.createElement(t.IndivChurnSurveyModal,a.__assign({},e)))},t.prototype.generateSurveyReasons=function(){return i.shuffle([{value:s.TOO_EXPENSIVE_REASON_VALUE,reason:d._("Too expensive")},{value:s.TEMPORARY_NEED_REASON_VALUE,reason:d._("Temporary need")},{value:s.NOT_SATISFIED_REASON_VALUE,reason:d._("Not satisfied")},{value:s.SWITCH_TO_BUSINESS_REASON_VALUE,reason:d._("Switching to %(dropbox_business)s").format({dropbox_business:_.TRADEMARK_BUSINESS})},{value:s.NEED_DIFFERENT_PLAN_REASON_VALUE,reason:d._("Need a different plan")}])},Object.defineProperty(t.prototype,"plan",{get:function(){return this.props.subStatus.subState.plan?this.props.subStatus.subState.plan.productType:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"billingSchedule",{get:function(){return this.props.subStatus.subState.billingSchedule?this.props.subStatus.subState.billingSchedule.id:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switchToYearlyProps",{get:function(){var e=this;return{expRetentionIndivChurnSurvey:!0,title:d._("Save up to %(save_percentage)s with yearly billing").format({save_percentage:d.format_percent(17)}),description:d._("Pay for one year of Dropbox up front and save up to %(save_percentage)s.").format({save_percentage:d.format_percent(17)}),src:c.static_url("/static/images/montana/montana-retention-vflaaCrZP.png"),srcHiRes:c.static_url("/static/images/montana/montana-retention@2x-vflXD1euT.png"),imageAlt:d._("User flying on a airplane towards a better plan."),primaryAction:d._("Switch to yearly billing"),secondaryAction:d._("Continue canceling"),valuePropositions:[],onPrimaryAction:this.switchBillingPrimaryAction.bind(this,"monthly"),onSecondaryAction:function(){b.ProEventsLogger.log("too_expensive_modal_click",{featureType:"monthly",cta:"continue_cancelling"},e.props.postSurveyHandler)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switchToMonthlyProps",{get:function(){var e=this;return a.__assign(a.__assign({},this.switchToYearlyProps),{title:d._("Switch to monthly billing"),primaryAction:d._("Switch to monthly billing"),description:p.reactFormat(d._("Need more flexibility with your Dropbox plan? Pay monthly instead.%(br)sYou can change your billing preferences at any time."),{br:n.createElement("br",null)}),onPrimaryAction:this.switchBillingPrimaryAction.bind(this,"plus_annual"),onSecondaryAction:function(){b.ProEventsLogger.log("too_expensive_modal_click",{featureType:"plus_annual",cta:"continue_cancelling"},e.props.postSurveyHandler)}})},enumerable:!0,configurable:!0}),t.prototype.isPlanScheduledToChangeToPlus=function(){var e=this.props.subStatus,t=this.plan;return!(!t||!e.finalSubState.plan)&&(t!==e.finalSubState.plan.productType&&e.finalSubState.plan.productType===h.ProductPlanType.PLUS)},t.prototype.isBillingScheduledToChange=function(){var e=this.props.subStatus,t=this.billingSchedule;return!(!t||!e.finalSubState.billingSchedule)&&t!==e.finalSubState.billingSchedule.id},Object.defineProperty(t.prototype,"shouldShowBilledMonthlyPrice",{get:function(){return S.shouldShowBilledMonthlyPrice(this.isBillingScheduledToChange(),this.billingSchedule)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentUserPrice",{get:function(){var e=this.props.subStatus.nextBillingSummary;if(!e)return"";var t=!this.shouldShowBilledMonthlyPrice;return v.Cash.formatWithTaxLabels(e.total,e,t)},enumerable:!0,configurable:!0}),t.prototype.getRenderedContent=function(){switch(this.state.flowState){case M.SURVEY:return n.createElement(m.ChurnSurvey,{reasons:this.reasons,selectedReasonVal:this.state.selectedReasonVal,handleSelectReason:this.handleSelectReason,onOtherInputChange:this.onOtherInputChange,handleSkipSurvey:this.handleSkipSurvey,handleSubmitSurvey:this.handleSubmitSurvey,isBiz:!1});case M.SWITCH_TO_YEARLY:return n.createElement(y.RetentionPolicyModal,a.__assign({},this.switchToYearlyProps));case M.SWITCH_TO_MONTHLY:return n.createElement(y.RetentionPolicyModal,a.__assign({},this.switchToMonthlyProps));case M.SWITCH_TO_PLUS:return n.createElement(g.ResponseSwitchPlan,{handleCancel:this.props.postSurveyHandler,responseType:g.ResponseSwitchPlanType.SWITCH_PRO_TO_PLUS,handleSwitchToPlus:this.props.openChangePlanModal,handleTryBusinessStandard:this.handleTryBusinessStandard,handleTryBusinessAdvanced:this.handleTryBusinessAdvanced,handleComparePlans:this.handleComparePlans,shouldShowBilledMonthly:this.shouldShowBilledMonthlyPrice,currentUserPrice:this.currentUserPrice});case M.SWITCH_TO_BUSINESS:return n.createElement(g.ResponseSwitchPlan,{handleCancel:this.props.postSurveyHandler,responseType:g.ResponseSwitchPlanType.SWITCH_TO_BUSINESS,handleTryBusinessStandard:this.handleTryBusinessStandard,handleTryBusinessAdvanced:this.handleTryBusinessAdvanced,handleComparePlans:this.handleComparePlans});case M.COMPARE_PLANS:return n.createElement(f.ResponseComparePlans,{currentBillingSchedule:this.billingSchedule,isBillingScheduledToChange:this.isBillingScheduledToChange(),currentSpaceUsage:this.props.currentSpaceUsage,handleDowngrade:this.props.postSurveyHandler,productType:this.plan,handleSwitchPlans:this.props.openChangePlanModal,handleTryBusinessStandard:this.handleTryBusinessStandard,handleTryBusinessAdvanced:this.handleTryBusinessAdvanced,handleComparePlans:this.handleComparePlans,currentUserPrice:this.currentUserPrice,shouldShowBilledMonthlyPrice:this.shouldShowBilledMonthlyPrice,isPlanScheduledToChangeToPlus:this.isPlanScheduledToChangeToPlus()})}},t.prototype.render=function(){return n.createElement(o.Modal,{ariaLabel:"IndivChurnSurveyModal",open:this.state.isOpen,displayCloseButton:!0,overlayClickClose:!1,onRequestClose:this.handleClose,width:642},this.getRenderedContent())},t.IndivChurnSurveyModal=u.requireCssWithComponent(t,["/static/css/spectrum/index.web-vfl_-DzRS.css","/static/css/account/pagelet/churn_survey-vfl1J-D2h.css","/static/css/account/pagelet/plan_card-vfluu43Z0.css"]),t})(n.Component);t.IndivChurnSurveyModalView=L})),define("modules/clean/account_page/widgets/plan/views/churn_survey/plan_comparison_table",["require","exports","tslib","react","modules/core/i18n","spectrum/table","spectrum/media_table","modules/clean/account_page/widgets/plan/views/churn_survey/plan_comparison_dropdown","modules/clean/account_page/widgets/plan/views/churn_survey/utils","modules/clean/bem","classnames","modules/core/browser_detection","classnames"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),u=a.__importDefault(u),c=a.__importStar(c),p=a.__importDefault(p);var _=d.bem("churn-survey");t.PlanComparisonTable=function(e){var t=e.selectedColInfo,a=r._("Not included");return n.createElement(i.Table,{columnFlex:[1,1,1]},n.createElement(i.TableHead,{className:p.default(_("table-header"),{ie:c.msie})},n.createElement(i.TableHeadCell,null,n.createElement("div",{className:_("feature-header")},r._("Feature"))),n.createElement(i.TableHeadCell,null,n.createElement("div",{className:_("current-plan-wrapper")},n.createElement("div",{className:_("current-plan-col-name")},r._("Current plan")),n.createElement("div",{className:_("current-plan-header")},e.currentPlanName))),n.createElement(i.TableHeadCell,null,n.createElement(o.PlanComparisonDropdown,{currentPlanName:e.currentPlanName,handleSetSelectedColInfo:e.handleSetSelectedColInfo,selectedPlanName:t?t.display_name:void 0,planColInfos:e.planColInfos}))),n.createElement(i.TableBody,null,e.planFeatureRows.map((function(e){var r,i;return n.createElement(s.MediaRow,{className:_("feature-table-row"),key:e.rowTitle},n.createElement(s.MediaCell,{className:_("feature-icon"),icon:l.greenCheck,title:e.rowTitle}),n.createElement(s.MediaCell,{title:e.currentPlanTitle,subtitle:e.currentPlanSubTitle,className:u.default((r={},r[_("not-included-cell")]=e.currentPlanTitle===a,r[_("current-plan",e.planFeatureTag)]=e.planFeatureTag,r))}),n.createElement(s.MediaCell,{title:e.selectedPlanTitle,subtitle:t&&e.selectedPlanSubTitle,className:u.default((i={},i[_("not-included-cell")]=e.selectedPlanTitle===a,i[_("selected-plan",e.planFeatureTag)]=e.planFeatureTag,i))}))}))))}})),define("modules/clean/account_page/widgets/plan/views/churn_survey/plan_comparison_dropdown",["require","exports","tslib","react","modules/core/browser_detection","modules/core/i18n","modules/clean/bem","spectrum/popover","spectrum/dropdown_button","modules/clean/react/portal_popover","classnames","modules/constants/trademark"],(function(e,t,a,n,r,i,s,o,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),r=a.__importStar(r),u=a.__importDefault(u);var p=s.bem("churn-survey"),_=function(e){return n.createElement(o.PopoverContentItem,{className:p("popover-plans-item")+" "+p("popover-plans-item",e.display_name),key:e.display_name,value:e.display_name},n.createElement("div",{className:p("popover-plans-text")},e.display_name),n.createElement("div",{className:p("popover-plans-subtext")},e.dropdown_subtext))};t.PlanComparisonDropdown=function(e){return n.createElement("div",{className:p("compare-with-wrapper")},n.createElement("div",null,i._("Compare with")),n.createElement("div",{className:p("dropdown-wrapper")},n.createElement(d.PortalPopover,{onSelection:e.handleSetSelectedColInfo,popoverTriggerSelector:"."+p("dropdown-button"),contentClassName:p("popover-plans"),renderPopoverItems:(a=e.planColInfos,s=e.currentPlanName,function(){var e=[a.basicCol,a.plusCol,a.professionalCol].filter((function(e){return e.display_name!==s})),t=[a.businessStandardCol,a.businessAdvancedCol].filter((function(e){return e.display_name!==s}));return n.createElement("div",null,n.createElement(o.PopoverItemGroup,{"aria-label":i._("Dropbox Individual Plans")},n.createElement(o.PopoverItemGroupTitle,{className:p("popover-plans-group-title")},i._("Dropbox Individual Plans")),e.map(_)),n.createElement(o.PopoverContentSeparator,null),n.createElement(o.PopoverItemGroup,{"aria-label":i._("%(trademark_business)s Plans").format({trademark_business:c.TRADEMARK_BUSINESS})},n.createElement(o.PopoverItemGroupTitle,{className:p("popover-plans-group-title")},i._("%(trademark_business)s Plans").format({trademark_business:c.TRADEMARK_BUSINESS})),t.map(_)))}),renderPopoverTrigger:(t=e.selectedPlanName,function(){var e=t||i._("Select plan");return r.msie?n.createElement("span",{className:"mc-dropdown-button mc-button mc-button-secondary "+u.default(p("dropdown-button"),{ie:!0}),role:"button"},n.createElement("span",{className:u.default(p("dropdown-button-content"),{bold:void 0!==t,ie:!0})},e),n.createElement("span",{className:p("dropdown-button-arrow-ie")},"▾")):n.createElement(l.DropdownButton,{className:p("dropdown-button"),variant:"secondary",tagName:"span"},n.createElement("div",{className:u.default(p("dropdown-button-content"),{bold:void 0!==t})},e))}),attachment:"left"})));var t,a,s}})),define("modules/clean/account_page/widgets/plan/views/churn_survey/response_compare_plans",["require","exports","tslib","react","modules/core/i18n","modules/clean/bem","modules/clean/api_v2/user_client","modules/clean/account_page/util","spectrum/button","modules/clean/static_urls","modules/clean/payments/skus/constants","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/churn_survey/plan_comparison_table","modules/clean/display_format","modules/clean/react_format","modules/core/notify","modules/clean/analytics","modules/clean/react/browse/uri_helper"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var y=i.bem("churn-survey"),b=(function(e){function t(t){var i=e.call(this,t)||this;return i.getShortDisplayTextIfAny=function(e,t){var a=e.features.find((function(e){return e.plan_feature_enum[".tag"]===t}));return a&&a.is_included?a.short_display_text||r._("Included"):void 0},i.getDropdownSubtext=function(e,t){return e===c.TRADEMARK_BUSINESS_STANDARD?r._("%(space_quota)s of space for your team").format({space_quota:t}):e===c.TRADEMARK_BUSINESS_ADVANCED?r._("All the space your team needs"):r._("%(space_quota)s of space").format({space_quota:t})},i.setCurrentColInfo=function(){var e=i.props,t=e.productType,n=e.currentUserPrice,r=i.state.planColInfos;if(r){var s={price_monthly:n,price_annual_by_month:n};i.props.isPlanScheduledToChangeToPlus||t===u.ProductPlanType.PLUS||t===u.ProductPlanType.PLUS_TRIAL||t===u.ProductPlanType.PLUS_WITH_SS||t===u.ProductPlanType.PLUS_WITH_SS_TRIAL?i.setState({currentColInfo:a.__assign(a.__assign({},r.plusCol),s)}):t!==u.ProductPlanType.PROFESSIONAL&&t!==u.ProductPlanType.PROFESSIONAL_TRIAL||i.setState({currentColInfo:a.__assign(a.__assign({},r.professionalCol),s)})}},i.loadPlanCardInfo=function(){(new s.UserApiV2Client).ns("growth_plans").rpc("get_plan_card_info_with_country",{country_override:g.getQueryArgs().country_override},{subjectUserId:o.getCurrentUser().id}).then((function(e){var t=e.plan_card_infos;i.setState({planColInfos:{basicCol:i.getColInfo(t,"basic",c.TRADEMARK_BASIC),plusCol:i.getColInfo(t,"plus",c.TRADEMARK_PLUS),professionalCol:i.getColInfo(t,"professional",c.TRADEMARK_PROFESSIONAL),businessStandardCol:i.getColInfo(t,"business_standard",c.TRADEMARK_BUSINESS_STANDARD),businessAdvancedCol:i.getColInfo(t,"business_advanced",c.TRADEMARK_BUSINESS_ADVANCED)}},(function(){i.setCurrentColInfo()}))}))},i.showWrongPlanError=function(){h.Notify.error(r._("Please choose a valid plan."),5)},i.handleComparePlans=function(){f.ProEventsLogger.log("diff_plan_modal_click",{cta:"compare_all_plans"},i.props.handleComparePlans)},i.handleCancel=function(){f.ProEventsLogger.log("diff_plan_modal_click",{cta:"continue_cancelling"},i.props.handleDowngrade)},i.handleDowngrade=function(){f.ProEventsLogger.log("diff_plan_modal_click",{cta:"select_plan",selected_plan:"basic"},i.props.handleDowngrade)},i.handleTryBusinessStandard=function(){f.ProEventsLogger.log("diff_plan_modal_click",{cta:"select_plan",selected_plan:"business_standard"},i.props.handleTryBusinessStandard)},i.handleTryBusinessAdvanced=function(){f.ProEventsLogger.log("diff_plan_modal_click",{cta:"select_plan",selected_plan:"business_advanced"},i.props.handleTryBusinessAdvanced)},i.handleSwitchToPlus=function(){f.ProEventsLogger.log("diff_plan_modal_click",{cta:"select_plan",selected_plan:"plus"},(function(){i.props.handleSwitchPlans({eventNameBase:"diff_plan_modal"},!0)}))},i.handleSwitchToPro=function(){f.ProEventsLogger.log("diff_plan_modal_click",{cta:"select_plan",selected_plan:"professional"},(function(){i.props.handleSwitchPlans({eventNameBase:"diff_plan_modal"},!0)}))},i.handleSelectPlan=function(){if(i.state.selectedColInfo){var e=i.state.selectedColInfo.display_name;e===c.TRADEMARK_BASIC?i.handleDowngrade():e===c.TRADEMARK_BUSINESS_STANDARD?i.handleTryBusinessStandard():e===c.TRADEMARK_BUSINESS_ADVANCED?i.handleTryBusinessAdvanced():e===c.TRADEMARK_PLUS?i.handleSwitchToPlus():e===c.TRADEMARK_PROFESSIONAL?i.handleSwitchToPro():i.showWrongPlanError()}},i.handleSetSelectedColInfo=function(e){var t=i.state.planColInfos;e===c.TRADEMARK_BASIC?i.setState({selectedColInfo:t.basicCol}):e===c.TRADEMARK_PLUS?i.setState({selectedColInfo:t.plusCol}):e===c.TRADEMARK_PROFESSIONAL?i.setState({selectedColInfo:t.professionalCol}):e===c.TRADEMARK_BUSINESS_STANDARD?i.setState({selectedColInfo:t.businessStandardCol}):e===c.TRADEMARK_BUSINESS_ADVANCED?i.setState({selectedColInfo:t.businessAdvancedCol}):i.showWrongPlanError()},i.getBillingScheduleTitle=function(e,t){var a=i.props,n=a.currentBillingSchedule,s=a.shouldShowBilledMonthlyPrice;if(n&&t){if(t.display_name===c.TRADEMARK_BASIC)return t.price_annual_by_month;var o=s?t.price_monthly:t.price_annual_by_month;return t.display_name===c.TRADEMARK_PLUS||t.display_name===c.TRADEMARK_PROFESSIONAL?r._("%(price)s per month").format({price:o}):r._("%(price)s per person per month").format({price:o})}},i.getBillingScheduleSubTitle=function(e){var t=i.props,a=t.currentBillingSchedule,n=t.shouldShowBilledMonthlyPrice;if(a&&(!e||e.display_name!==c.TRADEMARK_BASIC))return n?r._("billed monthly"):r._("billed yearly")},i.getColInfos=function(){var e=i.state.currentColInfo,t=i.state.selectedColInfo,a=r._("Not included"),s={rowTitle:r._("Price"),planFeatureTag:"price",currentPlanTitle:i.getBillingScheduleTitle(e,e),currentPlanSubTitle:i.getBillingScheduleSubTitle(),selectedPlanTitle:t&&i.getBillingScheduleTitle(e,t),selectedPlanSubTitle:i.getBillingScheduleSubTitle(t)},o=n.createElement("span",null,m.reactFormat(r._("Using <bold>%(usage)s</bold> out of %(quota)s").format({usage:_.format_bytes(i.props.currentSpaceUsage,1),quota:e.space_quota}),{bold:n.createElement("b",null)}));return[s,{rowTitle:r._("Storage"),currentPlanTitle:o,selectedPlanTitle:t&&t.space_quota},{rowTitle:r._("Dropbox Transfer"),currentPlanTitle:e.dropbox_transfer||a,selectedPlanTitle:t&&(t.dropbox_transfer||a)},{rowTitle:r._("Shared link controls"),currentPlanTitle:e.shared_link_controls||a,selectedPlanTitle:t&&(t.shared_link_controls||a)},{rowTitle:r._("Dropbox Rewind"),currentPlanTitle:e.version_history||a,selectedPlanTitle:t&&(t.version_history||a)}]},i.state={},i}return a.__extends(t,e),t.prototype.componentDidMount=function(){f.ProEventsLogger.log("diff_plan_modal_view"),this.loadPlanCardInfo()},t.prototype.getColInfo=function(e,t,a){var n=e.find((function(e){return e.plan_enum[".tag"]===t})),r=this.getShortDisplayTextIfAny(n,"space_quota");return{display_name:a,price_annual_by_month:n.price_annual_by_month,price_monthly:n.price_monthly,space_quota:r,dropbox_transfer:this.getShortDisplayTextIfAny(n,"dropbox_transfer"),version_history:this.getShortDisplayTextIfAny(n,"version_history"),shared_link_controls:this.getShortDisplayTextIfAny(n,"shared_link_controls"),dropdown_subtext:r?this.getDropdownSubtext(a,r):""}},t.prototype.render=function(){return n.createElement("div",{className:y("")+" "+y("compare-plans")},this.state.currentColInfo&&this.state.planColInfos?n.createElement("div",null,n.createElement("div",{className:y("header")},r._("Let’s get you on the right plan")),n.createElement(p.PlanComparisonTable,{currentPlanName:this.state.currentColInfo.display_name,handleSetSelectedColInfo:this.handleSetSelectedColInfo,selectedColInfo:this.state.selectedColInfo,planFeatureRows:this.getColInfos(),planColInfos:this.state.planColInfos}),n.createElement("div",{className:y("plan-compare-bottom-ctas")},n.createElement("a",{href:"#","aria-label":r._("Compare all plans"),className:y("plan-compare-link"),onClick:this.handleComparePlans},r._("Compare all plans")),n.createElement("div",null,n.createElement(l.Button,{"aria-label":r._("Continue canceling"),className:y("btn-compare-plan")+" "+y("btn-compare-plan","secondary"),variant:"secondary",onClick:this.handleCancel},r._("Continue canceling")),n.createElement(l.Button,{"aria-label":r._("Select plan"),className:y("btn-compare-plan")+" "+y("btn-compare-plan","primary"),disabled:!this.state.selectedColInfo,onClick:this.handleSelectPlan},r._("Select plan"))))):n.createElement("div",{className:y("response-switch-loading-wrapper")},n.createElement("img",{src:d.static_url("/static/images/icons/ajax-loading-small-blue-vflVk_QNP.gif"),alt:r._("Loading")})))},t})(n.PureComponent);t.ResponseComparePlans=b})),define("modules/clean/account_page/widgets/plan/views/churn_survey/response_switch_plan",["require","exports","tslib","react","modules/core/i18n","modules/clean/bem","modules/constants/trademark","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/react_format","modules/clean/account_page/widgets/plan/views/plan_card","modules/clean/static_urls","modules/clean/analytics","modules/clean/react/browse/uri_helper"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var m,h=i.bem("churn-survey");(function(e){e[e.SWITCH_TO_BUSINESS=0]="SWITCH_TO_BUSINESS",e[e.SWITCH_PRO_TO_PLUS=1]="SWITCH_PRO_TO_PLUS"})(m=t.ResponseSwitchPlanType||(t.ResponseSwitchPlanType={}));var f=["min_licenses","space_quota","dropbox_transfer","version_history","tiered_admin_roles","device_approvals"],g=["space_quota","dropbox_transfer","version_history","shared_link_controls","viewer_history"],y=(function(e){function t(t){var a=e.call(this,t)||this;return a.loadPlanCardInfo=function(){(new o.UserApiV2Client).ns("growth_plans").rpc("get_plan_card_info_with_country",{country_override:_.getQueryArgs().country_override},{subjectUserId:l.getCurrentUser().id}).then((function(e){var t=e.plan_card_infos;a.setState({planCardInfos:{plusCard:a.getFilteredCard(t,"plus"),professionalCard:a.getFilteredCard(t,"professional"),businessStandardCard:a.getFilteredCard(t,"business_standard"),businessAdvancedCard:a.getFilteredCard(t,"business_advanced")}})}))},a.handleComparePlans=function(){a.props.responseType===m.SWITCH_TO_BUSINESS?p.ProEventsLogger.log("switch_biz_modal_click",{cta:"compare_plans"},a.props.handleComparePlans):a.props.responseType===m.SWITCH_PRO_TO_PLUS&&p.ProEventsLogger.log("too_expensive_modal_click",{featureType:"pro_annual",cta:"compare_plans"},a.props.handleComparePlans)},a.handleCancel=function(){a.props.responseType===m.SWITCH_TO_BUSINESS?p.ProEventsLogger.log("switch_biz_modal_click",{cta:"continue_cancelling"},a.props.handleCancel):a.props.responseType===m.SWITCH_PRO_TO_PLUS&&p.ProEventsLogger.log("too_expensive_modal_click",{featureType:"pro_annual",cta:"continue_cancelling"},a.props.handleCancel)},a.handleTryBusinessStandard=function(){p.ProEventsLogger.log("switch_biz_modal_click",{cta:"try_free",selected_plan:"business_standard"},a.props.handleTryBusinessStandard)},a.handleTryBusinessAdvanced=function(){p.ProEventsLogger.log("switch_biz_modal_click",{cta:"try_free",selected_plan:"business_advanced"},a.props.handleTryBusinessAdvanced)},a.handleSwitchPlus=function(){var e=a.props.handleSwitchToPlus;e&&p.ProEventsLogger.log("too_expensive_modal_click",{featureType:"pro_annual",cta:"switch"},(function(){e({eventNameBase:"too_expensive_modal",extra:{featureType:"pro_annual"}},!0)}))},a.renderPlanCards=function(){var e=a.state.planCardInfos,t=a.props,i=t.shouldShowBilledMonthly,o=t.currentUserPrice;return a.props.responseType===m.SWITCH_PRO_TO_PLUS&&a.props.handleSwitchToPlus?n.createElement("div",{className:h("plan-cards-wrapper")},n.createElement("div",{className:h("plan-cards-content")},n.createElement("p",{className:h("plan-cards-header")},r._("What you have")),n.createElement(u.PlanCard,{isHighlighted:!1,isBusiness:!1,planDisplayName:s.DROPBOX_PROFESSIONAL,features:e.professionalCard.features,pricePerMonth:o||(i?e.professionalCard.price_monthly:e.professionalCard.price_annual_by_month),isBilledMonthly:i})),n.createElement("div",{className:h("plan-cards-content")},n.createElement("p",{className:h("plan-cards-header")},r._("What we recommend")),n.createElement(u.PlanCard,{isHighlighted:!0,isBusiness:!1,planDisplayName:s.DROPBOX_PLUS,features:e.plusCard.features,pricePerMonth:i?e.plusCard.price_monthly:e.plusCard.price_annual_by_month,primaryCta:{primaryText:r._("Switch to %(dropbox_plus)s").format({dropbox_plus:s.DROPBOX_PLUS}),onClick:a.handleSwitchPlus},isBilledMonthly:i}))):n.createElement("div",{className:h("plan-cards-wrapper")},n.createElement("div",{className:h("plan-cards-content")},n.createElement(u.PlanCard,{isHighlighted:!1,isBusiness:!0,planDisplayName:s.DROPBOX_BUSINESS_STANDARD,features:e.businessStandardCard.features,pricePerMonth:e.businessStandardCard.price_annual_by_month,primaryCta:{primaryText:r._("Try free for %(trial_days)d days").format({trial_days:30}),onClick:a.handleTryBusinessStandard}})),n.createElement("div",{className:h("plan-cards-content")},n.createElement(u.PlanCard,{isHighlighted:!1,isBusiness:!0,planDisplayName:s.DROPBOX_BUSINESS_ADVANCED,features:e.businessAdvancedCard.features,pricePerMonth:e.businessAdvancedCard.price_annual_by_month,primaryCta:{primaryText:r._("Try free for %(trial_days)d days").format({trial_days:30}),onClick:a.handleTryBusinessAdvanced}})))},a.renderResponseContent=function(){return n.createElement("div",null,n.createElement("div",{className:h("header")},a.props.responseType===m.SWITCH_TO_BUSINESS?r._("Switch to %(trademark_business)s").format({trademark_business:s.TRADEMARK_BUSINESS}):r._("Save up to %(percentage)s with %(dropbox_plus)s").format({percentage:r.format_percent(40),dropbox_plus:s.DROPBOX_PLUS})),a.renderPlanCards(),n.createElement("div",{className:h("plan-cards-bottom-ctas")},n.createElement("p",null,d.reactFormat(r._("Need more info? <a>Compare plans</a>"),{a:n.createElement("a",{href:"#","aria-label":r._("Compare plans"),onClick:a.handleComparePlans,className:h("plan-cards-compare-link")})})),n.createElement("a",{href:"#",onClick:a.handleCancel,className:h("plan-cards-cancel-link")},r._("Continue canceling"))))},a.state={},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.responseType===m.SWITCH_TO_BUSINESS?p.ProEventsLogger.log("switch_biz_modal_view"):this.props.responseType===m.SWITCH_PRO_TO_PLUS&&p.ProEventsLogger.log("too_expensive_modal_view",{featureType:"pro_annual"}),this.loadPlanCardInfo()},t.prototype.getFilteredCard=function(e,t){var n=e.find((function(e){return e.plan_enum[".tag"]===t})),r=this.props.responseType===m.SWITCH_TO_BUSINESS?f:g;return a.__assign(a.__assign({},n),{features:r.map((function(e){return n.features.find((function(t){return t.plan_feature_enum[".tag"]===e}))})).filter((function(e){return void 0!==e}))})},t.prototype.render=function(){return n.createElement("div",{className:h("")+" "+h("switch-plans")},this.state.planCardInfos?this.renderResponseContent():n.createElement("div",{className:h("response-switch-loading-wrapper")},n.createElement("img",{src:c.static_url("/static/images/icons/ajax-loading-small-blue-vflVk_QNP.gif"),alt:r._("Loading")})))},t})(n.PureComponent);t.ResponseSwitchPlan=y})),define("modules/clean/account_page/widgets/plan/views/churn_survey/utils",["require","exports","tslib","react","modules/core/browser","spectrum/icon_status","modules/clean/analytics","modules/clean/payments/skus/constants"],(function(e,t,a,n,r,i,s,o){"use strict";var l;function d(e,t,n){var r=t===l.CANCEL_BUTTON?e.eventNameBase+"_dismiss":e.eventNameBase+"_click";s.ProEventsLogger.log(r,a.__assign(a.__assign({},e.extra),{cta:t.toString()}),n)}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),r=a.__importStar(r),t.greenCheck=n.createElement(i.IconStatus,{width:"16",height:"16",name:"complete"}),(function(e){e.CANCEL_LINK="cancel_link",e.CANCEL_BUTTON="cancel_button",e.UNLESS_LEGALLY_REQUIRED="unless_legally_required",e.UPDATE_BILLING_INFO="update_billing_info",e.CONFIRM="confirm"})(l=t.IndivChurnSurveyLogAction||(t.IndivChurnSurveyLogAction={})),t.logIndivChurnSurveyAction=d,t.onClickCancelLink=function(e){d(e,l.CANCEL_LINK,(function(){r.redirect("/help/billing/cancel-dropbox-plus")}))},t.onClickLegalLink=function(e){d(e,l.UNLESS_LEGALLY_REQUIRED,(function(){r.redirect("/help/billing/plus-refund")}))},t.shouldShowBilledMonthlyPrice=function(e,t){return t===o.ScheduleId.MONTHLY&&!e||t===o.ScheduleId.YEARLY&&e},t.mockGetPlanCardInfoResult={plan_card_infos:[{plan_enum:{".tag":"basic"},display_name:"Basic",price_annual_by_month:"Free",price_monthly:"Free",features:[{plan_feature_enum:{".tag":"space_quota"},display_text:"2 GB of space",short_display_text:"2 GB",is_included:!0},{plan_feature_enum:{".tag":"dropbox_transfer"},display_text:"Dropbox Transfer (up to 100 MB)",short_display_text:"100 MB",is_included:!0},{plan_feature_enum:{".tag":"version_history"},display_text:"Version history",is_included:!1},{plan_feature_enum:{".tag":"shared_link_controls"},display_text:"Shared link controls",is_included:!1},{plan_feature_enum:{".tag":"viewer_history"},display_text:"Viewer history",is_included:!1},{plan_feature_enum:{".tag":"min_licenses"},display_text:"Just you",is_included:!0},{plan_feature_enum:{".tag":"tiered_admin_roles"},display_text:"Tiered admin roles",is_included:!1},{plan_feature_enum:{".tag":"device_approvals"},display_text:"Device approvals",is_included:!1}]},{plan_enum:{".tag":"plus"},display_name:"Plus",price_annual_by_month:"$9.99",price_monthly:"$11.99",features:[{plan_feature_enum:{".tag":"space_quota"},display_text:"2 TB (2,000 GB) of space",short_display_text:"2 TB (2,000 GB)",is_included:!0},{plan_feature_enum:{".tag":"dropbox_transfer"},display_text:"Dropbox Transfer (up to 2 GB)",short_display_text:"2 GB",is_included:!0},{plan_feature_enum:{".tag":"version_history"},display_text:"30-day version history",short_display_text:"30-day history",is_included:!0},{plan_feature_enum:{".tag":"shared_link_controls"},display_text:"Shared link controls",is_included:!1},{plan_feature_enum:{".tag":"viewer_history"},display_text:"Viewer history",is_included:!1},{plan_feature_enum:{".tag":"min_licenses"},display_text:"Just you",is_included:!0},{plan_feature_enum:{".tag":"tiered_admin_roles"},display_text:"Tiered admin roles",is_included:!1},{plan_feature_enum:{".tag":"device_approvals"},display_text:"Device approvals",is_included:!1}]},{plan_enum:{".tag":"professional"},display_name:"Professional",price_annual_by_month:"$16.58",price_monthly:"$19.99",features:[{plan_feature_enum:{".tag":"space_quota"},display_text:"3 TB (3,000 GB) of space",short_display_text:"3 TB (3,000 GB)",is_included:!0},{plan_feature_enum:{".tag":"dropbox_transfer"},display_text:"Dropbox Transfer (up to 100 GB)",short_display_text:"100 GB",is_included:!0},{plan_feature_enum:{".tag":"version_history"},display_text:"180-day version history",short_display_text:"180-day history",is_included:!0},{plan_feature_enum:{".tag":"shared_link_controls"},display_text:"Shared link controls",is_included:!0},{plan_feature_enum:{".tag":"viewer_history"},display_text:"Viewer history",is_included:!0},{plan_feature_enum:{".tag":"min_licenses"},display_text:"Just you",is_included:!0},{plan_feature_enum:{".tag":"tiered_admin_roles"},display_text:"Tiered admin roles",is_included:!1},{plan_feature_enum:{".tag":"device_approvals"},display_text:"Device approvals",is_included:!1}]},{plan_enum:{".tag":"business_standard"},display_name:"Standard",price_annual_by_month:"$12.50",price_monthly:"$15",features:[{plan_feature_enum:{".tag":"space_quota"},display_text:"5 TB (5,000 GB) of space",short_display_text:"5 TB (5,000 GB)",is_included:!0},{plan_feature_enum:{".tag":"dropbox_transfer"},display_text:"Dropbox Transfer (up to 2 GB)",short_display_text:"2 GB",is_included:!0},{plan_feature_enum:{".tag":"version_history"},display_text:"180-day version history",short_display_text:"180-day history",is_included:!0},{plan_feature_enum:{".tag":"shared_link_controls"},display_text:"Shared link controls",is_included:!0},{plan_feature_enum:{".tag":"viewer_history"},display_text:"Viewer history",is_included:!1},{plan_feature_enum:{".tag":"min_licenses"},display_text:"Minimum 3 people",is_included:!0},{plan_feature_enum:{".tag":"tiered_admin_roles"},display_text:"Tiered admin roles",is_included:!1},{plan_feature_enum:{".tag":"device_approvals"},display_text:"Device approvals",is_included:!1}]},{plan_enum:{".tag":"business_advanced"},display_name:"Advanced",price_annual_by_month:"$20",price_monthly:"$25",features:[{plan_feature_enum:{".tag":"space_quota"},display_text:"As much space as you need",short_display_text:"As much space as you need",is_included:!0},{plan_feature_enum:{".tag":"dropbox_transfer"},display_text:"Dropbox Transfer (up to 100 GB)",short_display_text:"100 GB",is_included:!0},{plan_feature_enum:{".tag":"version_history"},display_text:"180-day version history",short_display_text:"180-day history",is_included:!0},{plan_feature_enum:{".tag":"shared_link_controls"},display_text:"Shared link controls",is_included:!0},{plan_feature_enum:{".tag":"viewer_history"},display_text:"Viewer history",is_included:!0},{plan_feature_enum:{".tag":"min_licenses"},display_text:"Minimum 3 people",is_included:!0},{plan_feature_enum:{".tag":"tiered_admin_roles"},display_text:"Tiered admin roles",is_included:!0},{plan_feature_enum:{".tag":"device_approvals"},display_text:"Device approvals",is_included:!0}]}]}})),define("modules/clean/account_page/widgets/plan/views/biz_trial_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/bem","modules/clean/account_page/util","modules/clean/react/css","modules/clean/web_timing_logger","modules/clean/react/modal","modules/clean/api_v2/user_client","modules/clean/react/browse/uri_helper","modules/clean/payments/skus/constants","modules/core/notify","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/trial_start_modal","modules/clean/account_page/widgets/plan/views/loading_view","modules/clean/payments/skus/constants"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g){"use strict";var y;Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),l=a.__importStar(l),t.cn=i.bem("biz-trial-modal"),(function(e){e.BUSINESS_STANDARD="business_standard",e.BUSINESS_ADVANCED="business_advanced"})(y||(y={}));var b=(function(e){function i(t){var a=e.call(this,t)||this;return a.showBadPlanError=function(){_.Notify.error(r._("Please go back, and choose a valid plan."),5)},a.loadPlanCardInfo=function(){(new u.UserApiV2Client).ns("growth_plans").rpc("get_plan_card_info_with_country",{country_override:c.getQueryArgs().country_override},{subjectUserId:s.getCurrentUser().id}).then((function(e){var t=e.plan_card_infos;a.setState({planCardInfo:a.getFilteredCard(t)})}))},a.handleStartNCCT=function(){},a.handleStartTrial=function(){},a.state={},a}return a.__extends(i,e),i.showInstance=function(e){d.Modal.showInstance(n.createElement(i.BizTrialModal,a.__assign({},e)))},i.prototype.componentDidMount=function(){l.mark_time_to_interactive(),this.loadPlanCardInfo()},Object.defineProperty(i.prototype,"billingPeriodText",{get:function(){return this.props.shouldShowBilledMonthlyPrice?r._("billed monthly"):r._("billed yearly")},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"planPrice",{get:function(){var e=this.state.planCardInfo;return e?this.props.shouldShowBilledMonthlyPrice?e.price_monthly:e.price_annual_by_month:""},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"planName",{get:function(){switch(this.props.productPlanType){case p.ProductPlanType.STANDARD:return m.DROPBOX_BUSINESS_STANDARD;case p.ProductPlanType.ADVANCED:return m.DROPBOX_BUSINESS_ADVANCED;default:return this.showBadPlanError(),""}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"planTag",{get:function(){switch(this.props.productPlanType){case p.ProductPlanType.STANDARD:return y.BUSINESS_STANDARD;case p.ProductPlanType.ADVANCED:return y.BUSINESS_ADVANCED;default:return this.showBadPlanError(),""}},enumerable:!0,configurable:!0}),i.prototype.getFilteredCard=function(e){var t=this;return e.find((function(e){return e.plan_enum[".tag"]===t.planTag}))},i.prototype.render=function(){return n.createElement(h.TrialStartModalView,{loading:!this.state.planCardInfo,loadingComponent:n.createElement(f.LoadingView,{className:t.cn("loading-indicator")}),planName:this.planName,planPrice:this.planPrice,className:t.cn(""),billingPeriodText:this.billingPeriodText,trialLengthDays:g.TRIAL_LENGTH_DEFAULT,handleStartNCCT:this.handleStartNCCT,handleStartTrial:this.handleStartTrial})},i.BizTrialModal=o.requireCssWithComponent(i,["/static/css/dig-components/index.web-vflOjr3ra.css","/static/css/account/pagelet/biz_trial_modal-vflULFjsO.css"]),i})(n.PureComponent);t.BizTrialModalView=b})),define("modules/clean/account_page/widgets/plan/views/loading_view",["require","exports","tslib","react","modules/core/i18n","modules/clean/static_urls"],(function(e,t,a,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.LoadingView=function(e){return n.createElement("div",{className:e.className},n.createElement("img",a.__assign({src:i.static_url("/static/images/icons/ajax-loading-small-blue-vflVk_QNP.gif"),alt:r._("Loading")},e.imageProps)))}})),define("modules/clean/account_page/widgets/plan/views/trial_start_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/bem","modules/clean/react_format","modules/clean/account_page/util","modules/clean/account_page/util","dig-components/controls","dig-components/buttons","dig-components/typography","modules/clean/web_timing_logger","modules/core/browser","spectrum/modal","modules/clean/react/css","modules/clean/react/modal","modules/clean/account_page/widgets/plan/views/loading_view"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),p=a.__importStar(p),_=a.__importStar(_),t.cn=i.bem("trial-start-modal");var y=(function(e){function i(t){var a=e.call(this,t)||this;return a.callIfPresent=function(e){e&&e()},a.handleTermsChange=function(){a.callIfPresent(a.props.handleTermsChange),a.setState((function(e){return{termsChecked:!e.termsChecked}}))},a.handleUseCardChange=function(){a.callIfPresent(a.props.handleUseCardChange),a.setState((function(e){return{useCardChecked:!e.useCardChecked}}))},a.onAgreementClick=function(){a.callIfPresent(a.props.onAgreementClick),_.open_tab("/business_agreement")},a.onTermsClick=function(){a.callIfPresent(a.props.onTermsClick),_.open_tab("/terms")},a.handleSubmit=function(){a.callIfPresent(a.props.onSubmit),a.state.useCardChecked?a.props.handleStartTrial():a.props.handleStartNCCT()},a.handleClose=function(){a.callIfPresent(a.props.handleClose),a.setState({open:!1})},a.state={open:!0,termsChecked:!1,useCardChecked:!0},a}return a.__extends(i,e),i.prototype.componentDidMount=function(){p.mark_time_to_interactive()},i.showInstance=function(e){f.Modal.showInstance(n.createElement(i.TrialStartModal,a.__assign({},e)))},i.prototype.renderContent=function(){return n.createElement("div",{className:t.cn("")+" "+this.props.className},n.createElement("div",{className:t.cn("header-group")},n.createElement(c.Title,{isBold:!0,className:t.cn("trial-header")},r._("Start your 30-day free trial")),n.createElement(c.Text,{className:t.cn("trial-sub-title")},r._("You’re signed in with %(email)s").format({email:o.getCurrentUser().email})),n.createElement(c.Text,{className:t.cn("email-change-header")},s.reactFormat(r._("If you don’t want to use this email address, you can <signInLink>sign in with another account</signInLink> or <createAccountLink>create a new one</createAccountLink>."),{signInLink:n.createElement(c.Link,{hasNoUnderline:!0,href:"#"}),createAccountLink:n.createElement(c.Link,{hasNoUnderline:!0,href:"#"})}))),n.createElement("div",{className:t.cn("grey-box")},n.createElement("div",{className:t.cn("trial-info-header")},n.createElement("div",{className:t.cn("trial-name-row")},n.createElement(c.Title,{isBold:!0,className:t.cn("trial-plan-name")},this.props.planName),n.createElement(c.Text,{className:t.cn("trial-end-date")},r._("Trial ends %(date)s").format({date:l.getDate(this.props.trialLengthDays)}))),n.createElement(c.Text,{className:t.cn("trial-pricing")},r._("%(price)s per person per month (after trial ends)").format({price:this.props.planPrice})),n.createElement(c.Text,{className:t.cn("billing-period-text")},this.props.billingPeriodText)),n.createElement("div",null,n.createElement(c.Title,{isBold:!0,className:t.cn("use-card-title")},r._("Want to use the card on file once your trial ends?")),n.createElement("div",{className:t.cn("use-card-row")},n.createElement(d.Checkbox,{"aria-labelledby":"use-card-checkbox-label",className:t.cn("use-card-checkbox"),onChange:this.handleUseCardChange,checked:this.state.useCardChecked}),n.createElement(c.Text,{className:t.cn("use-card-text"),id:"use-card-checkbox-label"},r._("Use card on file after trial ends"))))),n.createElement("div",{className:t.cn("cta")},n.createElement("div",{className:t.cn("terms-row")},n.createElement(d.Checkbox,{"aria-labelledby":"terms-checkbox-label",className:t.cn("terms-checkbox"),onChange:this.handleTermsChange}),n.createElement(c.Text,{className:t.cn("terms-text"),id:"terms-checkbox-label"},s.reactFormat(r._("I agree to the <bizAgreementLink>%(plan)s Agreement</bizAgreementLink> and <termsLink>Terms</termsLink>.").format({plan:this.props.planName}),{bizAgreementLink:n.createElement(c.Link,{className:t.cn("agreement-link"),hasNoUnderline:!0,href:"#",onClick:this.onAgreementClick}),termsLink:n.createElement(c.Link,{className:t.cn("terms-link"),hasNoUnderline:!0,href:"#",onClick:this.onTermsClick})}))),n.createElement(u.Button,{variant:this.state.termsChecked?"primary":"outline",disabled:!this.state.termsChecked,onClick:this.handleSubmit,className:t.cn("submit-button")},r._("Start %(trial_length)s-day free trial").format({trial_length:this.props.trialLengthDays.toString()}))))},i.prototype.render=function(){var e=this.props.loadingComponent?this.props.loadingComponent:n.createElement(g.LoadingView,{className:t.cn("loading-indicator")});return n.createElement(m.Modal,a.__assign({ariaLabel:"BizTrialModal",open:this.state.open,displayCloseButton:!0,overlayClickClose:!1,onRequestClose:this.handleClose,width:700},this.props.spectrumModalProps),this.props.loading?e:this.renderContent())},i.TrialStartModal=h.requireCssWithComponent(i,["/static/css/dig-components/index.web-vflOjr3ra.css","/static/css/account/pagelet/biz_trial_modal-vflULFjsO.css"]),i})(n.PureComponent);t.TrialStartModalView=y})),define("modules/clean/account_page/widgets/plan/views/individual_cancel_survey_modal",["require","exports","tslib","external/lodash","react","spectrum/button","spectrum/modal","spectrum/input","spectrum/label","spectrum/radio_button","modules/clean/analytics","modules/clean/csrf","modules/clean/react/modal","modules/clean/react_format","modules/constants/trademark","modules/core/exception","modules/core/i18n","modules/core/uri","modules/core/browser","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/ux_analytics_utils","modules/clean/ux_analytics_modal_tracking","modules/clean/api_v2/user_client","modules/core/notify","modules/clean/account_page/util"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g,y,b,S,v,M,L,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),y=a.__importStar(y),t.ROOT_DOWNGRADE_URI=new g.URI({path:"/downgrade",query:{oqa:"acc_cancel"}});var w={101:new g.URI({path:"/downgrade/reply/save-money",query:{next:t.ROOT_DOWNGRADE_URI.toString(),oqa:"SVY_BTN_MNY"}}),102:new g.URI({path:"/downgrade/reply/tech-issues",query:{next:t.ROOT_DOWNGRADE_URI.toString(),oqa:"SVY_BTN_TECH"}}),103:new g.URI({path:"/downgrade/reply/better-alternative",query:{next:t.ROOT_DOWNGRADE_URI.toString(),oqa:"SVY_BTN_ALT"}}),104:new g.URI({path:"/downgrade/reply/temporary-need",query:{next:t.ROOT_DOWNGRADE_URI.toString(),oqa:"SVY_BTN_TEMP"}}),106:t.ROOT_DOWNGRADE_URI,107:new g.URI({path:"/downgrade",query:{oqa:"acc_cancel_107"}}),108:new g.URI({path:"/downgrade",query:{oqa:"acc_cancel_108"}})},C=(function(e){function g(a){var s=e.call(this,a)||this;return s.onPrimaryAction=function(){if("submitting"!==s.state.submitState){var e=s.state,t=e.additionalInfo,a=e.downgradeReasonId,r=n.find(s.surveyReasons,(function(e){return e.value===a}));if(r){var i=w[r.value];i?(s.formRef.action=i.toString(),s.setState({submitState:"submitting"},(function(){s.props.expMontanaActive?(b.MontanaLogger.logEvent("cancel_click",{featureType:"survey",cta:"submit"}),(new M.UserApiV2Client).ns("montana").rpc("submit_cancel_survey_response",{additional_info:t,downgrade_reason_id:a},{subjectUserId:T.getCurrentUser().id}).then((function(e){s.closeModal()}),(function(e){h.reportStack("There was an issue submit cancel survey response.",{exc_extra:{selectedOption:a,err:e},severity:"critical"}),L.Notify.error(f._("There was an issue, please contact Customer Support."))}))):u.ProEventsLogger.log("individual_cancel_survey_modal_submit",{additionalInfo:t,downgradeReasonId:a},(function(){s.formRef.submit()}))}))):h.reportStack("Could not find the next URI for the selected survey option.",{exc_extra:{selectedOption:r.value},severity:"critical"})}else h.reportStack("Could not find the selected survey option.",{exc_extra:{selectedOption:a},severity:"critical"})}},s.onSecondaryAction=function(){s.props.expMontanaActive?b.MontanaLogger.logEvent("cancel_dismiss",{featureType:"survey",cta:"skip"}):u.ProEventsLogger.log("individual_cancel_survey_modal_close"),s.closeModal()},s.onSkipSurvey=function(){u.ProEventsLogger.log("individual_cancel_survey_modal_skip",{},(function(){y.redirect(t.ROOT_DOWNGRADE_URI)}))},s.onCloseAction=function(){s.props.expMontanaActive?b.MontanaLogger.logEvent("cancel_dismiss",{featureType:"survey"}):u.ProEventsLogger.log("individual_cancel_survey_modal_close"),s.closeModal()},s.handleFeedbackChange=function(e){return s.setState({additionalInfo:e.target.value})},s.handleReasonChange=function(e){return s.setState({downgradeReasonId:e.target.value})},s.closeModal=function(){S.dispatchModalClosed(),s.setState({isOpen:!1},(function(){var e=s.props,t=e.expMontanaActive,a=e.onClose,n=e.exitModalFlow;p.Modal.close(),!t&&a&&a(),t&&n&&(n(),y.reload())}))},s.saveFormRef=function(e){return s.formRef=e},s.renderPrimaryAction=function(e){var t=s.state.submitState,a=s.formRef&&s.formRef.checkValidity(),n=s.props.expMontanaActive?f._("Submit"):f._("Continue with cancellation");return r.default.createElement(i.Button,{disabled:"submitting"!==t&&!a,onClick:e},n)},s.renderSecondaryAction=function(e){var t=s.props.expMontanaActive?f._("Skip"):f._("Don’t Cancel");return r.default.createElement(i.Button,{onClick:e,variant:"secondary"},t)},s.surveyReasons=s.generateSurveyReasons(),s.state={additionalInfo:"",downgradeReasonId:"",isOpen:!0,submitState:null},a.expMontanaActive&&!b.MontanaLogger.isInitialized()&&b.MontanaLogger.initialize(a.subStatus),s}return a.__extends(g,e),Object.defineProperty(g.prototype,"description",{get:function(){return this.props.firstName?this.props.expMontanaActive?f._("Hey %(first_name)s, would you mind telling us why you canceled your plan today?").format({first_name:this.props.firstName}):_.reactFormat(f._("Hey %(first_name)s, we’re sorry you’re thinking of leaving us. Would you tell             us why? We might be able to help!"),{first_name:this.props.firstName}):f._("Hey, we’re sorry you’re thinking of leaving us. Would you tell       us why? We might be able to help!")},enumerable:!0,configurable:!0}),g.prototype.generateSurveyReasons=function(){var e=this.props.subStatus,t=e&&e.subState.planSku&&e.subState.planSku.content?e.subState.planSku.content.dropboxDisplayName():"",a=n.shuffle([{value:"101",reason:f._("I found %(current_plan)s too expensive for the value I received").format({current_plan:t})},{value:"102",reason:f._("I wasn’t satisfied with or had issues with the features")},{value:"103",reason:f._("I found another product I liked better")},{value:"104",reason:f._("I needed %(current_plan)s temporarily").format({current_plan:t})},{value:"107",reason:f._("I am switching to %(dropbox_business)s").format({dropbox_business:m.TRADEMARK_BUSINESS})},{value:"108",reason:f._("I’ve had a major personal or professional life change since initial purchase")}]);return a.push({value:"106",reason:f._("Other (please fill in reason below)")}),a},g.prototype.render=function(){var e=this,t=this.props.expMontanaActive?f._("Share your thoughts with us"):f._("Are you sure you want to cancel?"),a=this.props.expMontanaActive?void 0:f._("Skip"),n=this.props.expMontanaActive?void 0:this.onSkipSurvey;return r.default.createElement(s.UtilityModal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:f._("Cancel plan"),className:"individual-cancel-survey-modal",displayCloseButton:!0,link:a,onLink:n,onPrimaryAction:this.onPrimaryAction,onReady:S.dispatchModalOpened,onRequestClose:this.onCloseAction,onSecondaryAction:this.onSecondaryAction,open:this.state.isOpen,primaryAction:this.renderPrimaryAction,secondaryAction:this.renderSecondaryAction,shouldRequestCloseOnActions:!1,shouldFocusAfterRender:!0,title:t,width:640},r.default.createElement(v.UXAnalyticsModalTracking,{id:"individual-cancel-survey-modal"}),r.default.createElement("form",{className:"individual-cancel-survey-modal__survey-container",ref:this.saveFormRef,method:"post"},r.default.createElement("input",{type:"hidden",name:"t",value:c.readCsrfToken()||""}),r.default.createElement("p",null,this.description),r.default.createElement("p",null,r.default.createElement("strong",null,f._("Please select one reason for cancelling"))),r.default.createElement("p",null,this.surveyReasons.map((function(t){var a=t.value,n=t.reason;return r.default.createElement("div",{className:"individual-cancel-survey-modal__radio-survey-option",key:a+"-option"},r.default.createElement(d.RadioButton,{key:a+"-option",name:"downgrade_reason_id","aria-checked":e.state.downgradeReasonId===a,checked:e.state.downgradeReasonId===a,onChange:e.handleReasonChange,value:a,required:!0},n))}))),r.default.createElement("div",null,r.default.createElement(l.Label,{htmlFor:"individual_cancel_survey_modal_additional_info"},r.default.createElement("strong",null,f._("Let us know more about why you’re cancelling:"))),r.default.createElement(o.TextArea,{className:"individual-cancel-survey-modal__additional-info",fullWidth:!0,onChange:this.handleFeedbackChange,name:"additional_info",id:"individual_cancel_survey_modal_additional_info",placeholder:f._("Reason for cancelling (optional)"),value:this.state.additionalInfo}))))},g})(r.default.Component);t.IndividualCancelSurveyModal=C})),define("modules/clean/account_page/widgets/plan/views/individual_inline_payment_method",["require","exports","tslib","react","modules/core/i18n","modules/clean/account_page/widgets/billing/payment_method_constants","modules/clean/payments/skus/constants","modules/clean/react_format"],(function(e,t,a,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.isExpProPlansV3=function(){var e=this.props.expProPlansModal;return e&&"V3"===e},t.prototype.renderCreditCard=function(){var e=this.props,t=e.paymentMethod,a=e.isRedesignedModal,i=e.nextBillingDate,l=e.scheduleId,d=e.totalPrice;if(t){var u=t.account.slice(-4),c=void 0;return this.isExpProPlansV3()?(c=r._("Your card ending in %(last4)s",{comment:"Letting the user know which credit card will be debited by indicating the last 4 digits."}).format({last4:u}),n.default.createElement("span",null,c," ")):a?(c=l===s.ScheduleId.YEARLY?o.reactFormat(r._("Starting <strong>%(date)s</strong>, we’ll charge you <strong>%(scheduled_total)s</strong> per year on your card ending in <strong>%(last4)s</strong>."),{last4:u,date:i,scheduled_total:d,strong:n.default.createElement("strong",null)}):o.reactFormat(r._("Starting <strong>%(date)s</strong>, we’ll charge you <strong>%(scheduled_total)s</strong> per month on your card ending in <strong>%(last4)s</strong>."),{last4:u,date:i,scheduled_total:d,strong:n.default.createElement("strong",null)}),n.default.createElement("span",null,c," ")):(c=r._("We’ll charge your card ending in %(last4)s.",{comment:"Letting the user know which credit card will be debited by indicating the last 4 digits."}).format({last4:u}),n.default.createElement("span",null,c," ",this.props.renderUpdateLink))}return n.default.createElement("span",null)},t.prototype.renderDirectDebit=function(){var e=this.props,t=e.paymentMethod,a=e.isRedesignedModal,i=e.nextBillingDate,l=e.scheduleId,d=e.totalPrice;if(t){var u=t.account.slice(-4),c=void 0;return this.isExpProPlansV3()?(c=r._("Your IBAN ending in %(last4)s",{comment:"Letting the user know which credit card will be debited by indicating the last 4 digits."}).format({last4:u}),n.default.createElement("span",null,c," ")):a?(c=l===s.ScheduleId.YEARLY?o.reactFormat(r._("Starting <strong>%(date)s</strong>, we’ll charge you <strong>%(scheduled_total)s</strong> per year on your IBAN ending in <strong>%(last4)s</strong>."),{last4:u,date:i,scheduled_total:d,strong:n.default.createElement("strong",null)}):o.reactFormat(r._("Starting <strong>%(date)s</strong>, we’ll charge you <strong>%(scheduled_total)s</strong> per month on your IBAN ending in <strong>%(last4)s</strong>."),{last4:u,date:i,scheduled_total:d,strong:n.default.createElement("strong",null)}),n.default.createElement("span",null,c," ")):(c=r._("We’ll charge your IBAN ending in %(last4)s.",{comment:"Letting the user know which debit account will be debited by indicating the last 4 digits."}).format({last4:u}),n.default.createElement("span",null,c," ",this.props.renderUpdateLink))}return n.default.createElement("span",null)},t.prototype.renderPaypal=function(){var e=this.props,t=e.renderUpdateLink,a=e.isRedesignedModal,i=e.nextBillingDate,l=e.scheduleId,d=e.totalPrice;if(this.isExpProPlansV3())return n.default.createElement("span",null,r._("Your PayPal account")," ");if(a){var u=l===s.ScheduleId.YEARLY?o.reactFormat(r._("Starting <strong>%(date)s</strong>, we’ll charge you <strong>%(scheduled_total)s</strong> per year on your Paypal account."),{date:i,scheduled_total:d,strong:n.default.createElement("strong",null)}):o.reactFormat(r._("Starting <strong>%(date)s</strong>, we’ll charge you <strong>%(scheduled_total)s</strong> per month on your Paypal account."),{date:i,scheduled_total:d,strong:n.default.createElement("strong",null)});return n.default.createElement("span",null,u," ")}return n.default.createElement("span",null,r._("We’ll charge your PayPal account.")," ",t)},t.prototype.render=function(){var e=this.props,t=e.paymentMethod,a=e.paymentErrorMessage;if(!t&&a)return n.default.createElement("span",null,a," ",this.props.renderUpdateLink);if(!t)return n.default.createElement("span",null);switch(t.gateway_id){case i.BRAINTREE:return this.renderCreditCard();case i.ADYEN_SEPA_GATEWAY:return this.renderDirectDebit();case i.PAYPAL:case i.PAYPAL_REFERENCE_TRANSACTION:return this.renderPaypal();default:return n.default.createElement("span",null)}},t})((n=a.__importDefault(n)).default.Component);t.IndividualInlinePaymentMethodView=l})),define("modules/clean/account_page/widgets/plan/views/plan_card",["require","exports","tslib","react","modules/core/i18n","modules/clean/bem","classnames","spectrum/button","dig-components/buttons","modules/clean/static_urls"],(function(e,t,a,n,r,i,s,o,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importDefault(s);var u=i.bem("plan-card");t.PlanCard=function(e){var t,a,i;return e.isInSwitchPlanModal?(t=d.static_url("/static/images/growth/checkmark-vfljJCDEB.svg"),a=d.static_url("/static/images/growth/cross-vflscuyg9.svg"),i=e.primaryCta?n.createElement(l.Button,{className:u("btn-primary"),variant:"primary",onClick:e.primaryCta.onClick},e.primaryCta.primaryText):n.createElement(l.Button,{className:u("btn-primary"),variant:"outline",disabled:!0},r._("Current plan"))):(t=d.static_url("/static/images/payments/plans/check-blue-vflIlMMsE.svg"),a=d.static_url("/static/images/payments/plans/cross-gray-vflwIK7NX.svg"),i=e.primaryCta?n.createElement(o.Button,{className:u("btn-primary"),variant:"primary",onClick:e.primaryCta.onClick},e.primaryCta.primaryText):null),n.createElement("div",{className:s.default(u(""),{highlighted:e.isHighlighted})},n.createElement("div",{className:s.default(u("highlight-bar"),{unhighlighted:!e.isHighlighted})}),n.createElement("div",{className:u("wrapper")},n.createElement("div",{className:u("content")},n.createElement("div",{className:u("plan-display-name")},e.planDisplayName),n.createElement("div",{className:u("price")},e.pricePerMonth),n.createElement("div",{className:u("per-month")},e.isBusiness?r._("per person per month",{comment:"The price of a Dropbox business plan is shown above this text"}):r._("per month",{comment:"The price of a Dropbox plan is shown above this text"})),n.createElement("div",{className:u("billing-period")},e.isBilledMonthly?r._("billed monthly",{comment:"The price (per month) of a Dropbox plan is shown above this text"}):r._("billed yearly",{comment:"The price (per month) of a Dropbox plan is shown above this text"})),n.createElement("div",{className:u("feature-wrapper")},e.features.map((function(e,i){return n.createElement("div",{className:u("feature-row"),key:i},e.is_included?n.createElement("img",{className:u("check-icon"),src:t,alt:r._("Included")}):n.createElement("img",{className:u("cross-icon"),src:a,alt:r._("Not included")}),e.display_text)})))),i))}})),define("modules/clean/account_page/widgets/plan/views/plan_status",["require","exports","tslib","modules/core/browser","react","modules/clean/viewer","modules/core/uri","modules/core/i18n","modules/clean/account_page/components/button_block","modules/core/exception","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/account_page/widgets/billing/payment_method_constants","modules/clean/static_urls","modules/clean/react/payments/error/browser_update_required_modal","modules/clean/payments/cash","modules/clean/account_page/widgets/plan/views/change_plan_modal","modules/clean/account_page/widgets/plan/views/change_schedule_modal","modules/clean/account_page/widgets/plan/views/cancel_subs_warning_modal","modules/clean/payments/skus/constants","modules/clean/analytics","modules/clean/react_format","modules/constants/trademark","classnames","spectrum/button","spectrum/tertiary_link","modules/clean/stormcrow/experiment","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/payments/skus/sku_content","modules/clean/account_page/widgets/plan/views/basic_plan_status"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g,y,b,S,v,M,L,T,w,C,D,E,P,k){"use strict";var Y,N;Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),r=a.__importDefault(r),L=a.__importDefault(L),(function(e){e[e.Cancel=0]="Cancel",e[e.Change=1]="Change",e[e.Manage=2]="Manage",e[e.Upgrade=3]="Upgrade"})(Y||(Y={})),(function(e){e.BUTTON="button",e.QUERY_PARAM="query_param"})(N||(N={}));var x=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isOverQuota=function(){return t.usage>t.quota},t.logSeePlanDetails=function(){S.ProEventsLogger.log("de_plan_tab_details_click")},t.cancelPlanClick=function(){t.props.isPersonalUser?n.redirect("/downgrade"):n.redirect("/team/cancel")},t.openChangeBillingPeriodModal=function(e){return function(a){a&&a.preventDefault();var n=t.props,r=n.browserUpdateRequired,i=n.expMontana,s=n.onUpdate,o=n.paymentInfo,l=n.scheduledForDowngrade,d=n.subStatus;l?y.CancelChangesModalConfirmation.showInstance({transitionPerformed:s,subStatus:d}):(g.ChangeScheduleModalView.showInstance({transitionPerformed:s,paymentInfo:o,browserUpdateRequired:r,expMontana:i}),S.ProEventsLogger.log(e))}},t.onChangeBillingPeriodClick=t.openChangeBillingPeriodModal("de_plan_tab_change_billing_open_modal"),t.onSwitchToYearlyBillingClick=t.openChangeBillingPeriodModal("click_savings_banner"),t.onSavingsBannerClose=function(e){e.preventDefault(),(new D.UserApiV2Client).ns("montana").rpc("mark_savings_banner_as_dismissed",void 0,{subjectUserId:E.getCurrentUser().id}).then((function(){S.ProEventsLogger.log("dismiss_savings_banner"),t.props.onSavingsBannerDismissed()}))},t.onUpdateBillingClick=function(e){e.preventDefault(),t.props.browserUpdateRequired?m.BrowserUpdateModalLoader.showInstance():u.IndividualUpdateBillingModalLoader.showInstance()},t.redirectToUpgrade=function(){S.ProEventsLogger.log("de_plan_tab_upgrade_to_plus_click");var e=t.isOverQuota()?"acc_plan_upgrade_overquota_btn":"acc_plan_upgrade",a=new s.URI({path:"/upgrade",query:{oqa:e}}).toString();n.redirect(a)},t.purchaseNowClick=function(){S.ProEventsLogger.log("de_plan_tab_purchase_now_click"),n.redirect("/pro/convert")},t.cancelTrialClick=function(){S.ProEventsLogger.log("de_plan_tab_cancel_trial_click");var e=t.props,a=e.expRenewIndivChurnSurvey,r=e.modalCallbacks,i=e.expRetentionIndivChurnSurveyTrials;return a&&C.Experiment(a).variantIs("V1")&&r&&r.openIndividualCancelSurvey?r.openIndividualCancelSurvey():C.Experiment(i).variantIs("CONTROL")&&r&&r.handleCancel?r.handleCancel():C.Experiment(i).variantIs("V1")&&r&&r.openRetentionIndivChurnSurveyV1?r.openRetentionIndivChurnSurveyV1():C.Experiment(i).variantIs("V2")&&r&&r.openRetentionIndivChurnSurveyV2?r.openRetentionIndivChurnSurveyV2():void n.redirect("/downgrade")},t.contactSupportClick=function(){S.ProEventsLogger.log("de_plan_tab_contact_support_click"),n.redirect("/support")},t.addPaymentClick=function(){S.ProEventsLogger.log("de_plan_tab_add_payment_method_click"),u.IndividualUpdateBillingModalLoader.showInstance()},t.openChangePlanModal=function(e,a){void 0===a&&(a=N.BUTTON),e&&e.preventDefault(),t.props.isLoggedInUser||(t.props.isPersonalUser?n.redirect("/account/plan"):n.redirect("/team/admin/billing/manage"));var r=t.props,i=r.browserUpdateRequired,s=r.scheduledForDowngrade,o=r.paymentInfo,l=r.tryFreeTrial,d=r.plusToProTrialVariant,u=r.modalCallbacks,c=r.shouldShowRedesignedModal;if(s)y.CancelChangesModalConfirmation.showInstance({transitionPerformed:t.props.onUpdate,subStatus:t.props.subStatus,userIdOverride:t.getUserForModal(),shouldShowRedesignedModal:c});else{if("ON"===d&&u&&u.openTrialConvertModal)return u.openTrialConvertModal();if(a!==N.QUERY_PARAM&&l&&u&&u.openTrialStartModal)return u.openTrialStartModal();if(a!==N.QUERY_PARAM&&c&&u&&u.openSwitchPlanModal)return u.openSwitchPlanModal();f.ChangePlanModalView.showInstance({browserUpdateRequired:i,transitionPerformed:t.props.onUpdate,paymentInfo:o,userIdOverride:t.getUserForModal(),expMontana:t.props.expMontana});var p=t.isPlusPlan()?"plus":t.isProfessionalPlan()?"pro":"other";S.ProEventsLogger.log("de_plan_tab_change_plan_open_modal_from_"+p)}},t.renderContactSupportLink=function(){return r.default.createElement("div",{className:"plan-status-section__contact_support_link"},r.default.createElement("a",{href:"#",onClick:t.contactSupportClick},o._("Contact support to change plan")))},t.renderPlanDetailsButton=function(){var e=t.props,a=e.handlePlanDetailsExpand,n=e.shouldShowPlanDetails?o._("Hide details"):o._("What’s included?");return r.default.createElement(w.TertiaryLink,{onClick:a},n)},t.renderPlanDetailsList=function(){var e=t.props,a=e.plusSkuContent,n=e.subStatus;if(a&&n){var i=P.SkuContentClient.deserialize(a),s=[o._("%(storage_space)s of storage").format({storage_space:i.spaceLongFormRounded()}),o.ungettext("%(evh_days)s-day version history and file recovery","%(evh_days)s-day version history and file recovery",n.vacuumingPolicyMaxDays).format({evh_days:n.vacuumingPolicyMaxDays}),o._("Sync all your files automatically across all your devices")].map((function(e,t){return r.default.createElement("li",{className:"feature-item",key:t},e)}));return r.default.createElement("ul",{className:"features-list"},s)}},t.renderBillingDisabledMessage=function(){var e=t.props,a=e.paymentInfo,n=e.scheduledForDowngrade,i=e.hasUnusedLicenseKey,s=e.showChangeBillingPeriod;if(a&&s&&!i){var o=a.gateway_id,l=a.is_reseller_billing,d=a.end_date,u=a.deactivated,p=a.is_on_trial,_=a.reseller_name,m=a.reseller_link;if((!a.schedule_switchable&&!n||c.shouldHideBillingChange(o,l))&&!t.isTrialPlan()){var h=c.getBillingDisabledMessage({gatewayId:o,isResellerBilling:l,resellerName:_,resellerLink:m,dropboxPlan:M.TRADEMARK_PLUS,endDate:d,deactivated:u,isOnTrial:p});return r.default.createElement("span",{className:"plan-status-section__message"},h)}}},t.renderPlanStatusExpWayfinding=function(e,a,n){return r.default.createElement("div",{className:"plan-status__exp-retention-account-wayfinding"},r.default.createElement("div",{className:"current-plan-badge"},o._("CURRENT PLAN")),r.default.createElement("div",{className:"plan-status-section"},t.renderDropboxLogo(),r.default.createElement("div",{className:"plan-status-section__description"},r.default.createElement("h1",{className:"plan-status-section__title"},e),n,t.renderBillingDisabledMessage(),t.renderPlanDetailsButton()),a),t.props.shouldShowPlanDetails&&t.renderPlanDetailsList())},t.renderBillingPeriod=function(){var e=t.props,a=e.paymentInfo,n=e.scheduledForDowngrade,i=e.hasUnusedLicenseKey;if(a&&t.props.showChangeBillingPeriod&&!i){var s=a.gateway_id,l=a.is_reseller_billing,d=a.end_date,u=a.deactivated,p=a.is_on_trial,_=a.reseller_name,m=a.reseller_link;if(!a.schedule_switchable&&!n&&!t.isProfessionalTrial()||c.shouldHideBillingChange(s,l)){var h=c.getBillingDisabledMessage({gatewayId:s,isResellerBilling:l,resellerName:_,resellerLink:m,dropboxPlan:M.TRADEMARK_PLUS,endDate:d,deactivated:u,isOnTrial:p});return r.default.createElement("span",{className:"plan-status-section__message"},h)}if(!t.isPlusTrial())return a.is_in_grace_period?r.default.createElement("a",{href:"#",className:"plan-status-section__link",onClick:t.onUpdateBillingClick},o._("Please update your billing information")):r.default.createElement("a",{href:"#",className:"plan-status-section__link","data-test":"change-billing-link",onClick:t.onChangeBillingPeriodClick},o._("Change billing period"))}},t.changePlanClick=function(){t.props.subStatus.subState.plan.isEnterprise?n.redirect("/team/admin/help?role=work"):n.redirect("/team/admin/billing/manage?show_switch_plan")},t.managePlanClick=function(){n.redirect("/team/admin/billing/manage")},t.createTrialCtaButtons=function(e,a){return void 0===e&&(e=!0),void 0===a&&(a=!1),a?r.default.createElement("div",{className:"plan-status-section__upgrade_btn trial-cta"},r.default.createElement("button",{className:"mc-button mc-button-secondary cancel-button",onClick:t.cancelTrialClick},o._("Cancel trial"))):e?r.default.createElement("div",{className:"plan-status-section__upgrade_btn trial-cta"},r.default.createElement("button",{className:"button-primary purchase-button",onClick:t.purchaseNowClick},o._("Purchase Now")),r.default.createElement("button",{className:"mc-button mc-button-secondary cancel-button",onClick:t.cancelTrialClick},o._("Cancel trial"))):r.default.createElement("div",{className:"plan-status-section__upgrade_btn trial-cta"},r.default.createElement("button",{className:"button-primary purchase-button",onClick:t.purchaseNowClick},o._("Purchase Now")))},t.logUpgradeOverquotaBtn=function(e){S.GrowthEventsLogger.log("acc_plan_upgrade_overquota_btn",{action:e,button_text:"Upgrade now",destination_url:"http://www.dropbox.com/upgrade",location:"in_product",quota_status:"over",upsell_type:"modal"})},t.onUpgradePlanButtonClick=function(){t.logUpgradeOverquotaBtn("click"),t.redirectToUpgrade()},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=s.URI.parse(n.get_href()).getQuery().modal;e&&("plan"===e&&this.isChangePlanSupported()?this.openChangePlanModal(void 0,N.QUERY_PARAM):"downgrade"===e&&this.props.scheduledForDowngrade&&y.CancelChangesModalConfirmation.showInstance({transitionPerformed:this.props.onUpdate,subStatus:this.props.subStatus,userIdOverride:this.getUserForModal()}))},t.prototype.isChangePlanSupported=function(){var e=this.props,t=e.subStatus,a=e.eligibleFor1tb,n=e.isExternallyBilled,r=e.paymentInfo;return!!this.isInStandardSchedule()&&(!a&&(!!(r&&t&&t.subState.plan)&&(!c.shouldHideBillingChange(r.gateway_id,n)&&(this.isPlusPlan()||t.subState.plan.productType===b.ProductPlanType.PROFESSIONAL))))},Object.defineProperty(t.prototype,"usage",{get:function(){return this.props.usageBreakdown.usage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quota",{get:function(){return this.props.usageBreakdown.quota||.01},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plansURL",{get:function(){var e=this.props,t=e.isLoggedInUser,a={oqa:"acc_plan_upgrade"};return e.isTransactionInformationPage&&!t&&(a.trigger="nr"),new s.URI({path:"/plans",query:a}).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"evhDisplayName",{get:function(){var e=this.props.evhInfo;return e.purchased?e.is_unlimited_evh?o._("unlimited version history"):o._("extended version history"):""},enumerable:!0,configurable:!0}),t.prototype.renderCancelPlanButton=function(){return this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner?this.renderLoginInstructions(Y.Cancel):r.default.createElement("div",{className:"plan-status-section__upgrade_btn"},r.default.createElement("button",{className:"mc-button-secondary",onClick:this.cancelPlanClick},o._("Cancel plan")))},t.prototype.isPlusPlan=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&(e.subState.plan.productType===b.ProductPlanType.STANDARD||e.subState.plan.productType===b.ProductPlanType.PLUS)},t.prototype.isProfessionalPlan=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&(e.subState.plan.productType===b.ProductPlanType.PROFESSIONAL||e.subState.plan.productType===b.ProductPlanType.PROFESSIONAL_TRIAL)},t.prototype.isFamilyPayerPlan=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&e.subState.plan.productType===b.ProductPlanType.FAMILY_PAYER},t.prototype.isFreePlusPlan=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&e.subState.plan.productType===b.ProductPlanType.FREE},t.prototype.isInStandardSchedule=function(){var e=this.props.subStatus;if(e&&e.subState&&e.subState.billingSchedule){var t=e.subState.billingSchedule.id;return t===b.ScheduleId.MONTHLY||t===b.ScheduleId.YEARLY}return!1},t.prototype.pendingScheduledChange=function(){return this.isPlanScheduledToChange()||this.isBillingScheduleToChange()||this.isEvhScheduledToChange()},t.prototype.isTaurusPlan=function(){var e=this.props.subStatus;if(e&&e.subState.plan){var t=e.subState.plan.productType;return t===b.ProductPlanType.PLUS||t===b.ProductPlanType.PLUS_TRIAL||t===b.ProductPlanType.PROFESSIONAL||t===b.ProductPlanType.PROFESSIONAL_TRIAL||t===b.ProductPlanType.PLUS_WITH_SS||t===b.ProductPlanType.PLUS_WITH_SS_TRIAL}return!1},t.prototype.isPlanScheduledToChange=function(){var e=this.props,t=e.subStatus;return!!e.scheduledForDowngrade||!!(t&&t.subState.plan&&t.finalSubState.plan)&&t.subState.plan.productType!==t.finalSubState.plan.productType},t.prototype.isEvhScheduledToChange=function(){var e=this.props.subStatus;return!(!e||!e.scheduledSubState)&&e.subState.quantityForEvhAddOn()!==e.scheduledSubState.quantityForEvhAddOn()},t.prototype.isBillingScheduleToChange=function(){var e=this.props.subStatus;return!!(e&&e.subState.billingSchedule&&e.finalSubState.billingSchedule)&&e.subState.billingSchedule.id!==e.finalSubState.billingSchedule.id},t.prototype.shouldDisplayChangePlan=function(){var e=this.getGatewayId();return e!==p.NOT_APPLICABLE&&!c.shouldHidePaymentMethod(e)&&!this.props.hasUnusedLicenseKey},t.prototype.getGatewayId=function(){var e=this.props.paymentInfo;return e?e.gateway_id:p.NOT_APPLICABLE},t.prototype.isTrialPlan=function(){return this.isPlusTrial()||this.isProfessionalTrial()},t.prototype.isPlusTrial=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&(e.subState.plan.productType===b.ProductPlanType.TRIAL||e.subState.plan.productType===b.ProductPlanType.PLUS_TRIAL)},t.prototype.isProfessionalTrial=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&e.subState.plan.productType===b.ProductPlanType.PROFESSIONAL_TRIAL},t.prototype.isLicensePlan=function(){var e=this.props,t=e.hasLicenseKey,a=e.paymentInfo;return!!a&&(t||c.isLicenseKey(a.gateway_id))},t.prototype.renderLoginInstructions=function(e){var t,a;return a=this.props.userEmail?this.props.userEmail:o._("the account user"),t=e===Y.Cancel?v.reactFormat(o._("Please login as %(email)s%(br)sto cancel your plan."),{br:r.default.createElement("br",null),email:a}):e===Y.Change?v.reactFormat(o._("Please login as %(email)s%(br)sto change your plan."),{br:r.default.createElement("br",null),email:a}):e===Y.Manage?v.reactFormat(o._("Please login as %(email)s%(br)sto manage your plan."),{br:r.default.createElement("br",null),email:a}):e===Y.Upgrade?v.reactFormat(o._("Please login as %(email)s%(br)sto upgrade your plan."),{br:r.default.createElement("br",null),email:a}):v.reactFormat(o._("Please login as %(email)s."),{email:a}),r.default.createElement("div",{className:"plan-status-section__login-msg"},t)},t.prototype.getUserForModal=function(){var e=this.props,t=e.isPersonalUser,a=e.useSpecifiedRole,n=e.isLoggedInAsTransactionOwner,r=null;if(a&&n){var s=i.Viewer.get_viewer();r=t?s.personal_user?s.personal_user.id:null:s.work_user?s.work_user.id:null,d.assert(null!=r,"Could not find user for specified role; modal will fail")}return r},t.prototype.renderDropboxLogo=function(){return r.default.createElement("div",{className:"plan-status-section__icon u-mar-right-s"},r.default.createElement("img",{src:_.static_url("/static/images/logo_catalog/dropbox-business-icon_m1-vflczuza3.svg"),alt:""}))},t.prototype.getTeamName=function(){return this.props.isLoggedInAsTransactionOwner&&i.Viewer.get_viewer().team_name?i.Viewer.get_viewer().team_name:this.props.teamName?this.props.teamName:null},t.prototype.renderChangePlanButton=function(e){var t=this.props,a=t.paymentInfo,n=t.eligibleForPlusToProTrial;return this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner?this.renderLoginInstructions(Y.Change):r.default.createElement("div",{className:"plan-status-section__upgrade_btn"},r.default.createElement(T.Button,{variant:!0===n?"secondary":"primary",onClick:e,disabled:a&&a.is_in_grace_period},o._("Change plan")))},t.prototype.renderManagePlanButton=function(){return this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner?this.renderLoginInstructions(Y.Manage):r.default.createElement("div",{className:"plan-status-section__upgrade_btn"},r.default.createElement("button",{className:"button-tertiary",onClick:this.managePlanClick},o._("Manage plan")))},t.prototype.renderBusinessPlanSection=function(){var e=this.props,t=e.subStatus,a=e.isTeamAdmin,n=e.scheduledForDowngrade,s=e.showCancelButton;if(t&&t.subState.isDeactivatedTeam)return this.renderBasicPlanSection();if(t&&t.subState.plan){var l=t.subState.plan.productType===b.ProductPlanType.STANDARD,d=t.subState.plan.displayName(!1,l);l||(d=o._("%(trade_mark)s %(plan_title)s").format({trade_mark:M.TRADEMARK_BUSINESS,plan_title:d}));var u,c,p="",_=this.getTeamName();_&&(a?(p=o._("You’re an admin of the %(team_name)s Dropbox account.").format({team_name:_}),this.props.isLoggedInAsTransactionOwner||(p=o._("This account is an admin of the %(team_name)s Dropbox account.").format({team_name:_}))):(p=o._("You’re a member of the %(team_name)s Dropbox account.").format({team_name:_}),this.props.isLoggedInAsTransactionOwner||(p=o._("This account is a member of the %(team_name)s Dropbox account.").format({team_name:_}))));var m=i.Viewer.get_viewer();if(this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner)u=this.renderLoginInstructions(),c=null;else if(a||!this.props.isLoggedInUser){var h=t.subState.plan.productType;if(h===b.ProductPlanType.STANDARD||h===b.ProductPlanType.NEW_STANDARD||h===b.ProductPlanType.STANDARD_TRIAL?u=this.renderChangePlanButton(this.changePlanClick):h!==b.ProductPlanType.ADVANCED&&h!==b.ProductPlanType.ADVANCED_TRIAL||(u=this.renderManagePlanButton()),s&&(u=n?this.renderManagePlanButton():this.renderCancelPlanButton()),!t.subState.plan.isEnterprise){var f=o._("Manage your team in the Admin Console");this.props.isLoggedInAsTransactionOwner||(f=o._("Manage this team in the Admin Console")),c=r.default.createElement("p",null,r.default.createElement("a",{className:"plan-status-section__link",href:"/team/admin/billing/manage"},f))}}else!a&&m.is_paired&&(c=r.default.createElement("p",null,o._("Looking for details on another plan?")," ",r.default.createElement("a",{className:"plan-status-section__link plan-status-section__link--inline",href:"/account/plan?role=personal"},o._("Visit your personal account page."))));var g="";this.props.showTeamScheduledForDowngrade&&n&&(g=o._("Any active members of your %(plan)s team will be downgraded to Dropbox Basic accounts         on %(date)s.").format({plan:d,date:t.formattedNextBillingDate}),this.props.isLoggedInAsTransactionOwner||(g=o._("Any active members of the %(plan)s team will be downgraded to Dropbox Basic accounts         on %(date)s.").format({plan:d,date:t.formattedNextBillingDate})));var y=L.default({"plan-status-section":!0,"is-merged-tab":this.props.isMergedTab});return r.default.createElement("div",{className:y},this.renderDropboxLogo(),r.default.createElement("div",{className:"plan-status-section__description"},r.default.createElement("h1",{className:"plan-status-section__title"},d),r.default.createElement("span",null,p),r.default.createElement("br",null),r.default.createElement("span",null,g),c),u)}},t.prototype.showBasicPlanWithTrial=function(){var e=this.props.trialsConfig;return e&&e.trialBanner&&e.currentPlan&&e.currentPlan.skuContent&&e.currentPlan.skuContent.name===M.TRADEMARK_BASIC},t.prototype.renderUpgradePlanButton=function(e){return this.props.trialsConfig&&this.props.trialsConfig.trialBanner?r.default.createElement("div",null):this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner?this.renderLoginInstructions(Y.Upgrade):(this.isOverQuota()&&this.logUpgradeOverquotaBtn("view"),r.default.createElement("div",{className:"plan-status-section__upgrade_btn"},r.default.createElement("button",{className:"button-primary",onClick:this.onUpgradePlanButtonClick},e)))},t.prototype.renderBasicPlanSection=function(){var e=this.props,t=e.subStatus,a=e.isLimitedTeam,n=o._("Dropbox Basic");if(t){!this.showBasicPlanWithTrial()&&t.subState.plan&&(n=t.subState.plan.displayName());var i=void 0;if(a||t.subState.isDeactivatedTeam){var s=this.getTeamName(),l=o._("You’re a member of the %(team_name)s Dropbox account.").format({team_name:s});this.props.isLoggedInAsTransactionOwner||(l=o._("This account is a member of the %(team_name)s Dropbox account.").format({team_name:s})),i=r.default.createElement("p",{className:"plan-status-section__team_desc"},l)}var d=this.isOverQuota()?o._("Upgrade now"):o._("Upgrade"),u=this.renderUpgradePlanButton(d);return r.default.createElement(k.BasicPlanStatusSection,{planName:n,plansUrl:this.plansURL,limitedTeam:i,upgradePlanButton:u})}},t.prototype.renderResellerPlan=function(){var e=o._("Dropbox %(plus)s 1TB").format({plus:M.TRADEMARK_PLUS});return r.default.createElement("div",{className:"plan-status-section"},this.renderDropboxLogo(),r.default.createElement("div",{className:"plan-status-section__description"},r.default.createElement("h1",{className:"plan-status-section__title"},e),r.default.createElement("p",{className:"plan-status-section__title_description"},this.renderBillingPeriod())))},t.prototype.renderPaidPlanSection=function(){var e=this.props,t=e.subStatus,a=e.evhInfo,n=e.isLimitedTeam,i=e.hasUnusedLicenseKey,s=e.paymentInfo,l=e.scheduledForDowngrade,d=e.tryFreeTrial,u=e.hideSavingsBanner,p=e.expRetentionAccountWayfinding;if(t&&t.scheduledSubState&&t.subState.plan){var _;if(1024===t.subState.plan.specQuotaGb){var m=this.getGatewayId(),f=t.subState.plan.displayName(!1,!1,m);_=a.purchased?o._("Dropbox %(plus)s + %(evh)s",{comment:"evh = Extended Version History"}).format({plus:f,evh:this.evhDisplayName}):o._("Dropbox %(plus)s").format({plus:f})}else _=t.subState.plan.displayName(!0),a.purchased&&(_=o._("%(plus)s + %(evh)s",{comment:"evh = Extended Version History"}).format({plus:_,evh:this.evhDisplayName}));var g,y=void 0,S=void 0,v="",M=t.subState&&t.subState.plan&&t.subState.plan.productType&&t.subState.plan.productType===b.ProductPlanType.PLUS&&t.subState.billingSchedule&&t.subState.billingSchedule.id===b.ScheduleId.MONTHLY;if(s&&c.shouldHideBillingSummary(s.gateway_id,t.subState.plan.productType)?v="":t.nextBillingSummary&&t.finalSubState.billingSchedule&&(v=o._("%(total)s per %(period)s.").format({total:h.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary),period:t.finalSubState.billingSchedule.scheduleDescriptionNoun})),i&&(v=o._("Your license key will be activated and no         charge made to your payment method on file."),this.props.isLoggedInAsTransactionOwner||(v=o._("This account’s license key will be activated and no         charge made to the payment method on file."))),s&&!c.shouldHideBillingChange(s.gateway_id,s.is_reseller_billing)){var T="";if(this.pendingScheduledChange()&&t.scheduledSubState&&t.scheduledSubState.plan&&t.scheduledSubState.billingSchedule){var w=void 0;if(1024===t.scheduledSubState.plan.specQuotaGb){f=t.scheduledSubState.plan.displayName(!1);w=a.purchased&&!a.scheduled_to_remove?o._("Dropbox %(plus)s + %(evh)s",{comment:"evh = Extended Version History"}).format({plus:f,evh:this.evhDisplayName}):o._("Dropbox %(plus)s").format({plus:f})}else w=t.scheduledSubState.plan.displayName(!0),a.purchased&&!a.scheduled_to_remove&&(w=o._("%(plus)s + %(evh)s",{comment:"evh = Extended Version History"}).format({plus:w,evh:this.evhDisplayName}));T=o._("Starting on %(date)s, we’ll bill you once a %(new_period_noun)s for your           %(plan)s plan. Your new %(new_period_adj)s total will be %(new_amount)s.").format({date:t.formattedNextBillingDate,new_period_noun:t.scheduledSubState.billingSchedule.scheduleDescriptionNoun,plan:w,new_period_adj:t.scheduledSubState.billingSchedule.scheduleDescriptionAdjective,new_amount:h.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)}),this.props.isLoggedInAsTransactionOwner||(T=o._("Starting on %(date)s, we’ll bill this account once a %(new_period_noun)s for           the %(plan)s plan. This account’s new %(new_period_adj)s total will be           %(new_amount)s.").format({date:t.formattedNextBillingDate,new_period_noun:t.scheduledSubState.billingSchedule.scheduleDescriptionNoun,plan:w,new_period_adj:t.scheduledSubState.billingSchedule.scheduleDescriptionAdjective,new_amount:h.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)}))}else M?(T=r.default.createElement("span",null,o._("You’ve got: %(quota)s of storage | Dropbox Smart Sync | Dropbox Rewind").format({quota:t.subState.plan.longFormSpecQuotaGb}),r.default.createElement("br",null),o._("Next billing date: %(date)s").format({date:t.formattedNextBillingDate}),r.default.createElement("br",null),o._("%(billing_summary)s").format({billing_summary:v})),this.props.isLoggedInAsTransactionOwner||(T=r.default.createElement("span",null,o._("This account’s got: %(quota)s of storage | Dropbox Smart Sync | Dropbox Rewind").format({quota:t.subState.plan.longFormSpecQuotaGb}),r.default.createElement("br",null),o._("Next billing date: %(date)s").format({date:t.formattedNextBillingDate}),r.default.createElement("br",null),o._("%(billing_summary)s").format({billing_summary:v})))):(T=o._("Your %(plan)s plan will renew on %(date)s. %(billing_summary)s").format({plan:_,date:t.formattedNextBillingDate,billing_summary:v}),this.props.isLoggedInAsTransactionOwner||(T=o._("This account’s %(plan)s plan will renew on %(date)s. %(billing_summary)s").format({plan:_,date:t.formattedNextBillingDate,billing_summary:v})));y=r.default.createElement("span",{className:"plan-status-section__description-content"},T," ")}if(l){var D=o._("Your %(plan)s will downgrade to Dropbox Basic on         %(date)s.").format({plan:_,date:t.formattedNextBillingDate});this.props.isLoggedInAsTransactionOwner||(D=o._("This account’s %(plan)s will downgrade to Dropbox         Basic on %(date)s.").format({plan:_,date:t.formattedNextBillingDate})),y=r.default.createElement("span",null,D," ")}if(n){var E=this.getTeamName(),P=o._("You’re a member of the %(team_name)s Dropbox account.").format({team_name:E});this.props.isLoggedInAsTransactionOwner||(P=o._("This account is a member of the %(team_name)s Dropbox account.").format({team_name:E})),S=r.default.createElement("p",{className:"plan-status-section__team_desc"},P)}!s||c.shouldHideBillingChange(s.gateway_id,s.is_reseller_billing)||this.isInStandardSchedule()||(g=this.renderContactSupportLink()),this.shouldDisplayChangePlan()&&this.isInStandardSchedule()&&(this.isPlusPlan()&&(this.isTrialPlan()||"ON"===this.props.plusToProTrialVariant||(g=this.renderChangePlanButton(this.openChangePlanModal))),!this.isProfessionalPlan()&&!this.isFamilyPayerPlan()||this.isTrialPlan()||(g=this.renderChangePlanButton(this.openChangePlanModal))),this.props.showCancelButton&&!l&&(g=this.renderCancelPlanButton()),(this.isFreePlusPlan()||i)&&(g=this.renderContactSupportLink());var k=L.default("plan-status-section",{"plan-status-section--is-plus-monthly":M}),Y=M&&!u&&!(s&&c.shouldHideBillingChange(s.gateway_id,s.is_reseller_billing));return C.Experiment(p).isActive?this.renderPlanStatusExpWayfinding(_,g):r.default.createElement("div",null,r.default.createElement("div",{className:k},this.renderDropboxLogo(),r.default.createElement("div",{className:"plan-status-section__description"},r.default.createElement("h1",{className:"plan-status-section__title"},_),S,r.default.createElement("p",{className:"plan-status-section__title_description"},y,!i&&this.renderPlanDetails(),r.default.createElement("br",null),!M&&this.renderBillingPeriod()),d),g),Y&&this.renderSavingsBanner(),M&&this.renderYourNextCharge())}},t.prototype.renderPlanDetails=function(){return r.default.createElement("a",{className:"plan-status-section__link",onClick:this.logSeePlanDetails,href:this.plansURL,target:"_blank",rel:"noopener noreferrer"},this.isTaurusPlan()?o._("See plan details"):o._("See available plans"))},t.prototype.renderSavingsBanner=function(){return S.ProEventsLogger.log("view_savings_banner"),r.default.createElement("div",{className:"savings-banner"},v.reactFormat(o._("Save up to %(save_percentage)s when you <a>switch to yearly billing.</a>"),{save_percentage:o.format_percent(17),a:r.default.createElement("a",{href:"#","data-test":"yearly-billing-switch",onClick:this.onSwitchToYearlyBillingClick})}),r.default.createElement("button",{"aria-label":o._("Dismiss Banner"),className:"savings-banner__dismiss-btn",onClick:this.onSavingsBannerClose}))},t.prototype.renderYourNextCharge=function(){var e=this.props.subStatus;return e&&e.nextBillingSummary&&e.finalSubState.billingSchedule?r.default.createElement(l.ButtonBlock,{label:o._("Your next charge"),subtext:o._("Your Dropbox Plus plan will renew on %(date)s for %(total)s per %(period)s.").format({date:e.formattedNextBillingDate,total:h.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),period:e.finalSubState.billingSchedule.scheduleDescriptionNoun}),buttonText:o._("Switch to yearly"),kind:"secondary",buttonAction:{kind:"function",handler:this.onChangeBillingPeriodClick},"data-test":"yearly-billing-switch"}):null},t.prototype.renderTrialSection=function(){var e=this.props,t=e.subStatus,a=e.paymentInfo,n=e.expRetentionAccountWayfinding;if(t&&t.subState&&t.subState.plan&&a){var i=a.gateway_id,s=a.trial_info;if(s){var l=r.default.createElement("noscript",null);c.isIOS(i)||(l=this.createTrialCtaButtons(!s.is_trial_overdue,this.isProfessionalTrial()));var d,u=o._("Dropbox %(plus)s").format({plus:t.subState.plan.displayName(!1,!1,i)});return s.is_trial_overdue&&(u+=" "+o._("(Expired)")),d=this.isProfessionalTrial()?c.getProfessionalTrialPlanDescription(t):c.getTrialDescription(i,s,t.formattedNextBillingDate),C.Experiment(n).isActive?this.renderPlanStatusExpWayfinding(u,l,d):r.default.createElement("div",{className:"plan-status-section"},this.renderDropboxLogo(),r.default.createElement("div",{className:"plan-status-section__description"},r.default.createElement("h1",{className:"plan-status-section__title"},u),r.default.createElement("p",{className:"plan-status-section__title_description"},d," ",this.isProfessionalTrial()&&r.default.createElement("span",null,this.renderPlanDetails(),r.default.createElement("br",null),this.renderBillingPeriod()))),l)}}},Object.defineProperty(t.prototype,"hasSelfServablePaymentAfterLicensekey",{get:function(){var e=this.props.paymentInfo;return e&&!c.isLicenseKey(e.gateway_id)&&!c.shouldHidePaymentMethod(e.gateway_id)},enumerable:!0,configurable:!0}),t.prototype.renderLicensePlanSection=function(){var e=this.props.subStatus;if(!e||!e.subState||!e.subState.plan)return r.default.createElement("noscript",null);var t=o._("Dropbox %(plus)s").format({plus:e.subState.plan.displayName()}),a=r.default.createElement("noscript",null);if(this.props.hasUnusedLicenseKey){var n=o._("Your Dropbox %(plus)s plan was activated with a license key.         Your next license key will be activated on %(date)s.").format({plus:M.TRADEMARK_PLUS,date:e.formattedNextBillingDate});this.props.isLoggedInAsTransactionOwner||(n=o._("This Dropbox %(plus)s plan was activated with a license key.           The next license key will be activated on %(date)s.").format({plus:M.TRADEMARK_PLUS,date:e.formattedNextBillingDate}));var i=r.default.createElement("noscript",null);if(this.hasSelfServablePaymentAfterLicensekey)i=r.default.createElement("div",null,o._("No charge made to your payment method on file.")),this.props.isLoggedInAsTransactionOwner||(i=r.default.createElement("div",null,o._("No charge made to the payment method on file.")));else{var s=o._("You can add your payment information now to have            your subscription automatically renew when your keys expire.");this.props.isLoggedInAsTransactionOwner||(s=o._("The account owner can add payment information now to have               this subscription automatically renew when the keys expire.")),i=r.default.createElement("div",null,s,r.default.createElement("br",null),r.default.createElement("a",{href:"#",onClick:this.addPaymentClick},o._("Add payment method.")))}a=r.default.createElement("div",null,n,r.default.createElement("br",null),i)}else if(this.hasSelfServablePaymentAfterLicensekey&&!this.props.scheduledForDowngrade){var l=e.scheduledSubState.billingSchedule.scheduleDescriptionNoun,d=o._("Your Dropbox %(plus)s plan was activated with a               license key. The plan will renew on %(date)s.").format({plus:M.TRADEMARK_PLUS,date:e.formattedNextBillingDate}),u=o._("%(new_total)s per %(new_period)s will be charged to your payment method on file.").format({new_total:h.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),new_period:l});this.props.isLoggedInAsTransactionOwner||(d=o._("This Dropbox %(plus)s plan was activated with a             license key. The plan will renew on %(date)s.").format({plus:M.TRADEMARK_PLUS,date:e.formattedNextBillingDate}),u=o._("%(new_total)s per %(new_period)s will be charged to the payment method on file.").format({new_total:h.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),new_period:l})),a=r.default.createElement("div",null,d,r.default.createElement("br",null),u,r.default.createElement("br",null),this.renderBillingPeriod())}else{d=o._("Your Dropbox %(plus)s plan was activated with a license key.                 The plan is active until %(date)s.").format({plus:M.TRADEMARK_PLUS,date:e.formattedNextBillingDate});var c=o._("You can add your payment information now to have               your subscription automatically renew when it expires.");this.props.isLoggedInAsTransactionOwner||(d=o._("This account’s Dropbox %(plus)s plan was activated with a license key.               The plan is active until %(date)s.").format({plus:M.TRADEMARK_PLUS,date:e.formattedNextBillingDate}),c=o._("The account owner can add payment information now to have               this subscription automatically renew when it expires.")),a=r.default.createElement("div",null,d,r.default.createElement("br",null),c,r.default.createElement("br",null),r.default.createElement("a",{href:"#",onClick:this.addPaymentClick},o._("Add payment method.")))}return r.default.createElement("div",{className:"plan-status-section"},this.renderDropboxLogo(),r.default.createElement("div",{className:"plan-status-section__description"},r.default.createElement("h1",{className:"plan-status-section__title"},t),r.default.createElement("p",{className:"plan-status-section__title_description"},a)),this.renderContactSupportLink())},t.prototype.render1TBChangeablePlan=function(){var e=this.props,t=e.subStatus,a=e.paymentInfo,n=e.scheduledForDowngrade;if(!t||!t.subState||!t.subState.plan)return r.default.createElement("noscript",null);var i=t.subState.plan.displayName(!0),s="";t.subState.billingSchedule&&t.subState.billingSchedule.scheduleDescriptionNoun&&t.currentBillingSummary&&t.currentBillingSummary.total&&(s=o._("%(total)s per %(period)s.").format({total:h.Cash.formatWithTaxLabels(t.currentBillingSummary.total,t.currentBillingSummary),period:t.subState.billingSchedule.scheduleDescriptionNoun}));var l=r.default.createElement("noscript",null);if(a&&!c.shouldHideBillingChange(a.gateway_id,a.is_reseller_billing)){var d=o._("Your %(plan)s plan will renew on %(date)s. %(billing_summary)s").format({plan:i,date:t.formattedNextBillingDate,billing_summary:s});this.props.isLoggedInAsTransactionOwner||(d=o._("This account’s %(plan)s plan will renew on %(date)s.             %(billing_summary)s").format({plan:i,date:t.formattedNextBillingDate,billing_summary:s})),l=r.default.createElement("span",null,d)}if(n){var u=o._("Your %(plan)s will downgrade to Dropbox Basic on %(date)s. %(billing_summary)s").format({plan:i,date:t.formattedNextBillingDate,billing_summary:s});this.props.isLoggedInAsTransactionOwner||(u=o._("This account’s %(plan)s will downgrade to Dropbox Basic on %(date)s.           %(billing_summary)s").format({plan:i,date:t.formattedNextBillingDate,billing_summary:s})),l=r.default.createElement("span",null,u)}var p=this.renderContactSupportLink();return r.default.createElement("div",{className:"plan-status-section"},this.renderDropboxLogo(),r.default.createElement("div",{className:"plan-status-section__description"},r.default.createElement("h1",{className:"plan-status-section__title"},i),r.default.createElement("p",{className:"plan-status-section__title_description"},l,r.default.createElement("br",null),this.renderBillingPeriod())),p)},t.prototype.renderPlanSection=function(){var e=this.props,t=e.subStatus,a=e.isExternallyBilled,n=e.paymentInfo,r=e.isLimitedTeam,i=e.eligibleFor1tb;return this.showBasicPlanWithTrial()?this.renderBasicPlanSection():i?this.render1TBChangeablePlan():a&&void 0!==n&&null!==n.reseller_name?this.renderResellerPlan():a&&r&&void 0!==n&&n.gateway_id===p.NOT_APPLICABLE?void 0:t&&t.subState.plan&&[b.ProductFamily.PRO,b.ProductFamily.FAMILY].includes(t.subState.plan.productFamily)?this.isTrialPlan()?this.renderTrialSection():this.isLicensePlan()?this.renderLicensePlanSection():this.renderPaidPlanSection():this.renderBasicPlanSection()},t.prototype.render=function(){var e=this.props,t=e.isPersonalUser,a=e.isLimitedTeam,n=t||a?this.renderPlanSection():this.renderBusinessPlanSection();return r.default.createElement("div",{className:"plan-status"},n)},t})(r.default.Component);t.PlanStatus=x})),define("modules/clean/account_page/widgets/plan/views/exp_change_plans_modal_billboard",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/css","modules/clean/static_urls","spectrum/modal","modules/clean/react/button"],(function(e,t,a,n,r,i,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.renderProChangePlansRedesignBillingSection=function(){var e=this.props,t=e.loadingChangeSummary,a=e.planAndPricingContent,i=e.renderPaymentMethod,o=e.renderVat,l=e.renderUpdateLink,d=a.scheduleString,u=a.priceString,c=a.changeSummaryString,p=a.proratedPriceString;if(d&&u&&c&&p){var _=t?n.default.createElement("div",{className:"loading-indicator"},n.default.createElement("img",{src:s.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:r._("Loading")})):n.default.createElement("div",{className:"billing-section__summary__text"},i&&i(),c," ",l);return n.default.createElement("section",{className:"plan-footer billing-section"},n.default.createElement("div",{className:"billing-section__summary"},n.default.createElement("div",{className:"billing-section__summary__title"}),o&&o(),_))}return null},t.prototype.render=function(){var e=this.props,t=e.acceptButtonText,a=e.onAccept,i=e.onDismiss,s=e.submitting,d=e.content;return n.default.createElement(o.Modal,{className:"subgrowth-pro-plans-modal-simplification-v3",ariaLabel:r._("Upgrade plan modal"),displayCloseButton:!0,overlayClickClose:!0,open:this.props.open,width:640,height:485,onRequestClose:i},n.default.createElement("div",{className:"container"},d,this.renderProChangePlansRedesignBillingSection(),n.default.createElement("div",{className:"buttons"},n.default.createElement(l.Button,{className:"buttons__modal-cta",importance:"primary",onClick:a,disabled:s},t))))},t})((n=a.__importDefault(n)).default.Component);t.ExpChangePlanModalBillboard=i.requireCssWithComponent(d,["/static/css/account/pagelet/exp_change_plans_modal_billboard-vflexgUcU.css"])})),define("modules/clean/account_page/widgets/plan/views/update_billing_info_link",["require","exports","tslib","react","modules/core/i18n","modules/clean/account_page/widgets/plan/views/churn_survey/utils"],(function(e,t,a,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateBillingInfo=function(e){var a=t.props,n=a.updateBillingCTA,r=a.indivChurnSurveyLogData;e.stopPropagation(),e.preventDefault(),r&&i.logIndivChurnSurveyAction(r,i.IndivChurnSurveyLogAction.UPDATE_BILLING_INFO),n(e)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,a=e.isRedesignedModal?r._("Update billing info"):r._("Update billing information");return n.default.createElement("a",{key:"updateBillingInfo",className:t||"",href:"#",onClick:this.updateBillingInfo},a)},t})((n=a.__importDefault(n)).default.Component);t.UpdateBillingInfo=s})),define("modules/clean/account_page/widgets/plan/views/pro_upsell_modal_content",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/css","modules/constants/trademark"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){switch(this.props.expProPlansModalVariant){case"V1":return this.renderV1();case"V2":return this.renderV2();case"V3":return this.renderV3();default:return null}},t.prototype.getReasonString=function(){var e=this.props,t=e.expProPlansModalV2Variant,a=e.quota;switch(t){case"V2":return r._("%(quota)s, Smart Sync, Showcase, and more.").format({quota:a});case"V3":return r._("Smart Sync, Showcase, %(quota)s of space, and more").format({quota:a});default:return r._("Showcase, Smart Sync, shared link controls, and more.")}},t.prototype.renderV1=function(){var e=this.props,t=e.price,a=e.unit,i=t?t.toString():"-",o=t?a:"",l=this.getReasonString();return n.default.createElement("section",null,n.default.createElement("div",{className:"pro-upsell"},n.default.createElement("h1",{className:"pro-upsell__headline"},r._("Do more with Dropbox %(trademark_pro)s").format({trademark_pro:s.TRADEMARK_PROFESSIONAL})),n.default.createElement("div",null,n.default.createElement("div",{className:"pro-upsell__price"},i),n.default.createElement("div",{className:"pro-upsell__price-schedule"},o))),n.default.createElement("ul",{role:"list",className:"reasons-list"},n.default.createElement("li",{className:"reasons-list__item reasons-list__item--professional"},r._("Everything in %(trademark_plus)s").format({trademark_plus:s.TRADEMARK_PLUS})),n.default.createElement("li",{className:"reasons-list__item"},l)))},t.prototype.renderV2=function(){var e=this.props,t=e.price,a=e.unit,i=e.quota,o=t?t.toString():"-",l=t?a:"";return n.default.createElement("section",{className:"subgrowth_pro_plans_modal_simplification--v2"},n.default.createElement("div",{className:"pro-upsell"},n.default.createElement("h1",{className:"pro-upsell__headline"},r._("Do more with Dropbox %(trademark_pro)s").format({trademark_pro:s.TRADEMARK_PROFESSIONAL})),n.default.createElement("div",null,n.default.createElement("div",{className:"pro-upsell__price"},o),n.default.createElement("div",{className:"pro-upsell__price-schedule"},l))),n.default.createElement("div",{className:"grid__container"},n.default.createElement("ul",{role:"list",className:"reasons-list reasons-list--margin-right"},n.default.createElement("li",{className:"reasons-list__item reasons-list__item--professional"},r._("Everything in %(trademark_plus)s").format({trademark_plus:s.TRADEMARK_PLUS})),n.default.createElement("li",{className:"reasons-list__item"},r._("%(pro_quota)s of space").format({pro_quota:i})),n.default.createElement("li",{className:"reasons-list__item"},r._("Showcase, Smart Sync, shared link controls, and more.")))))},t.prototype.renderV3=function(){var e=this.props,t=e.price,a=e.unit,i=e.quota,o=t?t.toString():"-",l=t?a:"",d=r._("Do more with Dropbox %(trademark_professional)s").format({trademark_professional:s.TRADEMARK_PROFESSIONAL});return n.default.createElement("section",{className:"subgrowth_pro_plans_modal_simplification--v3"},n.default.createElement("div",{className:"pro-upsell"},n.default.createElement("div",{className:"header-section"},n.default.createElement("div",{className:"header-section__header"},r._("Less busywork, starting now")),n.default.createElement("div",{className:"header-section__price-subhead"},n.default.createElement("div",{className:"header-section__subheader"},d),n.default.createElement("div",{className:"pricing-container"},n.default.createElement("div",{className:"pro-upsell__price"},o),n.default.createElement("div",{className:"pro-upsell__price-schedule"},l)))),n.default.createElement("section",null,n.default.createElement("ul",{role:"list",className:"reasons-list"},n.default.createElement("li",{className:"reasons-list__item"},r._("Keep everything you already have with Dropbox %(trademark_plus)s").format({trademark_plus:s.TRADEMARK_PLUS})),i&&n.default.createElement("li",{className:"reasons-list__item"},r._("Stop worrying about space with %(pro_quota)s and Smart Sync").format({pro_quota:i})),n.default.createElement("li",{className:"reasons-list__item"},r._("Enjoy peace of mind with advanced security controls and priority support"))))))},t})((n=a.__importDefault(n)).default.Component);t.ProUpsellModalContent=i.requireCssWithComponent(o,["/static/css/teams/admin/widgets/change_plan_modal/pro_upsell_modal_content-vflGpg6kj.css"])})),define("modules/clean/account_page/widgets/plan/views/exp_change_plans_modal_redesign",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/css","modules/clean/static_urls","modules/constants/trademark","spectrum/modal"],(function(e,t,a,n,r,i,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.submittingIcon=function(){return t.props.submitting?n.default.createElement("img",{src:s.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:r._("Loading")}):n.default.createElement("span",null)},t}return a.__extends(t,e),t.prototype.renderProChangePlansRedesignFeaturesSection=function(){var e=this.props.planAndPricingContent.quotaString;return n.default.createElement("section",null,n.default.createElement("ul",{role:"list",className:"reasons-list"},n.default.createElement("li",{className:"reasons-list__item"},n.default.createElement("p",{className:"reasons-list__item__title"},r._("Everything in your current plan")),n.default.createElement("p",{className:"reasons-list__item__desc"},r._("All the benefits you’re already enjoying, plus more powerful features"))),e&&n.default.createElement("li",{className:"reasons-list__item"},n.default.createElement("p",{className:"reasons-list__item__title"},r._("%(pro_quota)s of space").format({pro_quota:e})),n.default.createElement("p",{className:"reasons-list__item__desc"},r._("Hold even more stuff, with double the space of your current plan"))),n.default.createElement("li",{className:"reasons-list__item"},n.default.createElement("p",{className:"reasons-list__item__title"},r._("Showcase")),n.default.createElement("p",{className:"reasons-list__item__desc"},r._("Share your work beautifully, get feedback and keep tabs on who’s seen it"))),n.default.createElement("li",{className:"reasons-list__item"},n.default.createElement("p",{className:"reasons-list__item__title"},r._("Smart Sync")),n.default.createElement("p",{className:"reasons-list__item__desc"},r._("Save space on your hard drive while having access to all your files")))))},t.prototype.renderProChangePlansRedesignBillingSection=function(){var e=this.props,t=e.loadingChangeSummary,a=e.planAndPricingContent,i=a.scheduleString,l=a.priceString,d=a.changeSummaryString,u=a.scheduledPriceString,c=a.proratedPriceString;if(i&&l&&d&&c){var p=t?n.default.createElement("div",{className:"loading-indicator"},n.default.createElement("img",{src:s.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:r._("Loading")})):n.default.createElement("div",{className:"billing-section__summary__text"},d,this.props.renderPaymentMethod()),_=t?null:n.default.createElement("div",{className:"billing-section__pricing"},n.default.createElement("div",{className:"billing-section__pricing__line"},n.default.createElement("span",{className:"billing-section__pricing__label"},i),n.default.createElement("span",{className:"billing-section__pricing__amount billing-section__pricing__amount--emphasis"},u||l)),n.default.createElement("div",{className:"billing-section__pricing__line"},n.default.createElement("span",{className:"billing-section__pricing__label"},r._("Billed today")),n.default.createElement("span",{className:"billing-section__pricing__amount"},c)));return n.default.createElement("section",{className:"plan-footer billing-section"},n.default.createElement("div",{className:"billing-section__summary"},n.default.createElement("div",{className:"billing-section__summary__title"},r._("Dropbox %(trademark_professional)s billing summary").format({trademark_professional:o.TRADEMARK_PROFESSIONAL})),this.props.renderVat(),p),_)}return null},t.prototype.render=function(){var e=r._("Upgrade to Dropbox %(trademark_professional)s").format({trademark_professional:o.TRADEMARK_PROFESSIONAL});return n.default.createElement(l.UtilityModal,{className:"change-plan-modal exp-pro-change-plans-redesign",ariaLabel:r._("Upgrade plan modal"),displayCloseButton:!0,overlayClickClose:!0,title:e,primaryAction:r._("Upgrade plan"),secondaryAction:r._("Cancel"),shouldFocusAfterRender:!0,onPrimaryAction:this.props.onAccept,onSecondaryAction:this.props.onDismiss,onRequestClose:this.props.onDismiss,shouldRequestCloseOnActions:!1,open:this.props.open,link:this.submittingIcon,width:640,height:580},this.props.scheduledNotifications,this.renderProChangePlansRedesignFeaturesSection(),this.renderProChangePlansRedesignBillingSection())},t})((n=a.__importDefault(n)).default.Component);t.ExpChangePlanRedesignModal=i.requireCssWithComponent(d,["/static/css/account/pagelet/exp_change_plans_modal_redesign-vflL0pIzy.css"])})),define("modules/clean/account_page/widgets/plan/views/retention_policy_modal",["require","exports","tslib","react","spectrum/button","modules/clean/react/image","modules/clean/bem","modules/clean/react/css","classnames"],(function(e,t,a,n,r,i,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),l=a.__importDefault(l);var d=s.bem("other-options-modal"),u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e,t,a=this.props,s=a.title,o=a.description,u=a.imageAlt,c=a.src,p=a.srcHiRes,_=a.primaryAction,m=a.secondaryAction,h=a.onPrimaryAction,f=a.onSecondaryAction,g=a.valuePropositions,y=a.tagline,b=a.expRetentionIndivChurnSurvey;return n.default.createElement("div",{className:d("container")},n.default.createElement(i.Image,{alt:u,className:d("image"),src:c,srcHiRes:p}),n.default.createElement("h1",{className:l.default(d("title"),(e={},e[d("title","exp-churn-survey")]=b,e))},s),n.default.createElement("p",{className:d("description")},o),n.default.createElement("ul",{className:d("value-propositions")},g.map((function(e,t){return n.default.createElement("li",{key:"value-prop-"+t,className:d("value-proposition")},e)}))),y&&n.default.createElement("p",{className:d("tagline")},y),n.default.createElement("div",{className:d("buttons")},n.default.createElement(r.Button,{className:l.default(d("modal-cta"),(t={},t[d("modal-cta","exp-churn-survey")]=b,t)),variant:"primary",onClick:h},_),n.default.createElement("a",{className:d("cancel-cta"),href:"#",onClick:f},m)))},t})(n.default.PureComponent);t.RetentionPolicyModal=o.requireCssWithComponent(u,["/static/css/account/pagelet/retention_policy_modal-vflUXU4W2.css"])})),define("modules/clean/account_page/widgets/plan/views/montana/common",["require","exports","tslib","modules/clean/payments/skus/subscription_status","modules/clean/payments/skus/constants","modules/clean/analytics","modules/clean/api_v2/user_client","modules/core/browser","modules/clean/account_page/util","modules/clean/ajax_as_promised","modules/clean/payments/skus/subscription_change_plan"],(function(e,t,a,n,r,i,s,o,l,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importStar(o);var c,p;function _(e){if(e){var t=e.plan.productType;if(e.plan.productFamily===r.ProductFamily.PRO){if(t===r.ProductPlanType.STANDARD||t===r.ProductPlanType.PLUS)return p.PLUS;if(t===r.ProductPlanType.PROFESSIONAL)return p.PROFESSIONAL}}return p.OTHER}function m(e,t){return e.getTime()>=t.getTime()}function h(e,t){var a=new Date(e.getTime());return a.setDate(e.getDate()+t),a}function f(e){var t=!1,a=!1,n=!1,r=!1,i=!1,s=new Date(e.now);if(e.montanaAnnouncementDate){var o=new Date(e.montanaAnnouncementDate),l=h(o,60);i=(t=m(s,o))&&!m(s,l)}e.usersMontanaMigrationDate&&(a=m(s,new Date(e.usersMontanaMigrationDate)));if(e.usersFirstMontanaRebillDate){var d=new Date(e.usersFirstMontanaRebillDate),u=h(d,60);n=m(s,d),r=m(s,u)}return{isWithinProfessionalRecourseWindow:i,isAfterMontanaAnnouncement:t,isAfterMontanaMigration:a,isAfterFirstMontanaRebill:n,isAfterSixtyDaysPastMontanaFirstRebill:r}}(function(e){e[e.GRACE=0]="GRACE",e[e.RECOURSE=1]="RECOURSE",e[e.INVALID=2]="INVALID"})(c=t.MontanaPeriod||(t.MontanaPeriod={})),(function(e){e[e.PLUS=0]="PLUS",e[e.PROFESSIONAL=1]="PROFESSIONAL",e[e.OTHER=2]="OTHER"})(p=t.MontanaProductPlanType||(t.MontanaProductPlanType={})),(function(e){e[e.DEPROVISION_WITH_FULL_REFUND=1]="DEPROVISION_WITH_FULL_REFUND",e[e.PROF_TO_PLUS_WITH_PRORATED_REFUND=2]="PROF_TO_PLUS_WITH_PRORATED_REFUND",e[e.MONTANA_OLD_PRICE_PROMO=3]="MONTANA_OLD_PRICE_PROMO",e[e.REFUND_MIGRATION_DELTA=4]="REFUND_MIGRATION_DELTA"})(t.MontanaRetentionPolicy||(t.MontanaRetentionPolicy={})),t.getMontanaPeriod=function(e,t,a,n,i){if(!e.subState||!e.subState.plan)return c.INVALID;var s=f({montanaAnnouncementDate:t,usersMontanaMigrationDate:a,usersFirstMontanaRebillDate:n,now:i}),o=s.isWithinProfessionalRecourseWindow,l=s.isAfterSixtyDaysPastMontanaFirstRebill,d=s.isAfterMontanaMigration,u=s.isAfterFirstMontanaRebill,m=e.subState.billingSchedule.id===r.ScheduleId.YEARLY,h=_(e.subState),g=h===p.PLUS,y=h===p.PROFESSIONAL;if(g){if(d&&!u)return c.GRACE;if(d&&u&&!l)return c.RECOURSE}else if(y&&m&&o)return u?c.RECOURSE:c.GRACE;return c.INVALID},t.getMontanaProductPlanType=_,t.getMontanaDateBooleans=f,t.isValidMontanaUserState=function(e,t){var a=t.montanaAnnouncementDate,n=t.usersMontanaMigrationDate,r=t.usersFirstMontanaRebillDate,i=t.now;if(!e.subState||!e.subState.plan)return!1;var s=_(e.subState),o=s===p.PLUS,l=s===p.PROFESSIONAL,d=f({montanaAnnouncementDate:a,usersMontanaMigrationDate:n,usersFirstMontanaRebillDate:r,now:i}),u=d.isWithinProfessionalRecourseWindow,c=d.isAfterSixtyDaysPastMontanaFirstRebill,m=d.isAfterMontanaMigration,h=d.isAfterMontanaAnnouncement;return o&&h&&m&&!c||u&&l};var g=(function(){function e(e){var t=this;if(this.log=function(e,n){void 0===n&&(n={});var r=t.planName+"_"+t.billingSchedule+"_"+e;i.ProEventsLogger.log(r,a.__assign({project:"montana",path:o.get_uri().getPath()},n))},e){var n=e.subState.billingSchedule.id;n===r.ScheduleId.MONTHLY?this.billingSchedule="monthly":n===r.ScheduleId.YEARLY&&(this.billingSchedule="yearly");var s=_(e.subState);s===p.PLUS?this.planName="plus":s===p.PROFESSIONAL&&(this.planName="pro")}}return e.initialize=function(t){if(!t)throw new Error("Subscription status not provided");this.instance=new e(t)},e.logEvent=function(e,t){if(void 0===t&&(t={}),!this.isInitialized())throw new Error("Initialize logger first");this.instance.log(e,t)},e.isInitialized=function(){return Boolean(this.instance)},e})();t.MontanaLogger=g,t.applyRetentionPolicy=function(e){return(new s.UserApiV2Client).ns("retention_policy").rpc("apply_retention_policy_for_user",{policy_id:e},{subjectUserId:l.getCurrentUser().id})},t.getRetentionPolicy=function(){return(new s.UserApiV2Client).ns("retention_policy").rpc("get_retention_policies_for_user",void 0,{subjectUserId:l.getCurrentUser().id})},t.getMontanaPrices=function(e){var t="/account/ajax_change_plan";return e&&(t="/account/ajax_change_plan_schedule"),d.WebRequest({url:t,subject_user:l.getCurrentUser().id}).then((function(e){var t=JSON.parse(e),a=n.SubscriptionStatus.deserialize(t.serializedSubStatus);return t.serializedSubChangePlans.map((function(e){return u.SubscriptionChangePlan.deserialize(e)})).map((function(e){return e})).filter((function(e){return!!(e.finalSubState.plan&&a.subState.plan&&a.finalSubState.plan&&a.finalSubState.billingSchedule)})).map((function(e){return{subStatus:e,price:e.finalSubState.plan.displayCost}}))}))}})),define("modules/clean/account_page/widgets/plan/views/montana/loading_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/static_urls","spectrum/modal"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.LoadingModal=function(){return n.default.createElement(s.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:r._("Loading"),displayCloseButton:!1,open:!0,height:520,width:640},n.default.createElement("div",{className:"loading-indicator"},n.default.createElement("div",{className:"loading-indicator__text"},r._("Loading account details...")),n.default.createElement("img",{src:i.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:r._("Loading")})))}})),define("modules/clean/account_page/widgets/plan/views/montana/montana_cancel_confirmation_modal",["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/clean/ux_analytics_utils","modules/clean/react/css","modules/clean/react/image","modules/clean/ux_analytics_modal_tracking","modules/clean/static_urls","modules/core/i18n","modules/clean/react_format","spectrum/checkbox","modules/clean/payments/skus/sku_content","modules/core/notify","modules/clean/ajax","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/views/montana/common"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g,y,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),f=a.__importStar(f);var S=(function(e){function t(t){var a=e.call(this,t)||this;return a.onPrimaryAction=function(){var e=a.props,t=e.nextModal,n=e.modalFlowState.immediateCancelAndRefund;(b.MontanaLogger.logEvent("cancel_click",{featureType:"confirm_cancel",cta:"confirm_cancellation"}),a.submittingRequest(),n)?(new g.UserApiV2Client).ns("retention_policy").rpc("apply_retention_policy_for_user",{policy_id:1},{subjectUserId:y.getCurrentUser().id}).then((function(e){t(),a.doneSubmittingRequest()}),(function(e){h.Notify.error(c._("There was an issue, please contact Customer Support.")),a.doneSubmittingRequest()})):f.WebRequest({url:"/downgrade/process",type:"POST",data:{montana_schedule_downgrade:!0},dataType:"json",success:function(){t()},error:function(){h.Notify.error(c._("Failed to cancel subscription."))},complete:function(){a.doneSubmittingRequest()}})},a.onSecondaryAction=function(){var e=a.props.prevModal;b.MontanaLogger.logEvent("cancel_click",{featureType:"confirm_cancel",cta:"back"}),e()},a.closeModal=function(){var e=a.props.exitModalFlow;b.MontanaLogger.logEvent("cancel_dismiss",{featureType:"confirm_cancel"}),s.dispatchModalClosed(),e()},a.title=function(){return n.default.createElement("h1",{className:"cancel-confirmation-modal__title"},c._("Here’s what you should know"))},a.currentPlanInfo=function(e,t){var r=m.SkuContentClient.deserialize(a.props.basicSerializedSkuContent),i=e?c._("If you cancel your plan, you’ll be downgraded to %(basic_plan)s as soon as you confirm below.          No new charges will occur.").format({basic_plan:r.dropboxDisplayName()}):c._("If you cancel your plan, you’ll be downgraded to %(basic_plan)s on %(date)s.          No new charges will occur.").format({date:t,basic_plan:r.dropboxDisplayName()});return n.default.createElement("p",{className:"cancel-confirmation-modal__description"},i)},a.handleChange=function(){a.state.disableContinue&&b.MontanaLogger.logEvent("cancel_click",{featureType:"confirm_cancel",cta:"understand_check"}),a.setState({disableContinue:!a.state.disableContinue})},a.finalConfirmationRow=function(e,t){var r=e?c._("I understand that these changes will go into effect immediately."):c._("I understand that these changes will go into effect starting %(date)s.").format({date:t}),i="cancel-confirmation-modal__confirm-row";return n.default.createElement("label",{className:i+" "+i+"--clickable"},n.default.createElement(_.Checkbox,{className:"cancel-confirmation-modal__checkbox",checked:a.state.disableContinue?"unchecked":"checked",onChange:a.handleChange}),n.default.createElement("div",{className:"cancel-confirmation-modal__confirmation-message"},r))},a.afterCancellationList=function(){var e=a.props,t=e.subStatus,r=e.basicSerializedSkuContent,i=m.SkuContentClient.deserialize(r),s=p.reactFormat(c._("<strong>Your storage will decrease from %(space)s to %(basic_quota)s.</strong>").format({space:t.subState.content.totalSpaceLongFormRounded(),basic_quota:i.spaceShortFormGbRounded()}),{strong:n.default.createElement("strong",null)}),o=c._("File uploads and syncing will stop working if your files take up more space than your storage allows."),d=p.reactFormat(c._("<strong>You won’t be able to access advanced file-syncing features</strong>, such as Dropbox Smart Sync."),{strong:n.default.createElement("strong",null)}),_=p.reactFormat(c._("<strong>Syncing will be limited to only 3 devices</strong>, and you’ll lose access to other %(plan)s features, such as remote device wipe.").format({plan:t.subState.plan.content.dropboxDisplayName()}),{strong:n.default.createElement("strong",null)});return n.default.createElement("div",{className:"after-cancellation-list"},n.default.createElement("div",{className:"after-cancellation-list-item"},n.default.createElement("div",{className:"after-cancellation-list-item__icon_wrapper"},n.default.createElement(l.Image,{alt:"Cancellation warning",className:"after-cancellation-list-item__icon",src:u.static_url("/static/images/montana/montana-warning-vfl-Ks6cO.png"),srcHiRes:u.static_url("/static/images/montana/montana-warning@2x-vflJMUkQS.png")})),n.default.createElement("div",{className:"after-cancellation-list-item__content"},n.default.createElement("div",{className:"after-cancellation-list-item__content_col1"},s),n.default.createElement("div",{className:"after-cancellation-list-item__content_col1"},o))),n.default.createElement("div",{className:"after-cancellation-list-item"},n.default.createElement("div",{className:"after-cancellation-list-item__icon_wrapper"},n.default.createElement(l.Image,{alt:"Cancellation warning",className:"after-cancellation-list-item__icon",src:u.static_url("/static/images/montana/montana-warning-vfl-Ks6cO.png"),srcHiRes:u.static_url("/static/images/montana/montana-warning@2x-vflJMUkQS.png")})),n.default.createElement("div",{className:"after-cancellation-list-item__content"},d)),n.default.createElement("div",{className:"after-cancellation-list-item"},n.default.createElement("div",{className:"after-cancellation-list-item__icon_wrapper"},n.default.createElement(l.Image,{alt:"Cancellation warning",className:"after-cancellation-list-item__icon",src:u.static_url("/static/images/montana/montana-warning-vfl-Ks6cO.png"),srcHiRes:u.static_url("/static/images/montana/montana-warning@2x-vflJMUkQS.png")})),n.default.createElement("div",{className:"after-cancellation-list-item__content"},_)))},a.buttons=function(){var e=a.state,t=e.submitting,i=e.disableContinue;return t?n.default.createElement("div",{className:"cancel-confirmation-modal__buttons"},n.default.createElement("div",{className:"loading-indicator"},n.default.createElement("img",{src:u.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:c._("Loading")}))):n.default.createElement("div",{className:"cancel-confirmation-modal__buttons"},n.default.createElement(r.Button,{className:"cancel-confirmation-modal__modal-cta",variant:"secondary",onClick:a.onSecondaryAction},c._("Back")),n.default.createElement(r.Button,{className:"cancel-confirmation-modal__modal-cta",variant:"primary",onClick:a.onPrimaryAction,disabled:i},c._("Confirm cancellation",{project:"montana",comment:"This unique string is found on a button on a modal that explains what happens if the user cancels their plan. It refers to plan cancellation and not trial cancellation."})))},a.state={disableContinue:!0,submitting:!1},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){b.MontanaLogger.logEvent("cancel_view",{featureType:"confirm_cancel"})},t.prototype.submittingRequest=function(){this.setState({submitting:!0})},t.prototype.doneSubmittingRequest=function(){this.setState({submitting:!1})},t.prototype.render=function(){var e=this.props,t=e.subStatus,a=e.modalFlowState.immediateCancelAndRefund;return n.default.createElement(i.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:c._("Cancel confirmation"),className:"cancel-confirmation-modal",displayCloseButton:!0,onReady:s.dispatchModalOpened,onRequestClose:this.closeModal,open:!0},n.default.createElement(d.UXAnalyticsModalTracking,{id:"cancel-confirmation-modal"}),n.default.createElement("div",{className:"cancel-confirmation-modal__container"},this.title(),this.currentPlanInfo(a,t.formattedNextBillingDate),this.afterCancellationList(),this.finalConfirmationRow(a,t.formattedNextBillingDate),this.buttons()))},t})(n.default.Component);t.CancelConfirmationModal=o.requireCssWithComponent(S,["/static/css/account/pagelet/montana_cancel_confirmation_modal-vflXggnaO.css"])})),define("modules/clean/account_page/widgets/plan/views/montana/montana_cancel_schedule_modal",["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/clean/ux_analytics_utils","modules/clean/react/css","modules/clean/payments/skus/constants","modules/clean/ux_analytics_modal_tracking","modules/core/i18n","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/montana/common"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=(function(e){function t(t){var a=e.call(this,t)||this;a.onPrimaryAction=function(){var e,t=a.props.nextModal,n=a.state.immediateCancelAndRefund;e=a.state.immediateCancelAndRefund?{featureType:"recourse_cancel_refund",cta:"continue",radio:"immediate"}:{featureType:"recourse_cancel_refund",cta:"continue",radio:"scheduled"},m.MontanaLogger.logEvent("cancel_click",e),t({immediateCancelAndRefund:n})},a.onSecondaryAction=function(){var e=a.props.prevModal;m.MontanaLogger.logEvent("cancel_click",{featureType:"recourse_cancel_refund",cta:"back"}),e()},a.closeModal=function(){var e=a.props.exitModalFlow;m.MontanaLogger.logEvent("cancel_dismiss",{featureType:"recourse_cancel_refund"}),s.dispatchModalClosed(),e()},a.title=function(){return n.default.createElement("h1",{className:"cancel-schedule-modal__title"},u._("When do you want to cancel?"))},a.setImmediateCancelAndRefund=function(){a.setState({immediateCancelAndRefund:!0})},a.setScheduledCancellation=function(){a.setState({immediateCancelAndRefund:!1})},a.scheduleOptions=function(){var e=a.state.immediateCancelAndRefund,t=a.props.subStatus.formattedNextBillingDate,r=a.props.subStatus.subState.billingSchedule.id,i=u._("Cancel now and refund me");return r===l.ScheduleId.MONTHLY&&(i=u._("Cancel now and refund me one month")),n.default.createElement(p.AdminPricedList,null,n.default.createElement(c.AdminPricedListItem,{isSelected:!e,title:u._("Cancel on my next renewal"),description:u._("You’ll have access to all %(plan)s features until %(date)s.").format({plan:_.DROPBOX_PLUS,date:t}),onClick:a.setScheduledCancellation,disableItem:!1,recommended:!0,effectiveDate:u._("%(date)s").format({date:t})}),n.default.createElement(c.AdminPricedListItem,{isSelected:e,title:i,description:u._("You’ll instantly lose access to %(plan)s features and storage.").format({plan:_.DROPBOX_PLUS}),onClick:a.setImmediateCancelAndRefund,disableItem:!1,effectiveDate:u._("Now")}))};var r=t.modalFlowState.immediateCancelAndRefund;return a.state={immediateCancelAndRefund:r},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){m.MontanaLogger.logEvent("cancel_view",{featureType:"recourse_cancel_refund"})},t.prototype.render=function(){return n.default.createElement(i.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:u._("Cancel schedule"),className:"cancel-schedule-modal",displayCloseButton:!0,onReady:s.dispatchModalOpened,onRequestClose:this.closeModal,open:!0},n.default.createElement(d.UXAnalyticsModalTracking,{id:"cancel-schedule-modal"}),n.default.createElement("div",{className:"cancel-schedule-modal__container"},this.title(),n.default.createElement("div",{className:"cancel-schedule-modal__schedule-options"},this.scheduleOptions()),n.default.createElement("div",{className:"cancel-schedule-modal__buttons"},n.default.createElement(r.Button,{className:"cancel-schedule-modal__modal-cta",variant:"secondary",onClick:this.onSecondaryAction},u._("Back")),n.default.createElement(r.Button,{className:"cancel-schedule-modal__modal-cta",variant:"primary",onClick:this.onPrimaryAction},u._("Continue")))))},t})((n=a.__importDefault(n)).default.Component);t.CancelScheduleModal=o.requireCssWithComponent(h,["/static/css/account/pagelet/montana_cancel_schedule_modal-vfljPArtr.css"])})),define("modules/clean/account_page/widgets/plan/views/montana/montana_cancel_success_modal",["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/core/browser","modules/clean/ux_analytics_utils","modules/clean/react/css","modules/clean/ux_analytics_modal_tracking","modules/core/i18n","modules/clean/react_format","modules/clean/payments/skus/sku_content","modules/clean/teams/admin/widgets/billing_notifications/cancel_billing_changes_modal","modules/core/notify","modules/clean/ajax","modules/clean/account_page/util","modules/clean/static_urls","modules/clean/payments/skus/constants","modules/clean/account_page/widgets/plan/views/montana/common"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g,y,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importStar(s),h=a.__importStar(h);var S=(function(e){function t(t){var a=e.call(this,t)||this;return a.onPrimaryAction=function(){var e=a.props.nextModal;b.MontanaLogger.logEvent("cancel_click",{featureType:"cancel_success",cta:"close"}),e()},a.onSecondaryAction=function(){var e=a.props.exitModalFlow;b.MontanaLogger.logEvent("cancel_click",{featureType:"cancel_success",cta:"undo_cancel_request"});var t=f.getCurrentUser().id;a.submittingRequest(),h.WebRequest({url:"/account/ajax_cancel_scheduled_change",data:{scheduled_change_type:_.CancellationType.IND_SUBSCRIPTION},subject_user:t,success:function(e){m.Notify.success(u._("You’ve canceled your change!"))},error:function(){m.Notify.error(u._("Failed to cancel changes."))},complete:function(){a.doneSubmittingRequest(),e()}})},a.closeModal=function(){var e=a.props.exitModalFlow;b.MontanaLogger.logEvent("cancel_dismiss",{featureType:"cancel_success"}),o.dispatchModalClosed(),e(),s.reload()},a.title=function(){var e=a.props.modalFlowState.immediateCancelAndRefund?u._("You’ve successfully canceled your plan"):u._("You’ve successfully scheduled your cancellation");return n.default.createElement("h1",{className:"cancel-success-modal__title"},e)},a.cancellationSummary=function(){var e=a.props.subStatus.subState.plan.productType===y.ProductPlanType.PROFESSIONAL?p.SkuContentClient.deserialize(a.props.professionalSerializedSkuContent):p.SkuContentClient.deserialize(a.props.plusSerializedSkuContent),t=p.SkuContentClient.deserialize(a.props.basicSerializedSkuContent),r=a.props.subStatus.formattedNextBillingDate,i=a.props.modalFlowState.immediateCancelAndRefund?c.reactFormat(u._("<strong>You’ll receive a refund to your preferred payment method. </strong> Contact your financial institution if it takes longer than a few days for the refund to show up."),{strong:n.default.createElement("strong",null)}):c.reactFormat(u._("<strong>Your account will downgrade from %(current_plan)s to %(basic_plan)s on %(date)s.</strong> This change may take a moment to show in your account settings.").format({current_plan:e.dropboxDisplayName(),basic_plan:t.dropboxDisplayName(),date:r}),{strong:n.default.createElement("strong",null)});return n.default.createElement("div",{className:"cancel-success-modal__description"},n.default.createElement("div",{className:"cancel-success-modal__confirmation-message"},i))},a.afterCancellationList=function(){var e=p.SkuContentClient.deserialize(a.props.basicSerializedSkuContent);return n.default.createElement("ul",{className:"after-cancellation-list"},n.default.createElement("li",{className:"after-cancellation-list__item"},u._("Your storage space will decrease to %(basic_quota)s").format({basic_quota:e.spaceShortFormGbRounded()})),n.default.createElement("li",{className:"after-cancellation-list__item"},u._("Syncing will be limited to only 3 devices")),n.default.createElement("li",{className:"after-cancellation-list__item"},u._("You’ll lose access to Dropbox Smart Sync and other features")))},a.state={submitting:!1},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){b.MontanaLogger.logEvent("cancel_view",{featureType:"cancel_success"})},t.prototype.submittingRequest=function(){this.setState({submitting:!0})},t.prototype.doneSubmittingRequest=function(){this.setState({submitting:!1})},t.prototype.render=function(){var e=this.state.submitting?n.default.createElement("div",{className:"cancel-success-modal__buttons"},n.default.createElement("div",{className:"loading-indicator"},n.default.createElement("img",{src:g.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:u._("Loading")}))):n.default.createElement("div",{className:"cancel-success-modal__buttons"},!this.props.modalFlowState.immediateCancelAndRefund&&n.default.createElement(r.Button,{className:"cancel-success-modal__modal-cta",variant:"secondary",onClick:this.onSecondaryAction},u._("Undo cancel")),n.default.createElement(r.Button,{className:"cancel-success-modal__modal-cta",variant:"primary",onClick:this.onPrimaryAction},u._("Close")));return n.default.createElement(i.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:u._("Cancel success"),className:"cancel-success-modal",displayCloseButton:!0,onReady:o.dispatchModalOpened,onRequestClose:this.closeModal,open:!0},n.default.createElement(d.UXAnalyticsModalTracking,{id:"cancel-success-modal"}),n.default.createElement("div",{className:"cancel-success-modal__container"},this.title(),this.cancellationSummary(),this.afterCancellationList(),n.default.createElement("div",{className:"cancel-success-modal__undo_message"},u._("If you change your mind, you can undo your request below or resume your subscription at any time from account settings.")),e))},t})(n.default.Component);t.CancelSuccessModal=l.requireCssWithComponent(S,["/static/css/account/pagelet/montana_cancel_success_modal-vfl8mpF--.css"])})),define("modules/clean/account_page/widgets/plan/views/montana/montana_modal_flow",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/snackbar","modules/clean/account_page/widgets/plan/views/montana/montana_other_options_modal","modules/clean/account_page/widgets/plan/views/montana/montana_cancel_schedule_modal","modules/clean/account_page/widgets/plan/views/montana/montana_cancel_confirmation_modal","modules/clean/account_page/widgets/plan/views/montana/montana_cancel_success_modal","modules/clean/account_page/widgets/plan/views/individual_cancel_survey_modal","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/react/modal_flow","modules/clean/account_page/widgets/plan/views/montana/loading_modal","modules/clean/payments/skus/constants"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=(function(e){function t(t){var a=e.call(this,t)||this;return a.state={loading:!0},c.MontanaLogger.initialize(t.subStatus),a}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.load()},t.prototype.load=function(){var e=this,t=this.props.subStatus,a=c.getMontanaProductPlanType(t.subState)===c.MontanaProductPlanType.PLUS;try{Promise.all([c.getMontanaPrices(a),c.getRetentionPolicy()]).then((function(t){var a=t[0],n=t[1];e.setState({loading:!1,montanaPrice:a[0].price,retentionPolicies:n})}))}catch(e){i.Snackbar.fail(r._("Something went wrong.")),this.setState({loading:!1}),this.props.onClose()}},t.prototype.getModalVisibility=function(){var e=this.props.subStatus,t=this.state.retentionPolicies,a=c.getMontanaProductPlanType(e.subState),n=a===c.MontanaProductPlanType.PLUS,r=a===c.MontanaProductPlanType.PROFESSIONAL,i=n&&e.subState.billingSchedule&&e.subState.billingSchedule.id===m.ScheduleId.MONTHLY,s=e.scheduledSubState&&(c.getMontanaProductPlanType(e.scheduledSubState)!==a||e.subState.billingSchedule.id!==e.scheduledSubState.billingSchedule.id),o=i||r,l=!1;if(t){if(t.available_policies&&t.available_policies.length){var d=t.available_policies.filter((function(e){return[c.MontanaRetentionPolicy.MONTANA_OLD_PRICE_PROMO,c.MontanaRetentionPolicy.PROF_TO_PLUS_WITH_PRORATED_REFUND,c.MontanaRetentionPolicy.REFUND_MIGRATION_DELTA].includes(e.policy_id)}));t.available_policies.filter((function(e){return e.policy_id===c.MontanaRetentionPolicy.DEPROVISION_WITH_FULL_REFUND})).length&&(l=!0),d.length&&(o=!0)}(t.applied_policies&&t.applied_policies.length||s)&&(o=!1,l=!1)}return{shouldShowOtherOptionsModal:o,shouldShowCancelScheduleModal:l}},t.prototype.render=function(){var e=this,t=this.props,r=t.planInfo,i=t.onClose,m=this.state,h=m.loading,f=m.retentionPolicies;if(h)return n.default.createElement(_.LoadingModal,null);var g,y=this.getModalVisibility(),b=y.shouldShowOtherOptionsModal,S=y.shouldShowCancelScheduleModal;if(b&&f&&f.available_policies&&f.available_policies.length){var v=f.available_policies.filter((function(e){return[c.MontanaRetentionPolicy.MONTANA_OLD_PRICE_PROMO,c.MontanaRetentionPolicy.PROF_TO_PLUS_WITH_PRORATED_REFUND,c.MontanaRetentionPolicy.REFUND_MIGRATION_DELTA].includes(e.policy_id)}));v.length&&(g=v[0])}return n.default.createElement(p.ModalFlow,{initialState:{immediateCancelAndRefund:!1},onClose:i},b&&function(t){return n.default.createElement(s.OtherOptionsModal,a.__assign({},e.props,t,{retentionPolicy:g,plusSkuContent:r.plusSkuContent,montanaPrice:e.state.montanaPrice}))},S&&function(t){return n.default.createElement(o.CancelScheduleModal,a.__assign({},e.props,t))},(function(t){return n.default.createElement(l.CancelConfirmationModal,a.__assign({},e.props,t,{basicSerializedSkuContent:r.basicSkuContent}))}),(function(t){return n.default.createElement(d.CancelSuccessModal,a.__assign({},e.props,t,{basicSerializedSkuContent:r.basicSkuContent,plusSerializedSkuContent:r.plusSkuContent,professionalSerializedSkuContent:r.professionalSkuContent}))}),(function(t){return n.default.createElement(u.IndividualCancelSurveyModal,a.__assign({},e.props,t,{expMontanaActive:!0}))}))},t})((n=a.__importDefault(n)).default.Component);t.MontanaModalFlow=h})),define("modules/clean/account_page/widgets/plan/views/montana/montana_other_options_modal",["require","exports","tslib","react","spectrum/modal","modules/clean/ux_analytics_utils","modules/clean/static_urls","modules/core/i18n","modules/clean/payments/skus/constants","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/montana/common","modules/core/notify","modules/clean/react_format","modules/clean/payments/skus/sku_content","modules/clean/payments/cash","modules/clean/payments/skus/subscription_change_plan","modules/clean/account_page/widgets/plan/views/retention_policy_modal"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var g={title:o._("Did you know you can save on your plan?"),description:o._(""),src:s.static_url("/static/images/montana/montana-retention-vflaaCrZP.png"),srcHiRes:s.static_url("/static/images/montana/montana-retention@2x-vflXD1euT.png"),imageAlt:o._("User flying on a airplane towards a better plan."),secondaryAction:o._("Continue canceling")},y=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.MontanaLogger.logEvent("cancel_view")},t.prototype.render=function(){var e=this.props,t=e.nextModal,r=e.exitModalFlow,i=e.openChangeScheduleModal,s=a.__assign(a.__assign({},g),{title:o._("Save up to %(percentage)s").format({percentage:o.format_percent(17)}),description:o._("Keep your current price by switching to yearly billing."),primaryAction:o._("Switch to yearly billing"),valuePropositions:[],onPrimaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"switch_to_yearly_billing"}),r(),i()},onSecondaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"continue_canceling"}),t()}});return n.default.createElement(f.RetentionPolicyModal,a.__assign({},s))},t})(n.default.Component),b=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.MontanaLogger.logEvent("cancel_view")},t.prototype.render=function(){var e=this.props,t=e.nextModal,r=e.exitModalFlow,i=e.openMontanaRenewSuccessModal,s=a.__assign(a.__assign({},g),{title:o._("Keep your current price for another year"),description:o._("Save up to %(save_percentage)s—renew your %(plan)s plan today").format({save_percentage:o.format_percent(17),plan:d.DROPBOX_PLUS}),valuePropositions:[],primaryAction:o._("Keep my current price"),onPrimaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"renew_and_keep_price"}),u.applyRetentionPolicy(u.MontanaRetentionPolicy.MONTANA_OLD_PRICE_PROMO).then((function(e){r(),i()}),(function(e){c.Notify.error(o._("There was an issue, please contact Customer Support."))}))},secondaryAction:o._("Skip offer and cancel"),onSecondaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"continue_canceling"}),t()}});return n.default.createElement(f.RetentionPolicyModal,a.__assign({},s))},t})(n.default.Component),S=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.MontanaLogger.logEvent("cancel_view",{featureType:"recourse"})},t.prototype.render=function(){var e,t=this.props,r=t.nextModal,i=t.exitModalFlow,s=t.montanaPrice,l=t.openMontanaRenewSuccessModal,p=t.planInfo,_=t.subStatus;p&&p.montanaDetails&&p.montanaDetails.priceDifference&&_&&_.nextBillingSummary&&s&&(e=m.Cash.formatWithTaxForRefund(p.montanaDetails.priceDifference,s.currency,_.nextBillingSummary.doesTaxApply));var h=a.__assign(a.__assign({},g),{title:o._("Take up to %(percentage)s off the new %(plan)s").format({percentage:o.format_percent(17),plan:d.DROPBOX_PLUS}),description:e?o._("Get your previous price for another year—renew %(plan)s now and we’ll give you a partial refund (up to %(max_refund_amount)s).").format({plan:d.DROPBOX_PLUS,max_refund_amount:e}):o._("Get your previous price for another year—renew %(plan)s now and we’ll give you a partial refund.").format({plan:d.DROPBOX_PLUS}),valuePropositions:[],primaryAction:o._("Go back to my previous price"),onPrimaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"accept_refund",featureType:"recourse"}),u.applyRetentionPolicy(u.MontanaRetentionPolicy.REFUND_MIGRATION_DELTA).then((function(e){i(),l()}),(function(e){c.Notify.error(o._("There was an issue, please contact Customer Support."))}))},secondaryAction:o._("Skip offer and cancel"),onSecondaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"continue_canceling",featureType:"recourse"}),r()}});return n.default.createElement(f.RetentionPolicyModal,a.__assign({},h))},t})(n.default.Component),v=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.MontanaLogger.logEvent("cancel_view")},t.prototype.render=function(){var e=this.props,t=e.subStatus,r=e.nextModal,i=e.exitModalFlow,s=e.openChangePlanModal,d=e.plusSkuContent,c=e.retentionPolicy,m=_.SkuContentClient.deserialize(d),y=this.props.montanaPrice;if(c&&c.serialized_subscription_change_plan){var b=JSON.parse(c.serialized_subscription_change_plan),S=h.SubscriptionChangePlan.deserialize(b);S.nextBillingSummary&&(y=S.nextBillingSummary.total)}var v=t.subState.billingSchedule.id===l.ScheduleId.MONTHLY?p.reactFormat(o._("All for %(montana_plus_price)s per month. Switch to %(plan)s and take advantage of these features, at a lower price.").format({montana_plus_price:y.toString(),plan:m.dropboxDisplayName()})):p.reactFormat(o._("All for %(montana_plus_price)s per year. Switch to %(plan)s and take advantage of these features, at a lower price."),{montana_plus_price:y.toString(),plan:m.dropboxDisplayName()});c&&c.policy_id===u.MontanaRetentionPolicy.PROF_TO_PLUS_WITH_PRORATED_REFUND&&(v=p.reactFormat(o._("All for %(montana_plus_price)s per year. <strong>Switch your plan and we’ll refund the             difference</strong> between your recent renewal charge and the lower price of %(plan)s."),{montana_plus_price:y.toString(),strong:n.default.createElement("strong",null),plan:m.dropboxDisplayName()}));var M=a.__assign(a.__assign({},g),{title:o._("Have you looked at %(plan)s lately?").format({plan:m.dropboxDisplayName()}),description:o._("%(plan)s has been upgraded with new features for an incredible value.").format({plan:m.dropboxDisplayName()}),valuePropositions:[p.reactFormat(o._("<strong>Double the storage</strong>—save everything with %(space_with_gb)s."),{strong:n.default.createElement("strong",null),space_with_gb:m.spaceLongFormRounded()}),p.reactFormat(o._("<strong>World-class sync technology</strong>—move out-of-date files off your computer’s hard drive and to the cloud with %(dss)s."),{strong:n.default.createElement("strong",null),dss:"Dropbox Smart Sync"}),p.reactFormat(o._("<strong>Dropbox Rewind</strong>—rollback unwanted changes to any folder, or your entire %(dropbox)s, up to 30 days."),{strong:n.default.createElement("strong",null),dropbox:"Dropbox"})],tagline:v,primaryAction:o._("Switch to %(plan)s").format({plan:m.dropboxDisplayName()}),secondaryAction:o._("Continue canceling"),onPrimaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"switch_to_plus"}),i(),s()},onSecondaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"continue_canceling"}),r()}});return n.default.createElement(f.RetentionPolicyModal,a.__assign({},M))},t})(n.default.Component);t.OtherOptionsModal=function(e){var t=e.subStatus,s=e.exitModalFlow,d=e.retentionPolicy,c=u.getMontanaProductPlanType(t.subState),p=t.finalSubState.billingSchedule.id===l.ScheduleId.MONTHLY,_=c===u.MontanaProductPlanType.PLUS&&p?500:640;return n.default.createElement(r.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:o._("Other options"),className:"other-options-modal",displayCloseButton:!0,onReady:i.dispatchModalOpened,onRequestClose:function(){i.dispatchModalClosed(),u.MontanaLogger.logEvent("cancel_dismiss"),s()},open:!0,width:_,id:"other-options-modal",bodyClassName:"uxa-modal",bodyId:"other-options-modal"},d&&d.policy_id===u.MontanaRetentionPolicy.MONTANA_OLD_PRICE_PROMO&&n.default.createElement(b,a.__assign({},e)),d&&d.policy_id===u.MontanaRetentionPolicy.REFUND_MIGRATION_DELTA&&n.default.createElement(S,a.__assign({},e)),c===u.MontanaProductPlanType.PROFESSIONAL&&n.default.createElement(v,a.__assign({},e)),c===u.MontanaProductPlanType.PLUS&&p&&n.default.createElement(y,a.__assign({},e)))}})),define("modules/clean/account_page/widgets/plan/views/montana/montana_renew_success_modal",["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/clean/payments/cash","modules/clean/ux_analytics_utils","modules/clean/react/css","modules/clean/react/image","modules/core/i18n","modules/clean/static_urls","modules/clean/account_page/widgets/plan/views/montana/common","modules/core/browser"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),_=a.__importStar(_);var m=(function(e){function t(t){var a=e.call(this,t)||this;return a.montanaPeriod=function(){var e=a.props.planInfo,t=e.montanaAnnouncementDate,n=e.usersMontanaMigrationDate,r=e.usersFirstMontanaRebillDate,i=e.now;return p.getMontanaPeriod(a.props.subStatus,t,n,r,i)},a.onCloseAction=function(){p.MontanaLogger.logEvent("cancel_dismiss",{featureType:"yearly_thanks",cta:"done"}),a.props.onClose()},a.closeModal=function(){o.dispatchModalClosed(),p.MontanaLogger.logEvent("cancel_dismiss",{featureType:"yearly_thanks"}),a.props.onClose(),_.redirect("/")},a.title=function(){return n.default.createElement("h1",{className:"renew-success-modal__title"},u._("Awesome! Thanks for staying with us"))},a.description=function(){var e=a.montanaPeriod(),t=Boolean(a.props.subStatus.currentBillingSummary.discountPercentage),r=u._("Your refund is on the way.");return e===p.MontanaPeriod.GRACE&&t?r=u._("On %(renewal_date)s, your Dropbox %(plan_name)s plan will renew for one year and your preferred payment method will be charged %(discounted_price)s, reflecting a savings of %(percentage)s.").format({renewal_date:a.props.subStatus.formattedNextBillingDate,plan_name:a.props.subStatus.subState.plan.displayName(),discounted_price:s.Cash.formatWithTaxLabels(a.props.subStatus.currentBillingSummary.total,a.props.subStatus.currentBillingSummary),percentage:u.format_percent(a.props.subStatus.currentBillingSummary.discountPercentage)}):e===p.MontanaPeriod.GRACE&&(r=u._("On %(renewal_date)s, your Dropbox %(plan_name)s plan will renew for one year and your preferred payment method will be charged %(discounted_price)s.").format({renewal_date:a.props.subStatus.formattedNextBillingDate,plan_name:a.props.subStatus.subState.plan.displayName(),discounted_price:s.Cash.formatWithTaxLabels(a.props.subStatus.currentBillingSummary.total,a.props.subStatus.currentBillingSummary)})),n.default.createElement("div",{className:"renew-success-modal__description"},n.default.createElement("p",{className:"renew-success-modal__primary-description"},r))},p.MontanaLogger.initialize(t.subStatus),a}return a.__extends(t,e),t.prototype.componentDidMount=function(){p.MontanaLogger.logEvent("cancel_view",{featureType:"yearly_thanks"})},t.prototype.render=function(){return n.default.createElement(i.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:u._("Renew success"),className:"renew-success-modal",displayCloseButton:!0,onReady:o.dispatchModalOpened,onRequestClose:this.closeModal,open:!0,width:640,id:"renew-success-modal",bodyClassName:"uxa-modal",bodyId:"renew-success-modal"},n.default.createElement("div",{className:"renew-success-modal__container"},n.default.createElement(d.Image,{alt:u._("User celebrates their new and improved plan."),className:"renew-success-modal__image",src:c.static_url("/static/images/montana/montana-success-vflbIjK-n.png"),srcHiRes:c.static_url("/static/images/montana/montana-success@2x-vflD5mz30.png")}),this.title(),this.description(),n.default.createElement("div",{className:"renew-success-modal__buttons"},n.default.createElement(r.Button,{className:"renew-success-modal__modal-cta",variant:"primary",onClick:this.onCloseAction},u._("Done")))))},t})(n.default.Component);t.RenewSuccessModal=l.requireCssWithComponent(m,["/static/css/account/pagelet/montana_renew_success_modal-vfliM7eV2.css"])})),define("modules/clean/account_page/widgets/plan/views/switch_plan_modal",["require","exports","tslib","react","modules/core/i18n","classnames","modules/clean/bem","modules/constants/trademark","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/views/plan_card","modules/clean/react/browse/uri_helper","spectrum/modal","modules/clean/react/modal","modules/clean/react/css","modules/clean/payments/skus/constants","dig-components/typography","modules/clean/account_page/widgets/plan/views/biz_trial_modal","modules/clean/account_page/widgets/plan/views/loading_view","modules/clean/payments/skus/constants"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g,y,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importDefault(i);var S=s.bem("switch-plan-modal"),v=["min_licenses","space_quota","dropbox_transfer","version_history","tiered_admin_roles","device_approvals"],M=["min_licenses","space_quota","dropbox_transfer","version_history"],L=(function(e){function t(t){var a=e.call(this,t)||this;return a.handleClose=function(){a.setState({open:!1})},a.handleSwitchToPro=function(){a.props.openChangePlanModal(void 0,!0)},a.openBizTrialModal=function(e){g.BizTrialModalView.showInstance({productPlanType:e,shouldShowBilledMonthlyPrice:a.shouldShowBilledMonthlyPrice})},a.handleTryBusinessStandard=function(){a.openBizTrialModal(b.ProductPlanType.STANDARD)},a.handleTryBusinessAdvanced=function(){a.openBizTrialModal(b.ProductPlanType.ADVANCED)},a.loadPlanCardInfo=function(){(new l.UserApiV2Client).ns("growth_plans").rpc("get_plan_card_info_with_country",{country_override:c.getQueryArgs().country_override},{subjectUserId:d.getCurrentUser().id}).then((function(e){var t=e.plan_card_infos;a.setState({loading:!1,planCardInfos:{plusCard:a.getFilteredCard(t,"plus",h.ProductFamily.PRO),professionalCard:a.getFilteredCard(t,"professional",h.ProductFamily.PRO),businessStandardCard:a.getFilteredCard(t,"business_standard",h.ProductFamily.TEAM),businessAdvancedCard:a.getFilteredCard(t,"business_advanced",h.ProductFamily.TEAM)}})}))},a.renderPlanCards=function(){var e,t,s=a.state.planCardInfos,l=a.shouldShowBilledMonthlyPrice?"price_monthly":"price_annual_by_month",d=n.createElement("div",{className:S("recommended-badge")},r._("Recommended"));return n.createElement(n.Fragment,null,n.createElement(f.Title,{className:S("header")},r._("Dropbox plans")),n.createElement("div",{className:S("plan-cards-wrapper")},n.createElement("div",{className:S("plan-cards-content")},n.createElement(u.PlanCard,{isHighlighted:!1,isBusiness:!1,planDisplayName:o.TRADEMARK_PLUS,features:s.plusCard.features,pricePerMonth:s.plusCard[l],isBilledMonthly:a.shouldShowBilledMonthlyPrice,isInSwitchPlanModal:!0})),n.createElement("div",{className:i.default(S("plan-cards-content"),(e={},e[S("plan-cards-content","recommended-plan")]=!a.props.isBizRecommended,e))},n.createElement("div",null,!a.props.isBizRecommended&&d),n.createElement(u.PlanCard,{isHighlighted:!1,isBusiness:!1,planDisplayName:o.TRADEMARK_PROFESSIONAL,features:s.professionalCard.features,pricePerMonth:s.professionalCard[l],primaryCta:{primaryText:r._("Purchase plan"),onClick:a.handleSwitchToPro},isBilledMonthly:a.shouldShowBilledMonthlyPrice,isInSwitchPlanModal:!0})),n.createElement("div",{className:i.default(S("plan-cards-content"),(t={},t[S("plan-cards-content","recommended-plan")]=a.props.isBizRecommended,t))},n.createElement("div",null,a.props.isBizRecommended&&d),n.createElement(u.PlanCard,{isHighlighted:!1,isBusiness:!0,planDisplayName:"Business "+o.TRADEMARK_BUSINESS_STANDARD,features:s.businessStandardCard.features,pricePerMonth:s.businessStandardCard[l],primaryCta:{primaryText:r._("Try free for %(trial_days)d days").format({trial_days:30}),onClick:a.handleTryBusinessStandard},isBilledMonthly:a.shouldShowBilledMonthlyPrice,isInSwitchPlanModal:!0})),n.createElement("div",{className:S("plan-cards-content")},n.createElement(u.PlanCard,{isHighlighted:!1,isBusiness:!0,planDisplayName:"Business "+o.TRADEMARK_BUSINESS_ADVANCED,features:s.businessAdvancedCard.features,pricePerMonth:s.businessAdvancedCard[l],primaryCta:{primaryText:r._("Try free for %(trial_days)d days").format({trial_days:30}),onClick:a.handleTryBusinessAdvanced},isBilledMonthly:a.shouldShowBilledMonthlyPrice,isInSwitchPlanModal:!0}))))},a.state={loading:!0,open:!0},a}return a.__extends(t,e),t.showInstance=function(e){_.Modal.showInstance(n.createElement(t.SwitchPlanModal,a.__assign({},e)))},t.prototype.componentDidMount=function(){this.loadPlanCardInfo()},Object.defineProperty(t.prototype,"billingSchedule",{get:function(){return this.props.subStatus.subState.billingSchedule?this.props.subStatus.subState.billingSchedule.id:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBillingScheduledToChange",{get:function(){var e=this.props.subStatus,t=this.billingSchedule;return!(!t||!e.finalSubState.billingSchedule)&&t!==e.finalSubState.billingSchedule.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowBilledMonthlyPrice",{get:function(){return this.billingSchedule===h.ScheduleId.MONTHLY&&!this.isBillingScheduledToChange||this.billingSchedule===h.ScheduleId.YEARLY&&this.isBillingScheduledToChange},enumerable:!0,configurable:!0}),t.prototype.getFilteredCard=function(e,t,n){var r=e.find((function(e){return e.plan_enum[".tag"]===t})),i=n===h.ProductFamily.PRO?M:v;return a.__assign(a.__assign({},r),{features:i.map((function(e){return r.features.find((function(t){return t.plan_feature_enum[".tag"]===e}))})).filter((function(e){return void 0!==e}))})},t.prototype.render=function(){return n.createElement(p.Modal,{ariaLabel:"SwitchPlanModal",open:this.state.open,displayCloseButton:!0,overlayClickClose:!1,onRequestClose:this.handleClose,width:860},n.createElement("div",{className:S("")},this.state.loading?n.createElement(y.LoadingView,{className:S("loading-indicator")}):this.renderPlanCards()))},t.SwitchPlanModal=m.requireCssWithComponent(t,["/static/css/dig-components/index.web-vflOjr3ra.css","/static/css/account/pagelet/plan_card-vfluu43Z0.css","/static/css/account/pagelet/switch_plan_modal-vflIj5Qgc.css"]),t})(n.PureComponent);t.SwitchPlanModalView=L})),define("modules/clean/family/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FAMILY_MANAGEMENT_URI_PATH="/family/manage"})),define("modules/clean/react/modal_flow",["require","exports","tslib","react","modules/clean/react/modal"],(function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(t){var n=e.call(this,t)||this;n.goTo=function(e){var t=n.props.modalSequence;void 0!==e&&Boolean(t[e])&&n.setState({currentModalIndex:e})},n.prev=function(e){var t=n.state.currentModalIndex;if(0===t)return n.exit();n.setState(a.__assign(a.__assign({},e),{currentModalIndex:t-1}))},n.next=function(e){var t=n.props.modalSequence,r=n.state.currentModalIndex;if(r===t.length-1)return n.exit();n.setState(a.__assign(a.__assign({},e),{currentModalIndex:r+1}))},n.exit=function(){if(n.props.onClose)return n.props.onClose();r.Modal.close()};var i=t.initialState;return n.state=a.__assign(a.__assign({},i),{currentModalIndex:0}),n}return a.__extends(t,e),t.start=function(e){r.Modal.showInstance(n.default.createElement(t.ModalElement,a.__assign({},e)))},t.prototype.render=function(){var e=this.props.modalSequence[this.state.currentModalIndex],t=e.component,r=e.props;return n.default.createElement(t,a.__assign({},r,{goToModal:this.goTo,nextModal:this.next,prevModal:this.prev,exitModalFlow:this.exit,modalFlowState:this.state}))},t.defaultProps={initialState:{}},t.ModalElement=t,t})((n=a.__importDefault(n)).default.Component);t.DeprecatedModalFlow=i;var s=(function(e){function t(t){var n=e.call(this,t)||this;n.goTo=function(e){void 0!==e&&n.setState({currentModalIndex:e})},n.prev=function(e){var t=n.state.currentModalIndex;if(0===t)return n.exit();n.setState(a.__assign(a.__assign({},e),{currentModalIndex:t-1}))},n.next=function(e){var t=n.state.currentModalIndex;if(t===n.childrenCount-1)return n.exit();n.setState(a.__assign(a.__assign({},e),{currentModalIndex:t+1}))},n.exit=function(){return n.props.onClose()},n.getSanitizedChildren=function(e){return e.filter((function(e){return Boolean(e)}))};var r=t.initialState;return n.state=a.__assign({currentModalIndex:0},r||{}),n}return a.__extends(t,e),Object.defineProperty(t.prototype,"childrenCount",{get:function(){var e=this.props.children;return e?Array.isArray(e)?e.length:1:0},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.state.currentModalIndex,t=this.props.children;if(!t)return null;var a=Array.isArray(t)?this.getSanitizedChildren(t)[e]:t;if(!a)return null;var r={goToModal:this.goTo,nextModal:this.next,prevModal:this.prev,exitModalFlow:this.exit,modalFlowState:this.state};return n.default.createElement(n.default.Fragment,null,a(r))},t.defaultProps={initialState:{}},t})(n.default.Component);t.ModalFlow=s})),define("modules/clean/payments/payment_form_events",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(){}return e.initClass=function(){this.LOCATION_CHANGE_EVENT="db:paymentform:countrycodechanged",this.ZIP_CHANGE_EVENT="db:paymentform:zipchanged",this.PAYMENT_METHOD_TYPE_CHANGE_EVENT="db:paymentform:paymentmethodtypechanged",this.VAT_CHANGE_EVENT="db:paymentform:vatchanged",this.CPF_CHANGE_EVENT="db:paymentform:cpfchanged",this.UNVALIDATED="db:paymentform:unvalidated",this.VALIDATE_ERROR="db:paymentform:validateerror",this.VALIDATE_SUCCESS="db:paymentform:validatesuccess",this.LOADED_EVENT="db:paymentform:loaded",this.IFRAME_LOADED_EVENT="db:paymentform:iframeloaded",this.IFRAME_FIELDS_STATUS_EVENT="db:paymentform:iframefieldsstatusevent",this.EDIT_SIMPLE_COUNTRY_CLICK_EVENT="db:paymentform:editsimplecountry"},e})();a.initClass(),t.default=a})),define("modules/clean/react/payments/edit_invoice_address_modal/edit_invoice_address_modal_loader",["require","exports","tslib","modules/core/notify","react","modules/clean/react/css","modules/clean/react/sprite","modules/core/uri","modules/core/i18n","modules/clean/react/arbor/aspen/elements/arbor_inputs","modules/clean/payments/validation","modules/clean/react/modal","modules/clean/static_urls","modules/clean/react/tooltip","modules/clean/analytics","modules/clean/ajax_as_promised"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h){"use strict";function f(e){return function(t){return null==t||t.length<=e}}function g(e,t){return r.default.createElement(_.Tooltip,{position:_.TooltipPosition.RIGHT,tooltip_contents:t},e,r.default.createElement(s.Sprite,{group:"web",name:"info",className:"info-sprite",alt:""}))}Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);var y=l._("Country and postal code must match your account’s payment information."),b=l._("Your tax rate on this invoice cannot be updated."),S={addressName:l._("Billing name"),address:l._("Billing address"),city:l._("City"),state:l._("State"),zip:g(l._("Postal code"),y),country:g(l._("Country"),y),exclusionId:l._("VAT number (optional)"),exclusionIdWithTooltip:g(l._("VAT number (optional)"),b)},v=(function(e){function i(t){var a=e.call(this,t)||this;return a.disableds={addressName:!1,address:!1,city:!1,state:!1,zip:!0,country:!0,exclusionId:!1,exclusionIdWithTooltip:!1},a.addressNameLength=100,a.addressLength=250,a.cityLength=50,a.stateLength=50,a.vatLength=25,a.undefinedLength=void 0,a.validateHandlers={addressName:f(a.addressNameLength),address:f(a.addressLength),city:f(a.cityLength),state:f(a.stateLength),zip:function(){return!0},country:function(){return!0},exclusionId:function(){return!0},exclusionIdWithTooltip:function(){return!0}},a.maxLengths={addressName:a.addressNameLength,address:a.addressLength,city:a.cityLength,state:a.stateLength,zip:a.undefinedLength,country:a.undefinedLength,exclusionId:a.vatLength,exclusionIdWithTooltip:a.vatLength},a.errorTexts={addressName:l._("Too long"),address:l._("Too long"),city:l._("Too long"),state:l._("Too long"),zip:"",country:"",exclusionId:"",exclusionIdWithTooltip:""},a.onSave=function(){var e=a.state.formState,t=a.props.invoice;if(e)if(a.logActions("edit_billing_address_started"),a.setState({submitting:!0}),a.isInputValid()){var n={address_name:e.addressName,address:e.address,city:e.city,state:e.state,exclusion_id:e.exclusionId};t&&(n.invoice_id=o.URI.parse(t.link).getQuery().id.toString()),a.makeEditBillingAddressRequest(n)}else a.setState({submitting:!1,showErrors:!0})},a.onCancel=function(){a.logActions("edit_billing_address_cancelled"),c.Modal.close()},a.state={submitting:!1,showErrors:!1},t.isTeam?(a.editUrl="/edit_billing_address",a.viewModelUrl="/edit_billing_address_view_model",a.vatClass="grid__item--1-1",a.modalClass="edit-invoice-modal"):(a.editUrl="/edit_billing_address_individual",a.viewModelUrl="/edit_billing_address_individual_view_model",a.vatClass="grid__item--1-2",a.modalClass="edit-invoice-modal professional-modal"),a}return a.__extends(i,e),i.showInstance=function(e,a){var n=r.default.createElement(t.EditInvoiceAddressModalLoader,{invoice:e,isTeam:a});c.Modal.showInstance(n)},i.showUpdateTaxProfileModal=function(e,a){var n=r.default.createElement(t.EditInvoiceAddressModalLoader,{isTeam:e,onUpdated:a});c.Modal.showInstance(n)},i.prototype.componentDidMount=function(){var e=void 0;this.props.invoice&&(e=o.URI.parse(this.props.invoice.link).getQuery().id.toString(),this.disableds.exclusionIdWithTooltip=!0),this.makeRequest(e)},i.prototype.makeRequest=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t={invoice_id:e},[4,h.WebRequest({url:this.viewModelUrl,data:t,dataType:"json"})];case 1:return n=a.sent(),u.hasVat(n.countryCode)&&(this.errorTexts.exclusionId=l._("Please enter a valid VAT number, e.g. %(examples)s.").format({examples:u.getVatExamples(n.countryCode).join(", ")}),this.validateHandlers.exclusionId=function(e){return!e||u.validateVat(n.countryCode,e)}),this.setState({formState:n}),[3,3];case 2:return a.sent(),c.Modal.close(),[3,3];case 3:return[2]}}))}))},i.prototype.render=function(){var e,t=this.state,a=t.formState,n=t.showErrors,i=t.submitting;if(a){var s=null;if(u.hasVat(a.countryCode)){var o=u.getVatPrefix(a.countryCode);s=this.props.invoice?this.renderInput("exclusionIdWithTooltip",this.vatClass):this.renderInput("exclusionId",this.vatClass,o)}e=this.props.isTeam?r.default.createElement("div",{className:".type--arbor grid__container grid__container--p-large  grid--x-bookend"},this.renderInstructions(a.countryCode),this.renderInput("addressName","grid__item--1-1"),this.renderInput("address","grid__item--1-1"),this.renderInput("city","grid__item--1-2"),this.renderInput("state","grid__item--11-24"),this.renderInput("zip","grid__item--7-24"),this.renderInput("country","grid__item--2-3"),s):r.default.createElement("div",{className:".type--arbor grid__container grid__container--p-large  grid--x-bookend"},this.renderInput("addressName","grid__item--1-1"),this.renderInput("address","grid__item--1-2"),this.renderInput("city","grid__item--1-4"),this.renderInput("state","grid__item--1-4"),this.renderInput("zip","grid__item--1-2"),this.renderInput("country","grid__item--1-2"),s,this.renderInstructions(a.countryCode))}else e=r.default.createElement("div",{className:"loading-spinner"},r.default.createElement("img",{src:p.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:l._("Loading")}));var d=r.default.createElement(c.ModalButtons,{className:"oq-modal__buttons"},r.default.createElement(c.ModalButton,{className:"cancel-button",importance:"tertiary",onClick:this.onCancel},l._("Cancel")),r.default.createElement(c.ModalButton,{disabled:!a||i||n&&!this.isInputValid(),importance:"primary",onClick:this.onSave},l._("Save changes")));return r.default.createElement(c.Modal,{className:this.modalClass,autoClose:!1,buttonComponent:d,title:l._("Edit invoice details")},r.default.createElement("div",{className:"dynamic-content"},e))},i.prototype.logActions=function(e){this.props.isTeam?m.TeamsWebActionsLogger.log(e):m.UserActivityLogger.log("web",e)},i.prototype.makeEditBillingAddressRequest=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,r;return a.__generator(this,(function(a){switch(a.label){case 0:t=this.props.onUpdated,a.label=1;case 1:return a.trys.push([1,3,4,5]),r=this.editUrl,[4,h.WebRequest({url:r,data:e})];case 2:return a.sent(),this.logActions("edit_billing_address_success"),n.Notify.success(l._("Invoice details updated.")),[3,5];case 3:return a.sent(),this.logActions("edit_billing_address_edit_failure"),[3,5];case 4:return t&&t(),c.Modal.close(),[7];case 5:return[2]}}))}))},i.prototype.renderInstructions=function(e){var t,a=this.props.invoice;if(t=a?l._("You are editing details for the %(date)s invoice.").format({date:a.date}):l._("You are editing details for all future invoices. To edit past         invoices, click “Edit” on the invoice item instead."),u.hasVat(e)){var n=l._("Please note that changing your VAT number could impact your           applicable tax rate.");a&&(n=l._("To add or change a VAT number or request a tax refund, contact           support.")),t=t.concat(" ",n)}return r.default.createElement("div",{className:"grid__item--1-1 instructions"},t)},i.prototype.renderInput=function(e,t,a){var n=this.state,i=n.formState,s=n.showErrors,o="";return i&&(o=i[e]),r.default.createElement(d.ArborTextInput,{name:e,containerClassName:t,isValid:s?!!this.validateHandlers[e](o)&&"":"",labelText:S[e],errorText:this.errorTexts[e],value:o,onChange:this.onChangeFactory(e),disabled:this.disableds[e],placeholderText:a,maxLength:this.maxLengths[e]})},i.prototype.onChangeFactory=function(e){var t=this;return function(a,n,r){var i=t.state.formState;i&&t.setState((function(t){return i[e]=r,t}))}},i.prototype.isInputValid=function(){var e=this.state.formState;return!!e&&(this.validateHandlers.addressName(e.addressName)&&this.validateHandlers.address(e.address)&&this.validateHandlers.city(e.city)&&this.validateHandlers.state(e.state)&&this.validateHandlers.exclusionId(e.exclusionId))},i})(r.default.Component);t.EditInvoiceAddressModalLoader=i.requireCssWithComponent(v,["/static/css/payments/edit_invoice_address_modal/edit_invoice_address_modal-vflLYuVmn.css"])})),define("modules/clean/react/payments/pro/components/payments/pro_payment_info_section",["require","exports","tslib","react","modules/clean/analytics","modules/clean/payments/payment_form/payment_form_spec","modules/clean/payments/validation","modules/core/i18n","modules/clean/react/payments/pro/components/inputs/inputs","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/buy/components/payments/ideal_form","modules/clean/react/payments/pro/components/payments/payment_method_selector","modules/clean/react/payments/checkout/components/payment_method_form/credit_card_frame","modules/clean/react/payments/checkout/components/payment_method_form/direct_debit_form","modules/constants/trademark","modules/clean/react/payments/checkout/components/payment_method_form/address_form","modules/clean/react/payments/checkout/components/payment_method_form/credit_card_purchase_full_name"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCpfChange=function(e){t.props.actions.updateCpf(e.value)},t.onCpfNameChange=function(e){t.props.actions.updateCpfName(e.value)},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props.formData.countryCode.formattedValue;r.ProEventsLogger.log("uj-billing-country",{country:e}),"BR"===e&&this.props.showCpf&&r.ProEventsLogger.log("uj-cpf-viewed-field"),this.props.actions.updateHistory()},t.prototype.prepareForSubmission=function(){return this.props.formData.paymentMethod.formattedValue===i.PaymentMethod.CreditCard?this.creditCardFrame.tokenize():Promise.resolve(!0)},t.prototype.getCreditCardFrame=function(){return this.creditCardFrame},t.prototype.onVatChange=function(e){this.props.actions.updateVat(e.value)},t.prototype.vatErrorString=function(){var e=this.props.formData.vat;return!d.FormValueHelper.isValid(e)&&e.showError?o._("Please enter a valid VAT number (ex: %(examples)s).").format({examples:s.getVatExamples(this.props.formData.countryCode.formattedValue).join(", ")}):""},t.prototype.cpfErrorString=function(){var e=this.props.formData.cpf;return!d.FormValueHelper.isValid(e)&&e.showError?o._("Please enter a valid CPF number."):""},t.prototype.renderLocationFields=function(){var e=this.props,t=e.paymentSpec,a=e.formData,r=e.isScheduledDowngradeToBasic,i=null;if(t.should_show_vat_for_country(a.countryCode.formattedValue)){var d=s.getVatPrefix(a.countryCode.formattedValue);i=n.default.createElement(l.LabeledTextInput,{className:"payment-info__vat",containerClassName:"grid__item--medium--1-2",name:"vat",labelText:o._("VAT number (optional)"),errorText:this.vatErrorString(),placeholder:d,value:a.vat.rawValue,onChange:this.onVatChange.bind(this)})}var u=null;this.props.showCpf&&"BR"===a.countryCode.formattedValue&&(u=n.default.createElement("div",{className:"grid__item"},n.default.createElement(l.LabeledTextInput,{className:"payment-info__cpf",containerClassName:"grid__item--1-2",name:"cpf",labelText:o._("CPF/CNPJ"),errorText:this.cpfErrorString(),value:a.cpf.rawValue,onChange:this.onCpfChange}),this.props.showCpfName&&n.default.createElement(l.LabeledTextInput,{className:"payment-info__cpfName",containerClassName:"grid__item--1-2",name:"cpf_name",labelText:o._("Name"),value:a.cpfName.rawValue,onChange:this.onCpfNameChange})));var c=o._("Please note that changing your billing location      could impact your applicable tax rate.");t.should_show_vat_for_country(a.countryCode.formattedValue)&&(c=o._("Please note that changing your billing location or VAT number      could impact your applicable tax rate."));var p=this.props.licenseKeyDisplayInfo,_=null;if(p&&p.hasLicenseKey){var f=p.scheduleInfo,g=f.is_schedule_yearly?o._("Yearly Price"):f.is_schedule_monthly?o._("Monthly Price"):o._("Price"),y=f.is_schedule_yearly?o._("Yearly Total"):f.is_schedule_monthly?o._("Monthly Total"):o._("Total"),b={date:p.date,price:p.price},S="";S=p.isTaxInclusive?p.hasMoreKeys?o._("After all of your license keys expire, you will be charged %(price)s                   including applicable taxes until you cancel your subscription.").format(b):o._("After your license key expires on %(date)s, you will be charged %(price)s                   including applicable taxes until you cancel your subscription.").format(b):p.hasMoreKeys?o._("After all of your license keys expire, you will be charged %(price)s plus applicable taxes                   until you cancel your subscription.").format(b):o._("After your license key expires on %(date)s, you will be charged %(price)s plus applicable taxes                   until you cancel your subscription.").format(b),S+=" "+o._("Previous charges won’t be refunded when you cancel               unless it’s legally required. Your payment data is encrypted and secure."),_=n.default.createElement("div",null,n.default.createElement("table",{className:"license-key-info"},n.default.createElement("div",null,n.default.createElement("td",{className:"license-key-table-column"},n.default.createElement("tr",{className:"strong"},o._("Dropbox %(plus)s").format({plus:m.TRADEMARK_PLUS})),n.default.createElement("tr",null,p.email))),n.default.createElement("div",null,n.default.createElement("td",{className:"license-key-table-column"},n.default.createElement("tr",{className:"license-key-table-row"},n.default.createElement("td",null,g),n.default.createElement("td",null,p.price)),n.default.createElement("tr",{className:"license-key-table-row"},n.default.createElement("td",null,p.taxName),n.default.createElement("td",null,p.totalTax)),n.default.createElement("hr",null),n.default.createElement("tr",{className:"license-key-table-row"},n.default.createElement("td",null,y),n.default.createElement("td",null,p.totalPrice))))),n.default.createElement("div",null,S))}var v=n.default.createElement("div",{className:r?"disclaimer-message-full-width":"disclaimer-message"},_,c,r&&n.default.createElement("span",null," ",o._("Updating your billing information will cancel your scheduled             plan downgrade. If you still wish to downgrade, you will need to             schedule it again.")));return n.default.createElement("div",{className:"grid__item"},n.default.createElement(l.LabeledInputRow,{className:"payment-info__location grid__item grid--x-bookend",errors:[{name:"zip",text:"",className:"grid__item--1-2"}]},n.default.createElement(h.AddressForms,{paymentSpec:this.props.paymentSpec,formData:this.props.formData,actions:this.props.actions,countryList:this.props.countryList,psd2AddressFields:this.props.psd2AddressFields,showCpf:this.props.showCpf,showServerViewVersion:this.props.showServerViewVersion,businessStyling:!0})),i,n.default.createElement(l.LabeledInputRow,{className:"payment-info__location grid__item grid--x-bookend",errors:[{name:"cpf",text:"",className:"grid__item--1-2"}]},u),v)},t.prototype.renderPaymentMethodSelector=function(){var e=this.props,t=e.paymentSpec,a=e.formData,r=e.enableIdealReact;return n.default.createElement(c.PaymentMethodSelector,{paymentSpec:t,paymentMethod:a.paymentMethod.rawValue,updatePaymentMethod:this.props.actions.updatePaymentMethod,countryCode:a.countryCode.rawValue,zipCode:a.zipCode.rawValue,enableIdealReact:r})},t.prototype.render=function(){var e=this,t=this.props,r=t.actions,s=t.formData,o=t.idealBanks,l=t.enableIdealReact,d=t.hidePaymentMethodSelector,c=this.renderLocationFields(),m=c;return s.paymentMethod.formattedValue===i.PaymentMethod.DirectDeposit?m=n.default.createElement(_.DirectDebitForm,{locationFields:c,formData:s,actions:r}):l&&s.paymentMethod.formattedValue===i.PaymentMethod.Ideal&&(m=n.default.createElement(u.IdealForm,{locationFields:c,formData:s,actions:r,idealBanks:o})),n.default.createElement("div",{className:"grid__item payment-info"},!d&&this.renderPaymentMethodSelector(),n.default.createElement(f.CreditCardPurchaseFullNameIfPsd2,a.__assign({},this.props,{businessStyling:!0})),n.default.createElement(p.CreditCardFrame,{getHeightFromIframe:!0,iframeUrl:this.props.iframeUrl,hidden:s.paymentMethod.formattedValue!==i.PaymentMethod.CreditCard,actions:this.props.actions,ref:function(t){e.creditCardFrame=t},nonce:s.nonce,bin:s.bin,submitForm:this.props.submitForm}),m)},t})((n=a.__importDefault(n)).default.Component);t.ProPaymentInfoSection=g})),define("modules/clean/react/payments/pro/components/payments/payment_method_input",["require","exports","tslib","react","modules/core/i18n","classnames","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/pro/components/inputs/inputs"],(function(e,t,a,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importDefault(i);var l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onChange=function(e){this.props.onSelected(this.props.paymentMethod)},t.prototype.render=function(){var e,t=this.props,a=t.icons,l=t.labelText,d=t.paymentMethod,u=t.numberOfPaymentMethods,c=[],p=["payment-info__option"];if(3===u?p.push("grid__item--medium--1-4"):4===u?p.push("grid__item--medium--5-24"):p.push("grid__item--medium--1-2"),l&&(e="payment-method-label#debit",c.push(n.default.createElement("span",{title:"debit",key:e,className:"debit"},this.props.labelText))),a){if(d===s.PaymentMethod.CreditCard){var _=a.join(", ").replace("_","-"),m=r._("Credit card. We accept %(payment_methods)s").format({payment_methods:_});e="payment-method-label#creditcard",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},m))}else d===s.PaymentMethod.PayPal?(e="payment-method-label#paypal",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},r._("Paypal")))):d===s.PaymentMethod.Ideal&&(e="payment-method-label#ideal",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},r._("iDEAL"))));for(var h=0,f=a;h<f.length;h++){var g=f[h];e="payment-method-icon#"+g,c.push(n.default.createElement("span",{title:g,key:e,className:g}))}}return n.default.createElement("div",{className:i.default(p)},n.default.createElement(o.LabeledRadioInput,{name:"payment_method",className:"payment-info__payment",value:d.toString(),checked:this.props.selected,onClick:this.onChange.bind(this),onChange:function(){}}),n.default.createElement("label",{htmlFor:"payment_method_"+d,id:"payment_method_"+d,className:"payment-info__method-label",onClick:this.onChange.bind(this)},c))},t})(n.default.Component);t.PaymentMethodInput=l})),define("modules/clean/react/payments/pro/components/payments/payment_method_selector",["require","exports","tslib","react","modules/core/i18n","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/pro/components/payments/payment_method_input"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPaymentMethodSelected=function(e){t.props.updatePaymentMethod(e)},t}return a.__extends(t,e),t.prototype.getLabelForMethodId=function(e){return e===i.PaymentMethod.CreditCard?n.default.createElement(s.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:i.PaymentMethod.CreditCard,selected:this.props.paymentMethod===i.PaymentMethod.CreditCard,onSelected:this.onPaymentMethodSelected.bind(this),icons:this.props.paymentSpec.supported_credit_cards_for_country(this.props.countryCode),numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):e===i.PaymentMethod.PayPal?n.default.createElement(s.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:i.PaymentMethod.PayPal,selected:this.props.paymentMethod===i.PaymentMethod.PayPal,onSelected:this.onPaymentMethodSelected,icons:["paypal"],numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):e===i.PaymentMethod.DirectDeposit?n.default.createElement(s.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:i.PaymentMethod.DirectDeposit,selected:this.props.paymentMethod===i.PaymentMethod.DirectDeposit,onSelected:this.onPaymentMethodSelected,labelText:r._("Direct Debit"),numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):this.props.enableIdealReact&&e===i.PaymentMethod.Ideal?n.default.createElement(s.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:i.PaymentMethod.Ideal,selected:this.props.paymentMethod===i.PaymentMethod.Ideal,onSelected:this.onPaymentMethodSelected,icons:["ideal"],numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):null},t.prototype.render=function(){var e=this,t=this.props,a=t.countryCode,r=t.paymentSpec.available_payment_methods_for_country(a).map((function(t){return e.getLabelForMethodId(t)}));return n.default.createElement("div",{className:"payment-info__selector grid__item grid__container--p-small"},r)},t})((n=a.__importDefault(n)).default.Component);t.PaymentMethodSelector=o})),define("modules/clean/react/payments/update_individual_billing/update_individual_action_creator",["require","exports","tslib","redux","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/update_individual_billing/update_individual_actions","modules/clean/react/payments/buy/actions/page_actions"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),r=a.__importStar(r),i=a.__importStar(i),s=a.__importStar(s),t.bindBillingActions=function(e){return n.bindActionCreators({updateHistory:s.updateHistory,showFormFieldErrors:r.showFormFieldErrors,submitBillingForm:i.submitBillingForm,updatePaymentMethod:r.updatePaymentMethod,updateCountryCode:i.updateBillingCountryCode,updateZipCode:r.updateZipCode,updateVat:r.updateVat,updateCpf:r.updateCpf,updateCpfName:r.updateCpfName,updateNonce:r.updateNonce,updateAdyenEncryptedCard:r.updateAdyenEncryptedCard,updateEncryptedCardForNetworkToken:r.updateEncryptedCardForNetworkToken,updateBrowserInfo:r.updateBrowserInfo,updateThreeDsData:r.updateThreeDsData,triggerThreeDsChallenge:r.triggerThreeDsChallenge,triggerThreeDsFingerprint:r.triggerThreeDsFingerprint,updateBIN:r.updateBIN,updateAccountHolderName:r.updateAccountHolderName,updateIBAN:r.updateIBAN,updateMandateSigned:r.updateMandateSigned,updateIdealBank:r.updateIdealBank,updatePhone:r.updatePhone,updateCity:r.updateCity,updateName:r.updateName,updateAddress:r.updateAddress,blurCCField:r.blurCCField,blurZipCode:r.blurZipCode,blurVat:r.blurVat,blurCpf:r.blurCpf,blurAccountHolderName:r.blurAccountHolderName,blurIBAN:r.blurIBAN,blurPhone:r.blurPhone,blurCity:r.blurCity,blurName:r.blurName,blurAddress:r.blurAddress},e.dispatch)}})),define("modules/clean/react/payments/update_individual_billing/update_individual_actions",["require","exports","tslib","modules/core/i18n","modules/core/notify","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/common/form/actions/actions"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=a.__importStar(i),t.submitBillingForm=function(e,t){return void 0===t&&(t={}),function(a,n){var r,o=n(),l=o.formData,d=l.countryCode.formattedValue,u=o.pageState.paymentFormSpec,c={},p=["countryCode"];u.allow_zip_code_for_country(d)&&p.push("zipCode"),u.should_show_vat_for_country(d)&&p.push("vat"),t.showCpf&&u.should_require_cpf(d,o.formData.paymentMethod.formattedValue)&&(p.push("cpf"),t.showCpfName&&p.push("cpfName")),c.request_id=o.pageState.requestId,c.submit_seq=o.pageState.submitSeq,t.expRenewalsProMobilePaymentPage&&(c.expRenewalsProMobilePaymentPage=!0),u.showPSD2FieldsToUser(l.paymentMethod.formattedValue,d,!!t.psd2AddressFields)&&p.push("name","city","address"),t.expUjRebillUpsellVariant&&(c.expUjRebillUpsellVariant=t.expUjRebillUpsellVariant),t.showRebillUpsell&&(c.showRebillUpsell=t.showRebillUpsell),o.formData.paymentMethod.formattedValue===i.PaymentMethod.CreditCard?(p.push("nonce"),p.push("adyenEncryptedCard"),p.push("encryptedCardForNetworkToken"),p.push("bin"),p.push("browserInfo"),p.push("threeDsData"),r="/update_credit_card_billing_info_ajax"):o.formData.paymentMethod.formattedValue===i.PaymentMethod.DirectDeposit?(p.push("accountHolderName","iban","mandateSigned"),r="/update_direct_debit_billing_info_ajax"):o.formData.paymentMethod.formattedValue===i.PaymentMethod.Ideal?(p.push("idealBankId","idealBankName"),r="/update_ideal_billing_info_ajax"):r="/paypal_billing_info",a(s.submitForm(r,p,e,c,void 0,t.handle3DsMessage,t.trigger))}},t.updateBillingCountryCode=function(e){return function(t,a){var i=a(),o=i.pageState.countryToCurrencyMap;!(e in o)&&i.formData.countryCode.formattedValue in o?r.Notify.error(n._("You can’t change to a country with a different currency. For help, contact support."),3):t(s.updateCountryCode(e))}}})),define("modules/clean/react/payments/update_individual_billing/update_individual_billing_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/payments/update_individual_billing/update_individual_store_creator","modules/clean/react/payments/update_individual_billing/update_individual_action_creator","modules/clean/react/payments/update_individual_billing/reducers","modules/clean/react/payments/pro/components/payments/pro_payment_info_section","modules/clean/payments/payment_form/payment_form_spec","modules/clean/analytics","modules/clean/react/payments/common/form/actions/actions"],(function(e,t,a,n,r,i,s,o,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=(function(e){function t(t){var a=e.call(this,t)||this;return a.prepareForSubmission=function(){return a.paymentInfoSection.prepareForSubmission()},a.savePaymentInfoSection=function(e){a.paymentInfoSection=e},a.onButtonClickSubmitForm=function(e){void 0===e&&(e=c.SubmitFormTriggerType.ButtonClick),a.submitForm(e)},a.store=i.createBillingStore(t,o.BillingReducer),a.state=a.store.getState(),a.store.subscribe((function(){var e=a.store.getState();e.pageState.submitSuccess||a.setState((function(t){return a.props.setSubmittingStatus(e.pageState.submitting),e}))})),a}return a.__extends(t,e),Object.defineProperty(t.prototype,"actions",{get:function(){return s.bindBillingActions(this.store)},enumerable:!0,configurable:!0}),t.prototype.logVatChange=function(e,t){null===e&&(e=""),null===t&&(t=""),""===e&&""!==t?u.ProEventsLogger.log("update_billing_added_vat"):""!==e&&""===t?u.ProEventsLogger.log("update_billing_removed_vat"):e!==t&&u.ProEventsLogger.log("update_billing_updated_vat")},t.prototype.onAccept=function(){u.ProEventsLogger.log("update_billing_open_save_changes_click"),this.logVatChange(this.props.vat,this.state.formData.vat.formattedValue),this.submitForm()},t.prototype.submitForm=function(e){var t={showCpf:this.props.showCpf,showCpfName:this.props.showCpfName,showRebillUpsell:this.props.showRebillUpsell,expRenewalsProMobilePaymentPage:this.props.expRenewalsProMobilePaymentPage,expUjRebillUpsellVariant:this.props.expUjRebillUpsellVariant,psd2AddressFields:this.props.psd2AddressFields,handle3DsMessage:this.paymentInfoSection.getCreditCardFrame().handle3DsMessage,trigger:e};this.actions.submitBillingForm(this.prepareForSubmission,t)},t.prototype.onDismiss=function(){u.ProEventsLogger.log("update_billing_open_cancel")},t.prototype.render=function(){var e,t=this.props,a=t.iframeUrl,i=t.countryList,s=t.idealBanks,o=t.enableIdealReact,u=t.userInfo,c=t.isScheduledDowngradeToBasic,p=t.licenseKeyDisplayInfo,_=this.state,m=_.formData,h=_.pageState;if(m.paymentMethod.rawValue===d.PaymentMethod.PayPal)e=n.default.createElement("div",{className:"payment-method-disclaimer","data-payment-method-id":"{payment_method.ID}"},r._("You’ll be redirected to PayPal to finish updating your billing information."));else if(m.paymentMethod.rawValue===d.PaymentMethod.Ideal){var f;f=this.props.idealChargeAmount,e=n.default.createElement("div",{className:"payment-method-disclaimer","data-payment-method-id":"{payment_method.ID}"},r._("We’ll be charging you %(ideal_charge_amt)s to validate the account when                       you update your bank account information.").format({ideal_charge_amt:f}))}else e=null;return n.default.createElement("div",{className:"payment-info-section"},n.default.createElement("div",{className:"payment-method-section grid__container"},n.default.createElement(l.ProPaymentInfoSection,{paymentSpec:h.paymentFormSpec,iframeUrl:a,countryList:i,formData:m,actions:this.actions,ref:this.savePaymentInfoSection,idealBanks:s,enableIdealReact:o,userInfo:u,isScheduledDowngradeToBasic:c,showCpf:this.props.showCpf,showCpfName:this.props.showCpfName,licenseKeyDisplayInfo:p,hidePaymentMethodSelector:!1,showSepaLogo:!1,productPlanType:-1,psd2AddressFields:this.props.psd2AddressFields,submitForm:this.onButtonClickSubmitForm}),e))},t})((n=a.__importDefault(n)).default.Component);t.IndividualUpdateBillingModal=p})),define("modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader",["require","exports","tslib","classnames","react","modules/core/browser","modules/core/browser_detection","spectrum/button","modules/core/notify","modules/core/i18n","modules/clean/analytics","modules/clean/ajax","modules/clean/react/css","modules/clean/react/modal","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal","modules/clean/static_urls","modules/clean/react/image","modules/clean/react/payments/unified_module/unified_payment_form_async"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importDefault(r),i=a.__importStar(i),s=a.__importStar(s),c=a.__importStar(c);var y=(function(e){function p(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loadingContent:!0,submitting:!1},t.onAccept=function(){t.updateBillingModal&&t.updateBillingModal.onAccept(),t.unifiedPaymentFormAsync&&t.unifiedPaymentFormAsync.onAccept(),u.UserActivityLogger.log("web","update_billing_modal_started")},t.onDismiss=function(){t.updateBillingModal&&t.updateBillingModal.onDismiss(),u.UserActivityLogger.log("web","update_billing_modal_cancelled"),_.Modal.close()},t.saveUpdateBillingModal=function(e){t.updateBillingModal=e},t.saveUnifiedPaymentFormAsync=function(e){t.unifiedPaymentFormAsync=e},t.setSubmittingStatus=function(e){t.setState((function(t){return a.__assign(a.__assign({},t),{submitting:e})}))},t.onSuccess=function(){_.Modal.close()},t}return a.__extends(p,e),p.showInstance=function(){_.Modal.showInstance(r.default.createElement(t.IndividualUpdateBillingModalLoader,null))},p.prototype.componentDidMount=function(){var e=this;c.WebRequest({url:"/account/profile/billing_info",success:function(t){var n=JSON.parse(t);e.setState((function(e){return a.__assign(a.__assign({},e),{loadedProps:{countryList:n.countryList,iframeUrl:n.iframeUrl,countryToCurrencyMap:n.countryToCurrencyMap,userInfo:n.userInfo,idealBanks:n.idealBanks,enableIdealReact:n.enableIdealReact,countryCode:n.countryCode,serializedPaymentFormSpec:n.serializedPaymentFormSpec,idealChargeAmount:n.idealChargeAmount,isScheduledDowngradeToBasic:n.isScheduledDowngradeToBasic,vat:n.vat,showCpf:n.showCpf,showCpfName:n.showCpfName,psd2AddressFields:n.psd2AddressFields,showRebillUpsell:!!n.showRebillUpsell&&n.showRebillUpsell,expUjRebillUpsellVariant:n.expUjRebillUpsell?n.expUjRebillUpsell.variant:"OFF",licenseKeyDisplayInfo:n.licenseKeyDisplayInfo,requestId:n.requestId,unifiedPayment:n.unifiedPayment},loadingContent:!1})})),u.UserActivityLogger.log("web","update_billing_modal_success")},error:function(e){l.Notify.error(d._("Failed to load modal.")),u.UserActivityLogger.log("web","update_billing_modal_failure",{request_id:e.getResponseHeader("x-dropbox-request-id"),status:e.status}),_.Modal.close()}})},Object.defineProperty(p.prototype,"expRenewalsProMobilePaymentPage",{get:function(){return s.is_supported_mobile_browser()&&"V2"===i.get_uri().getQuery().exp_renewals_pro_mobile_payment_page},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"modalTitle",{get:function(){var e=d._("Update billing information");return this.expRenewalsProMobilePaymentPage&&(e=r.default.createElement("div",{className:"exp-renewals-pro-mobile-payment-page-modal-title"},r.default.createElement(f.Image,{alt:d._("Dropbox logo"),className:"exp-renewals-pro-mobile-payment-page-modal-title__logo",src:h.static_url("/static/images/logo_catalog/dropbox-business-icon_m1-vflczuza3.svg")}),r.default.createElement("p",{className:"exp-renewals-pro-mobile-payment-page-modal-title__title"},e))),e},enumerable:!0,configurable:!0}),p.prototype.renderButtons=function(){var e=this.state,t=e.loadingContent,a=e.submitting;return r.default.createElement(_.ModalButtons,{className:"oq-modal__buttons"},r.default.createElement(o.Button,{className:"cancel-button",variant:"secondary",onClick:this.onDismiss},d._("Cancel")),r.default.createElement(o.Button,{disabled:t||a,variant:"primary",onClick:this.onAccept},d._("Save changes")))},p.prototype.renderContent=function(){var e=this.state,t=e.loadingContent,a=e.loadedProps;if(this.state.loadedProps&&this.state.loadedProps.unifiedPayment)return r.default.createElement(g.UnifiedPaymentFormAsync,{isSubmittingStatus:this.setSubmittingStatus,onSuccess:this.onSuccess,ref:this.saveUnifiedPaymentFormAsync});if(t)return r.default.createElement("div",{className:"loading-spinner"},r.default.createElement("img",{src:h.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:d._("Loading")}));var n=a,i=n.countryList,s=n.iframeUrl,o=n.countryToCurrencyMap,l=n.countryCode,u=n.serializedPaymentFormSpec,c=n.userInfo,p=n.idealBanks,_=n.enableIdealReact,f=n.idealChargeAmount,y=n.isScheduledDowngradeToBasic,b=n.vat,S=n.showCpf,v=n.showCpfName,M=n.showRebillUpsell,L=n.expUjRebillUpsellVariant,T=n.licenseKeyDisplayInfo,w=n.psd2AddressFields,C=n.requestId;return r.default.createElement(m.IndividualUpdateBillingModal,{iframeUrl:s,countryList:i,countryToCurrencyMap:o,countryCode:l,serializedPaymentFormSpec:u,userInfo:c,idealBanks:p,enableIdealReact:_,expRenewalsProMobilePaymentPage:this.expRenewalsProMobilePaymentPage,setSubmittingStatus:this.setSubmittingStatus,ref:this.saveUpdateBillingModal,idealChargeAmount:f,isScheduledDowngradeToBasic:y,vat:b,showCpf:S,showCpfName:v,showRebillUpsell:M,expUjRebillUpsellVariant:L,licenseKeyDisplayInfo:T,psd2AddressFields:w,submitForm:this.onAccept,requestId:C})},p.prototype.render=function(){var e=n.default("update-billing-modal",{"update-billing-modal--mobile":this.expRenewalsProMobilePaymentPage,"update-billing-modal--mobile-safari":this.expRenewalsProMobilePaymentPage&&s.iOS});return r.default.createElement(_.Modal,{autoClose:!1,buttonComponent:this.renderButtons(),className:e,title:this.modalTitle},r.default.createElement("div",{className:"dynamic-content"},this.renderContent()))},p})(r.default.Component);t.UpdateBillingModalLoaderView=y,t.IndividualUpdateBillingModalLoader=p.requireCssWithComponent(y,["/static/css/pro/components/update_billing_modal_individual-vflXFj41N.css"])})),define("modules/clean/react/payments/update_individual_billing/reducers",["require","exports","tslib","modules/clean/react/payments/common/form/reducers/reducers","modules/clean/react/payments/common/payments/reducers/reducers","modules/clean/react/payments/common/pricing/reducers/reducers"],(function(e,t,a,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BillingReducer=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return function(a,n){return t(e(a,n),n)}}))}.apply(void 0,a.__spreadArrays([function(e,t){return"SubmitFormSuccess"!==t.type?e:a.__assign(a.__assign({},e),{pageState:a.__assign(a.__assign({},e.pageState),{submitSuccess:!0})})},n.FormReducer],r.PaymentMethodReducers,i.TransitionManagementReducers))})),define("modules/clean/react/payments/update_individual_billing/update_individual_store_creator",["require","exports","tslib","redux","redux-thunk","modules/clean/redux/unsupported","modules/clean/analytics","modules/clean/dbmodal_stack","modules/clean/react/modal","modules/clean/react/payments/common/middleware/payments_ux_logger","modules/clean/react/payments/common/form/middleware/middleware","modules/clean/react/payments/common/payments/state/store_creator","modules/clean/react/payments/common/form_value_factory","modules/clean/react/snackbar","modules/clean/top_notif","modules/core/i18n","modules/core/notify","modules/core/browser"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h,f,g){"use strict";function y(e){return function(e){return function(a){if("SubmitFormSuccess"!==a.type)return e(a);var n=e(a),r=void 0!==a.additionalData?a.additionalData.expUjRebillUpsellVariant:"OFF",i=void 0!==a.additionalData&&a.additionalData.showRebillUpsell,d=a.additionalData&&a.additionalData.expRenewalsProMobilePaymentPage;if(s.ProEventsLogger.log("update_billing_open_save_changes_success"),m.TopNotificationBar.hideById("rebill-bar"),["V1"].indexOf(r)>=0||i)f.Notify.clear(),_.Snackbar.complete(h._("Payment method successfully updated.")),o.DBModalStack.trigger(t.BILLING_INFO_UPDATED,{showChangePlanConfirm:!0});else if(d){var u=h._("We’ve successfully updated your account’s billing information. You’ll be redirected shortly.");f.Notify.success(h._(u),10,(function(){return g.redirect(a.data.data.redirect_url)}))}else f.Notify.success(h._("We’ve successfully updated your account’s billing information.")),l.Modal.close(),o.DBModalStack.trigger(t.BILLING_INFO_UPDATED,null);return n}}}function b(e,t,a){var n=e.vat,r=e.cpf,i=e.countryCode,s=e.userInfo,o=c.createPaymentFormData(e,t,a),l=o.city,d=o.address,u=o.phone,_=o.name,m=o.paymentMethod,h=o.countryCode,f=o.zipCode,g=o.vat,y=o.cpf,b=o.nonce,S=o.adyenEncryptedCard,v=o.encryptedCardForNetworkToken,M=o.bin,L=o.browserInfo,T=o.threeDsData,w=o.accountHolderName,C=o.iban,D=o.mandateSigned,E=o.termsAndService,P=o.idealBankId,k=o.idealBankName;return{city:l,address:d,phone:u,name:_,paymentMethod:m,countryCode:h,zipCode:f,vat:n?p.FormValueFactory.createVat(n,i):g,cpf:r?p.FormValueFactory.createCpf(r):y,cpfName:p.FormValueFactory.createCpfNamePrefill("","",s.displayName),nonce:b,adyenEncryptedCard:S,encryptedCardForNetworkToken:v,bin:M,browserInfo:L,threeDsData:T,accountHolderName:w,iban:C,mandateSigned:D,termsAndService:E,idealBankId:P,idealBankName:k}}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),r=a.__importDefault(r),t.BILLING_INFO_UPDATED="billing_info_modal:updated",t.submitFormSuccessMiddleware=y,t.createBillingStore=function(e,t){var a=(function(e){var t=(function(e){var t=c.createPaymentPageState(e).paymentFormSpec;return{countryToCurrencyMap:e.countryToCurrencyMap,submitSuccess:!1,submitState:null,submitting:!1,submitSeq:0,requestId:e.requestId,paymentFormSpec:t}})(e),a=(function(e){var t=c.createPaymentPricingState(e),a=t.countryCode,n=t.countryCodeLoading,r=t.hasCurrencyChanged,i=t.hasTaxChangedWithinCountry,s=t.loadingPrices,o=t.requestToken,l=t.recentLoadEvent;return{countryCode:a,countryCodeLoading:n,hasCurrencyChanged:r,hasTaxChangedWithinCountry:i,loadingPrices:s,requestToken:o,recentLoadEvent:l}})(e);return{pricingState:a,pageState:t,formData:b(e,t,a)}})(e),s=n.applyMiddleware(r.default,u.submitFormErrorMiddleware,y,new d.PaymentsUXLogger(e.requestId).reduxMiddleware);return i.createStore(t,a,s)},t.createFormData=b})),define("modules/clean/teams/admin/lib/billing_history",["require","exports","modules/clean/teams/admin/types/billing_history"],(function(e,t,a){"use strict";function n(e){var t=e.description;return!!t&&(-1!==t.indexOf("Google")||-1!==t.indexOf("Apple"))}Object.defineProperty(t,"__esModule",{value:!0}),t.SelectedYearTypes={ALL_TIME:"all-time",YEAR_TO_DATE:"year-to-date"},t.getHistoryData=function(e,r){void 0===r&&(r=t.SelectedYearTypes.ALL_TIME);var i=(function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];if(r<e.length-1){var s=e[r+1],o=n(s)||n(i);if(i.type===a.BillingRowType.Payment&&s.type===a.BillingRowType.Invoice&&(s.billed===i.paid||s.billed==="("+i.paid+")"||o)&&s.date===i.date){var l={id:r,invoice:s,payment:i,isMobile:o};t.push(l),r++;continue}}i.type===a.BillingRowType.Payment?t.push({id:r,payment:i}):t.push({id:r,invoice:i})}return t})(e),s=(new Date).getFullYear().toString();return r===t.SelectedYearTypes.ALL_TIME||(i=r===t.SelectedYearTypes.YEAR_TO_DATE?i.filter((function(e){return e.payment?-1!==e.payment.date.indexOf(s):!!e.invoice&&-1!==e.invoice.date.indexOf(s)})):i.filter((function(e){return e.payment?-1!==e.payment.date.indexOf(r):!!e.invoice&&-1!==e.invoice.date.indexOf(r)}))),i=i.filter((function(e){return e.invoice&&null!==e.invoice.description||e.payment&&null!==e.payment.description}))}})),define("modules/clean/teams/admin/types/billing_history",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.Invoice=0]="Invoice",e[e.Payment=1]="Payment",e[e.Legacy=2]="Legacy"})(t.BillingRowType||(t.BillingRowType={}))})),define("modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list",["require","exports","tslib","react","modules/clean/react/css"],(function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return n.default.createElement("div",{className:"admin-priced-list"},n.default.createElement("div",null,this.props.children))},t})((n=a.__importDefault(n)).default.Component);t.AdminPricedList=r.requireCssWithComponent(i,["/static/css/teams/admin/widgets/admin_priced_list/admin_priced_list-vfl5j3ZJx.css"])})),define("modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item",["require","exports","tslib","react","classnames","modules/core/i18n","modules/clean/react/badge"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importDefault(r);var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(){},t}return a.__extends(t,e),t.prototype.renderTitleWarningText=function(){var e=this.props.titleWarningText;if(e)return n.default.createElement("span",{className:"admin-priced-list-item__content_title_warning"}," ",e)},t.prototype.renderTitleSecondaryText=function(){var e=this.props.titleSecondaryText;if(e)return n.default.createElement("span",{className:"admin-priced-list-item__content_title_secondary"}," ",e)},t.prototype.renderRecommendedSign=function(){var e=this.props,t=e.titleSecondaryText,a=e.titleWarningText,r=e.recommended;if(!t&&!a&&r)return n.default.createElement("div",{className:"admin-priced-list-item__content_title_recommended"},i._("RECOMMENDED"))},t.prototype.renderEffectiveDate=function(){var e=this.props,t=e.price,a=e.effectiveDate;if(!t)return n.default.createElement("div",{className:"admin-priced-list-item__content_title_effective_date"},a)},t.prototype.getClickHandler=function(){if(!this.props.disableItem)return this.props.onClick},t.prototype.render=function(){var e,t=this.props,i=t.description,o=t.price,l=t.title,d=t.unit,u=t.detailsLink,c=t.disableItem,p=t.effectiveDate,_=this.props.className?this.props.className:"",m=o?o.toString():p?"":"-",h=o?d:"",f=r.default(((e={"admin-priced-list-item":!0,active:!0===this.props.isSelected})[_]=!0,e.disabled=c,e));return n.default.createElement("div",{className:f,onClick:this.getClickHandler()},n.default.createElement("div",{className:"admin-priced-list-item__content"},n.default.createElement("div",{className:"admin-priced-list-item__content_title"},n.default.createElement("input",{type:"radio",checked:this.props.isSelected,onChange:this.onChange,disabled:this.props.disableItem}),n.default.createElement("h1",{className:"admin-priced-list-item__content_title_text"},l,this.props.badge&&n.default.createElement(s.Badge,a.__assign({},this.props.badge)),this.renderTitleWarningText(),this.renderTitleSecondaryText()),this.renderRecommendedSign(),this.renderEffectiveDate()),n.default.createElement("div",{className:"admin-priced-list-item__content_description u-font-meta"},i,u)),m&&n.default.createElement("div",{className:"admin-priced-list-item__pricing"},n.default.createElement("div",{className:"admin-priced-list-item__pricing_price"},m),n.default.createElement("div",{className:"admin-priced-list-item__pricing_unit"},h)))},t})(n.default.Component);t.AdminPricedListItem=o})),define("modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item_variant",["require","exports","tslib","react","classnames","modules/core/i18n","modules/clean/payments/skus/constants"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importDefault(r);var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(){},t}return a.__extends(t,e),t.prototype.getClickHandler=function(){if(!this.props.disableItem)return this.props.onClick},t.prototype.render=function(){var e,t=this.props,a=t.description,o=t.price,l=t.title,d=t.detailsLink,u=t.disableItem,c=t.effectiveDate,p=t.schedule,_=t.isCurrentSchedule,m=t.pricePerMonth,h=t.pricePerYear,f=this.props.className?this.props.className:"",g=o?o.toString():c?"":"-",y=r.default(((e={"admin-priced-list-item":!0,active:!0===this.props.isSelected})[f]=!0,e.disabled=u,e)),b=p===s.ScheduleId.YEARLY,S=b&&m.amount>h.divide(12).amount;return n.default.createElement("div",{className:y,onClick:this.getClickHandler()},n.default.createElement("div",{className:"admin-priced-list-item__content"},n.default.createElement("div",{className:"admin-priced-list-item__content_title"},n.default.createElement("input",{type:"radio",checked:this.props.isSelected,onChange:this.onChange,disabled:this.props.disableItem}),n.default.createElement("h1",{className:"admin-priced-list-item__content_title_text"},l,_?n.default.createElement("div",{className:"admin-priced-list-item__content_title_badge_gray"},i._("Current")):S&&n.default.createElement("div",{className:"admin-priced-list-item__content_title_badge_green"},i._("Save up to %(percentage)s").format({percentage:i.format_percent(17)})))),n.default.createElement("div",{className:"admin-priced-list-item__content_description u-font-meta"},a,d)),g&&n.default.createElement("div",{className:"admin-priced-list-item__pricing"},n.default.createElement("div",{className:"admin-priced-list-item__pricing_price_variant"},b?i._("%(price_per_year)s/yr").format({price_per_year:h.toString()}):i._("%(price_per_month)s/mo").format({price_per_month:m.toString()})),n.default.createElement("div",{className:"admin-priced-list-item__pricing_unit"},b?i._("%(price_per_month_with_yearly_sub)s/mo").format({price_per_month_with_yearly_sub:h.divide(12).toString()}):i._("%(price_per_year_with_monthly_sub)s/yr").format({price_per_year_with_monthly_sub:m.multiply(12).toString()}))))},t})(n.default.Component);t.AdminPricedListItemVariant=o})),define("modules/clean/teams/admin/widgets/billing_history/billing_history_row",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/payments/edit_invoice_address_modal/edit_invoice_address_modal_loader","modules/clean/analytics","modules/clean/react/tooltip","modules/clean/react/sprite"],(function(e,t,a,n,r,i,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onEdit=function(){var e=t.props,a=e.row,n=e.isTeam;a.invoice&&i.EditInvoiceAddressModalLoader.showInstance(a.invoice,n)},t.logReceiptLinkClick=function(){t.props.logAccountBillingTabEvents&&s.ProEventsLogger.log("de_billing_tab_receipt_link_click")},t.logInvoiceLinkClick=function(){t.props.logAccountBillingTabEvents&&s.ProEventsLogger.log("de_billing_tab_invoice_link_click")},t}return a.__extends(t,e),t.prototype.renderDate=function(){var e=this.props.row,t=e.invoice,a=e.payment;return t&&t.date?t.date:a&&a.date?a.date:null},t.prototype.renderDescription=function(){var e=this.props.row,t=e.invoice,a=e.payment,i=e.isMobile,s=null,o=null;return t&&t.description?s=t.description:a&&a.description&&(s=a.description),i&&t&&t.description&&a&&a.description&&(s=a.description+" | "+t.description),(t&&t.isVoided||a&&a.isVoided)&&(o=n.default.createElement("span",null," (",r._("Voided"),")")),n.default.createElement("div",null,n.default.createElement("p",{className:"description-line"},n.default.createElement("span",null,s),o))},t.prototype.renderLinks=function(){var e=[];if(!0===this.props.renderPublicLinks)e=this.renderInvoiceAndReceiptLink(this.props.publicInvoiceLink,this.props.publicReceiptLink);else{var t=this.props,a=t.row,i=t.showEditInvoiceModal,s=t.canEditBilling,o=a.invoice,l=a.payment,d="",u="";o&&o.link&&(d=o.link),!a.isMobile&&l&&l.link&&(u=l.link),e=this.renderInvoiceAndReceiptLink(d,u),i&&o&&!o.isOpen&&o.isEditable&&s&&e.push(n.default.createElement("button",{key:"edit-link",className:"button-as-link",onClick:this.onEdit},r._("Edit"))),e.length||(o&&o.infoTooltip?e.push(this.renderInfoTooltip(o)):l&&l.infoTooltip&&e.push(this.renderInfoTooltip(l)))}return e.length?n.default.createElement("span",null,e):null},t.prototype.renderInvoiceAndReceiptLink=function(e,t){var a=[];return e&&a.push(n.default.createElement("a",{key:"invoice-link",href:e,target:"_blank",rel:"noopener noreferrer",onClick:this.logInvoiceLinkClick},r._("Invoice"))),t&&a.push(n.default.createElement("a",{key:"payment-link",href:t,target:"_blank",rel:"noopener noreferrer",onClick:this.logReceiptLinkClick},r._("Receipt"))),a},t.prototype.renderInfoTooltip=function(e){return n.default.createElement(o.Tooltip,{position:o.TooltipPosition.TOP,tooltip_contents:e.infoTooltip},n.default.createElement(l.Sprite,{group:"teams",name:"info_active",alt:"",className:"info-sprite"}))},t.prototype.renderPrice=function(){var e=this.props.row,t=e.invoice,a=e.payment;if(e.isMobile)return null;var r=null;return t&&a?r=t.isVoided||a.isVoided?n.default.createElement("span",{className:"row-content__price--line-through"},t.billed):t.billed:a?r=a.paid:t&&(r=t.billed),r},t.prototype.render=function(){var e=this.props.row;return e.invoice||e.payment?n.default.createElement("tr",{className:"row-content","data-variant":!0},n.default.createElement("td",{className:"row-content__date"},this.renderDate()),n.default.createElement("td",{className:"row-content__description"},this.renderDescription()),n.default.createElement("td",{className:"row-content__links"},this.renderLinks()),n.default.createElement("td",{className:"row-content__price"},this.renderPrice())):null},t.defaultProps={canEditBilling:!0},t})((n=a.__importDefault(n)).default.Component);t.BillingHistoryTableRow=d})),define("modules/clean/teams/admin/widgets/billing_history/billing_history_table",["require","exports","tslib","react","modules/core/i18n","modules/clean/teams/admin/widgets/billing_history/billing_history_row","modules/clean/account_page/widgets/billing/billing_history/types","spectrum/icon_form","spectrum/popover"],(function(e,t,a,n,r,i,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.buildFooterIfNecessary=function(){if(null!==this.props.footer)return n.default.createElement("tfoot",{className:"row-footer"},this.props.footer)},t.prototype.buildHeaderDate=function(){return n.default.createElement("th",{className:"row-header date-row"},n.default.createElement(l.Popover,{onSelection:this.props.onSelection},n.default.createElement(l.PopoverTrigger,null,n.default.createElement("span",{className:"date-header-cell"},r._("Date")),n.default.createElement("span",{className:"caret"},n.default.createElement(o.IconForm,{name:"caret-down"}))),n.default.createElement(l.PopoverContent,null,n.default.createElement(l.PopoverItemGroup,{key:"order-item-group"},n.default.createElement(l.PopoverItemGroupTitle,{key:"order-title"},r._("Order")),n.default.createElement(l.PopoverSelectableItem,{value:s.BillingHistoryOrder.ASCENDING,selected:s.BillingHistoryOrder.ASCENDING===this.props.order},r._("Ascending")),n.default.createElement(l.PopoverSelectableItem,{value:s.BillingHistoryOrder.DESCENDING,selected:s.BillingHistoryOrder.DESCENDING===this.props.order},r._("Descending"))),n.default.createElement(l.PopoverItemGroupSeparator,{key:"show-separator"}),n.default.createElement(l.PopoverItemGroup,{key:"show-item-group"},n.default.createElement(l.PopoverItemGroupTitle,{key:"show-title"},r._("Show")),n.default.createElement(l.PopoverSelectableItem,{value:"all_time",selected:"all_time"===this.props.filter},r._("All time")),n.default.createElement(l.PopoverSelectableItem,{value:"year_to_date",selected:"year_to_date"===this.props.filter},r._("Year-to-date")),this.renderMenuItems()))))},t.prototype.renderMenuItems=function(){var e=[],t=this.props,a=t.filters,r=t.filter;return a&&a.forEach((function(t){e.push(n.default.createElement(l.PopoverSelectableItem,{key:t,value:t,selected:t===r},t))})),e},t.prototype.render=function(){var e,t=this.props,a=t.amountLabel,s=t.canEditBilling,o=t.displayNoTransactionsOnEmptyRecords,l=t.showEditInvoiceModal,d=t.logAccountBillingTabEvents,u=t.isTeam,c=t.renderPublicLinks,p=t.publicInvoiceLink,_=t.publicReceiptLink,m=this.props.billingHistoryRecords,h=a||r._("Price");if(o&&0===m.length){var f=this.props.noTransactionLabel?this.props.noTransactionLabel:r._("No transactions");e=n.default.createElement("tr",{className:"row-content"},n.default.createElement("td",{className:"row-content__date"}),n.default.createElement("td",{className:"row-content__description"},f),n.default.createElement("td",{className:"row-content__links"}),n.default.createElement("td",{className:"row-content__price"}))}return n.default.createElement("div",null,n.default.createElement("table",{className:"billing-history-table",cellSpacing:"0"},n.default.createElement("thead",null,n.default.createElement("tr",null,this.buildHeaderDate(),n.default.createElement("th",{className:"row-header desc-row u-font-meta",colSpan:2},r._("Description")),n.default.createElement("th",{className:"row-header price-row u-font-meta"},h))),this.buildFooterIfNecessary(),n.default.createElement("tbody",null,e,m.map((function(e,t){return n.default.createElement(i.BillingHistoryTableRow,{canEditBilling:s,isTeam:u,key:e.id,logAccountBillingTabEvents:d,renderPublicLinks:c,publicInvoiceLink:p,publicReceiptLink:_,row:e,showEditInvoiceModal:l})})))))},t.defaultProps={onSelection:function(){}},t})((n=a.__importDefault(n)).default.Component);t.BillingHistoryTable=d})),define("modules/clean/teams/admin/widgets/billing_notifications/cancel_billing_changes_modal",["require","exports","tslib","modules/core/i18n","modules/clean/react/modal","modules/clean/payments/skus/subscription_change_plan","modules/clean/payments/skus/subscription_diff","modules/clean/payments/skus/subscription_service","modules/constants/trademark","modules/clean/ajax","modules/clean/dbmodal_stack","modules/core/notify","react","modules/clean/teams/admin/widgets/change_plan_modal/change_plan_constants"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_){"use strict";var m;Object.defineProperty(t,"__esModule",{value:!0}),d=a.__importStar(d),p=a.__importDefault(p),(function(e){e[e.ALL=1]="ALL",e[e.PLAN=2]="PLAN",e[e.SCHEDULE=3]="SCHEDULE",e[e.LICENSES=4]="LICENSES",e[e.EVH_ADDON=5]="EVH_ADDON",e[e.IND_SUBSCRIPTION=6]="IND_SUBSCRIPTION"})(m=t.CancellationType||(t.CancellationType={}));var h=(function(e){function t(t){var a=e.call(this,t)||this;return a.onAccept=function(){switch(a.props.cancellationType){case m.PLAN:a.cancelPlanOrBillingScheduledChange(m.PLAN);break;case m.SCHEDULE:a.cancelPlanOrBillingScheduledChange(m.SCHEDULE);break;case m.LICENSES:a.cancelLicensesScheduledChanges();break;case m.ALL:a.cancelAll()}},a.subService=new o.SubscriptionService,a.state={submitting:!1},a}return a.__extends(t,e),t.showInstance=function(e){r.Modal.showInstance(p.default.createElement(t,a.__assign({},e)))},t.prototype.submittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!0})}))},t.prototype.doneSubmittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!1})}))},t.prototype.cancelAll=function(){var e=this,t=this.props,a=t.transitionPerformed,i=t.subStatus;this.submittingRequest();var o=s.SubscriptionDiff.fromSubscriptionState(i.subState);this.subService.validateAndPerformTransition(o).then((function(t){c.Notify.success(n._("Your scheduled changes have been cancelled!")),a&&a(t),r.Modal.close(),e.props.reOpenModalDialogAfterCancellation&&u.DBModalStack.trigger(_.CHANGE_PLAN_DUAL_MODAL_UPDATED,null)})).finally((function(){e.doneSubmittingRequest()}))},t.prototype.cancelLicensesScheduledChanges=function(){var e=this,t=this.props.subStatus,a=s.SubscriptionDiff.fromSubscriptionStatus(t);this.submittingRequest(),a.setTotalLicenses(t.subState.totalLicenses),this.subService.price(a).then((function(t){t?e.subService.performTransition(t).then((function(t){e.props.transitionPerformed&&e.props.transitionPerformed(t),c.Notify.success(n._("You’ve cancelled your change!")),e.doneSubmittingRequest(),r.Modal.close(),e.props.reOpenModalDialogAfterCancellation&&u.DBModalStack.trigger(_.CHANGE_PLAN_DUAL_MODAL_UPDATED,null)})).catch((function(){e.errorUpdatingChanges()})):e.errorUpdatingChanges()})).catch((function(){e.errorUpdatingChanges()}))},t.prototype.errorUpdatingChanges=function(){c.Notify.error(n._("Failed to revert changes.")),this.doneSubmittingRequest(),r.Modal.close()},t.prototype.cancelPlanOrBillingScheduledChange=function(e){var t,a,s=this,o=this.props,l=o.transitionPerformed,p=o.subStatus;this.submittingRequest(),d.WebRequest({url:"/account/team/change_plan_modal_view_model",success:function(o){var d=JSON.parse(o);if(t=d.serializedSubChangePlans.map((function(e){return i.SubscriptionChangePlan.deserialize(e)})),(a=t.filter((function(t){return!!(t.finalSubState&&t.finalSubState.plan&&t.finalSubState.billingSchedule&&p.subState&&p.subState.plan&&p.finalSubState&&p.finalSubState.billingSchedule&&p.finalSubState.plan&&p.subState.billingSchedule)&&(e===m.PLAN?p.subState.plan.productType===t.finalSubState.plan.productType&&p.finalSubState.billingSchedule.id===t.finalSubState.billingSchedule.id:e===m.SCHEDULE&&(p.finalSubState.plan.productType===t.finalSubState.plan.productType&&p.subState.billingSchedule.id===t.finalSubState.billingSchedule.id))}))).length>0){var h=a[0];s.subService.performTransition(h).then((function(e){c.Notify.success(n._("You’ve cancelled your change!")),l&&l(e),s.doneSubmittingRequest(),r.Modal.close(),s.props.reOpenModalDialogAfterCancellation&&u.DBModalStack.trigger(_.CHANGE_PLAN_DUAL_MODAL_UPDATED,null)}))}else c.Notify.error(n._("Failed to revert changes."))},error:function(){c.Notify.error(n._("Failed to load modal.")),s.doneSubmittingRequest(),r.Modal.close(),s.props.reOpenModalDialogAfterCancellation&&u.DBModalStack.trigger(_.CHANGE_PLAN_DUAL_MODAL_UPDATED,null)}})},t.prototype.render=function(){var e,t=this.props,a=t.cancellationType,i=t.subStatus;if(!i.subState.plan||!i.subState.billingSchedule)return p.default.createElement("noscript",null);var s=n._("Confirm cancelled change");switch(a){case m.PLAN:case m.SCHEDULE:case m.LICENSES:e=n._("You’re cancelling your scheduled changes. Your %(trademark_business)s %(plan)s plan           will renew on %(date)s and you will be billed %(schedule)s.").format({trademark_business:l.TRADEMARK_BUSINESS,plan:i.subState.plan.displayName(),date:i.subState.formattedNextBillingDate,schedule:i.subState.billingSchedule.scheduleDescriptionAdjective});break;case m.ALL:default:s=n._("Confirmation"),e=n._("By confirming, all existing scheduled changes will be cancelled.")}return p.default.createElement(r.Modal,{acceptButtonDisabled:this.state.submitting,acceptButtonText:n._("Confirm"),autoClose:!1,dismissButtonText:n._("Don’t cancel"),onAccept:this.onAccept,title:s,submitting:this.state.submitting},p.default.createElement("p",null,e))},t})(p.default.Component);t.CancelBillingChangesConfirmationView=h})),define("modules/clean/teams/admin/widgets/billing_notifications/cancellable_item",["require","exports","tslib","react","modules/core/i18n","classnames"],(function(e,t,a,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importDefault(i);var s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e,t,a=this.props,r=a.title,s=a.description,o=a.handleAction,l=a.useCTA,d=a.CTAText,u=this.props.className?this.props.className:"",c=i.default(((e={"cancellable-item__button":!0,"link-button":!0})[u]=!0,e));return l&&(t=n.default.createElement("button",{className:c,onClick:o},d)),n.default.createElement("div",{className:"cancellable-item"},n.default.createElement("span",{className:"cancellable-item__title"},r)," ",n.default.createElement("span",{className:"cancellable-item__desc"},s),t)},t.defaultProps={CTAText:r._("Cancel change"),useCTA:!1},t})(n.default.Component);t.CancellableItemView=s})),define("modules/clean/teams/admin/widgets/change_plan_modal/change_plan_constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANGE_PLAN_DUAL_MODAL_UPDATED="change_plan_dual_modal:updated",(function(e){e[e.PLAN_CHANGE=1]="PLAN_CHANGE",e[e.SCHEDULE_CHANGE=2]="SCHEDULE_CHANGE"})(t.DualPlanModalMode||(t.DualPlanModalMode={}))})),define("modules/clean/react/payments/unified_module/unified_actions/unified_submit_action",["require","exports","tslib","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/unified_module/unified_data_export"],(function(e,t,a,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.submitUnifiedForm=function(e,t,a,s){return function(o,l){var d,u=l(),c=u.formData.countryCode.formattedValue,p=u.pageState.paymentFormSpec,_=u.formData.paymentMethod.formattedValue,m=i.getPaymentFieldNamesToSubmit(c,p,_,{psd2AddressFields:t});d=u.pageState.paymentFormSpec.isTeam()?_===n.PaymentMethod.CreditCard?"/team/payments/ajax_update_billing_credit_card":_===n.PaymentMethod.DirectDeposit?"/team/payments/ajax_update_billing_direct_debit":"/team/payments/ajax_update_billing_paypal":_===n.PaymentMethod.CreditCard?"/update_credit_card_billing_info_ajax":_===n.PaymentMethod.DirectDeposit?"/update_direct_debit_billing_info_ajax":_===n.PaymentMethod.Ideal?"/update_ideal_billing_info_ajax":"/paypal_billing_info",o(r.submitForm(d,m,e,{payment_method:u.formData.paymentMethod.formattedValue,request_id:u.pageState.requestId,submit_seq:u.pageState.submitSeq},void 0,a,s))}}})),define("modules/clean/react/payments/unified_module/unified_actions/unified_store",["require","exports","tslib","redux","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/update_team_billing/update_team_actions","modules/clean/react/payments/buy/actions/page_actions","modules/clean/react/payments/unified_module/unified_actions/unified_submit_action"],(function(e,t,a,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),r=a.__importStar(r),i=a.__importStar(i),s=a.__importStar(s),o=a.__importStar(o),t.bindUnifiedBillingActions=function(e){return n.bindActionCreators({updateHistory:s.updateHistory,showFormFieldErrors:r.showFormFieldErrors,submitBillingForm:o.submitUnifiedForm,updatePaymentMethod:r.updatePaymentMethod,updateCountryCode:i.updateBillingCountryCode,updateZipCode:r.updateZipCode,updateVat:r.updateVat,updateCpf:r.updateCpf,updateCpfName:r.updateCpfName,updateNonce:r.updateNonce,updateAdyenEncryptedCard:r.updateAdyenEncryptedCard,updateEncryptedCardForNetworkToken:r.updateEncryptedCardForNetworkToken,updateBrowserInfo:r.updateBrowserInfo,updateThreeDsData:r.updateThreeDsData,triggerThreeDsChallenge:r.triggerThreeDsChallenge,triggerThreeDsFingerprint:r.triggerThreeDsFingerprint,updateBIN:r.updateBIN,updateAccountHolderName:r.updateAccountHolderName,updateIBAN:r.updateIBAN,updateMandateSigned:r.updateMandateSigned,updateIdealBank:r.updateIdealBank,updatePhone:r.updatePhone,updateCity:r.updateCity,updateName:r.updateName,updateAddress:r.updateAddress,blurCCField:r.blurCCField,blurZipCode:r.blurZipCode,blurVat:r.blurVat,blurCpf:r.blurCpf,blurAccountHolderName:r.blurAccountHolderName,blurIBAN:r.blurIBAN,blurPhone:r.blurPhone,blurCity:r.blurCity,blurName:r.blurName,blurAddress:r.blurAddress},e.dispatch)}})),define("modules/clean/react/payments/unified_module/unified_fields/unified_cpf_field",["require","exports","tslib","react","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_text_input_field","modules/clean/react/payments/common/form_value_helpers","modules/core/i18n"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCpfChange=function(e){t.props.actions.updateCpf(e.value)},t.onCpfNameChange=function(e){t.props.actions.updateCpfName(e.value)},t}return a.__extends(t,e),t.prototype.cpfErrorString=function(){var e=this.props.formData.cpf;return!i.FormValueHelper.isValid(e)&&e.showError?s._("Please enter a valid CPF number."):""},t.prototype.render=function(){var e=this.props,t=e.paymentSpec,a=e.formData,i=null;return t.should_require_cpf(a.countryCode.formattedValue,a.paymentMethod.formattedValue)&&(i=n.default.createElement("div",{className:"grid__item"},n.default.createElement(r.UnifiedTextInputField,{autoSetupForm:a.cpf,name:"cpf",labelText:s._("CPF/CNPJ"),errorText:this.cpfErrorString(),onChange:this.onCpfChange}),n.default.createElement(r.UnifiedTextInputField,{labelDivClassName:"billing-cpf grid__item",name:"cpf_name",labelText:s._("Name"),value:a.cpfName.rawValue,onChange:this.onCpfNameChange}))),i},t})((n=a.__importDefault(n)).default.Component);t.UnifiedCPFField=o})),define("modules/clean/react/payments/unified_module/unified_fields/unified_vat_field",["require","exports","tslib","classnames","react","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_text_input_field","modules/clean/react/payments/common/form_value_helpers","modules/core/i18n","modules/clean/payments/validation"],(function(e,t,a,n,r,i,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onVatChange=function(e){this.props.actions.updateVat(e.value)},t.prototype.vatErrorString=function(){var e=this.props.formData.vat;return!s.FormValueHelper.isValid(e)&&e.showError?o._("Please enter a valid VAT number (ex: %(examples)s).").format({examples:l.getVatExamples(this.props.formData.countryCode.formattedValue).join(", ")}):""},t.prototype.render=function(){var e=this.props,t=e.paymentSpec,a=e.formData,s=null;if(t.should_show_vat_for_country(a.countryCode.formattedValue)){var d=l.getVatPrefix(a.countryCode.formattedValue),u=n.default({"billing-vat":!0,grid__item:!0});s=r.default.createElement(i.UnifiedTextInputField,{labelDivClassName:u,autoSetupForm:a.vat,name:"vat",labelText:o._("VAT number (optional)"),errorText:this.vatErrorString(),placeholder:d,onChange:this.onVatChange.bind(this)})}return s},t})((r=a.__importDefault(r)).default.Component);t.UnifiedVatField=d})),define("modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_generic_input",["require","exports","tslib","classnames","purify","react"],(function(e,t,a,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r);var s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=n.default({"input__label--errormodal":Boolean(this.props.errorText)},this.props.className,"label-input","input__label"),t=i.default.createElement("label",{className:"label "+(this.props.labelClass?this.props.labelClass:""),htmlFor:this.props.htmlFor},this.props.labelText),a=null;this.props.labelAfterElement&&(a=t,t=null);var s=null;s=this.props.rightLabelElement?i.default.createElement("div",{className:"grid__item grid--x-bookend"},t,i.default.createElement("div",null,this.props.rightLabelElement)):t;var o=null;this.props.errorText?o=this.props.errorText:this.props.errorHTML&&(o=i.default.createElement("span",{dangerouslySetInnerHTML:{__html:r.sanitize(this.props.errorHTML)}}));var l=i.default.createElement("label",{className:"error-message",htmlFor:this.props.htmlFor},o);return i.default.createElement("div",{className:e},s,this.props.children,a,l)},t})((i=a.__importDefault(i)).default.Component);t.UnifiedGenericInput=s})),define("modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_select_input_field",["require","exports","tslib","react","react-dom","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_generic_input"],(function(e,t,a,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r);var s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(r.findDOMNode(this.input))},t.prototype.onClick=function(e){this.props.onClick&&this.props.onClick(r.findDOMNode(this.input))},t.prototype.componentDidMount=function(){if(this.props.onChange){var e=r.findDOMNode(this.input),t=e.value;t&&t!==this.props.value&&this.props.onChange(e)}},t.prototype.render=function(){var e=this,t=this.props,a=t.name,r=t.className,s=t.labelClass,o=t.labelText,l=t.rightLabelElement,d=t.errorText,u=t.errorHTML,c=t.autoComplete;return n.default.createElement(i.UnifiedGenericInput,{className:r,errorHTML:u,errorText:d,labelClass:s,htmlFor:a,labelText:o,rightLabelElement:l},n.default.createElement("select",{autoComplete:c,className:"option-selector",id:a,name:a,onChange:this.onChange.bind(this),onClick:this.onClick.bind(this),value:this.props.value,ref:function(t){e.input=t}},this.props.children))},t})(n.default.Component);t.UnifiedLabeledSelectInput=s})),define("modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_text_input_field",["require","exports","tslib","classnames","react","react-dom","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_generic_input"],(function(e,t,a,n,r,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importDefault(r),i=a.__importStar(i);var l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBlur=function(e){t.props.onBlur&&t.props.onBlur(i.findDOMNode(t.refToInput))},t.onFocus=function(e){t.props.onFocus&&t.props.onFocus(i.findDOMNode(t.refToInput))},t.onChange=function(e){t.props.onChange&&t.props.onChange(i.findDOMNode(t.refToInput))},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){if(this.props.onChange){var e=i.findDOMNode(this.refToInput),t=e.value;t&&t!==this.props.value&&this.props.onChange(e)}},t.prototype.render=function(){var e=this,t=this.props,a=t.labelDivClassName,i=t.disabled,l=t.errorText,d=t.errorHTML,u=t.labelClass,c=t.labelText,p=t.maxLength,_=t.name,m=t.placeholder,h=t.value,f=t.autoComplete,g=t.autoSetupForm,y=this.props.type||"text",b=null;if(g){var S=g.errorState&&g.showError;h=h||g.rawValue,d=d||g.serverError,d=S?d:void 0,l=S?l:void 0;var v="billing-"+_+"-input",M=""!==g.formattedValue&&s.FormValueHelper.isValid(g)?"billing-"+_+"-input--valid":"";b=n.default({baseInputClass:v,invalidClass:M});var L="billing-"+_;a=n.default(a,L,{grid__item:!0})}var T=n.default({input__text:!0,"input__text--errormodal":Boolean(l)||Boolean(d)},this.props.inputClassName,b);return r.default.createElement(o.UnifiedGenericInput,{className:a,errorHTML:d,errorText:l,htmlFor:_,labelClass:u,labelText:c},r.default.createElement("input",{autoComplete:f,className:T,type:y,name:_,id:_,ref:function(t){e.refToInput=t},value:null===h?"":h,disabled:i,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus,maxLength:p,placeholder:m}))},t})(r.default.Component);t.UnifiedTextInputField=l})),define("modules/clean/react/payments/unified_module/unified_address_form",["require","exports","tslib","react","modules/core/i18n","modules/clean/analytics","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/common/constants","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_text_input_field","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_select_input_field"],(function(e,t,a,n,r,i,s,o,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCountryCodeChange=function(e){t.props.actions.updateCountryCode(e.value);var a=t.props.showServerViewVersion,n=e.value;i.ProEventsLogger.log("uj-billing-country",{country:n},void 0,a),"BR"===n&&t.props.showCpf&&i.ProEventsLogger.log("uj-cpf-viewed-field",{},void 0,a)},t.onAddressChange=function(e){t.props.actions.updateAddress(e.value)},t.onCityChange=function(e){t.props.actions.updateCity(e.value)},t.onAddressBlur=function(e){t.props.actions.blurAddress(e.value)},t.onCityBlur=function(e){t.props.actions.blurCity(e.value)},t.onZipCodeBlur=function(e){t.props.actions.blurZipCode(e.value)},t.onZipCodeChange=function(e){t.props.actions.updateZipCode(e.value)},t.zipCodeErrorString=function(){var e=t.props.formData.zipCode;return!s.FormValueHelper.isValid(e)&&e.showError?o.ZipCodeErrorMessage:""},t.nameErrorString=function(){var e=t.props.formData.name;return t.showPSD2FieldsToUser()&&!s.FormValueHelper.isValid(e)&&e.showError?o.NameErrorMessage:""},t.cityErrorString=function(){var e=t.props.formData.city;return t.showPSD2FieldsToUser()&&!s.FormValueHelper.isValid(e)&&e.showError?o.CityErrorMessage:""},t.addressErrorString=function(){var e=t.props.formData.address;return t.showPSD2FieldsToUser()&&!s.FormValueHelper.isValid(e)&&e.showError?o.AddressErrorMessage:""},t}return a.__extends(t,e),t.prototype.renderCountrySelector=function(e){var t=this,a="grid__item--2-3";!0===e&&(a="grid__item"),this.props.showServerViewVersion&&(a="grid__item grid__item--3-4");var i=this.props.countryList.map((function(e){var a=e[0],r=e[1];return n.default.createElement("option",{key:"location-"+a,value:a,"aria-selected":a===t.props.formData.countryCode.formattedValue},r)}));return n.default.createElement(d.UnifiedLabeledSelectInput,{autoComplete:"country",className:a,labelText:r._("Country"),name:"country_code",onChange:this.onCountryCodeChange,value:this.props.formData.countryCode.rawValue},i)},t.prototype.renderBillingFields=function(){return!0===this.showPSD2FieldsToUser()?this.renderPSD2AddressFields():n.default.createElement(n.default.Fragment,null,this.renderCountrySelector(!1),this.renderZipCodeInput())},t.prototype.renderZipCodeInput=function(){var e=r._("Postal Code",{comment:"This is the label for the zip code field, and should be kept short."}),t="US"===this.props.formData.countryCode.formattedValue?r._("Billing ZIP"):e,a=!this.props.paymentSpec.allow_zip_code_for_country(this.props.formData.countryCode.formattedValue);return n.default.createElement(l.UnifiedTextInputField,{autoComplete:"postal-code",labelDivClassName:"billing-zip payment-info__zip grid__item grid__item--7-24",disabled:a,errorText:this.zipCodeErrorString(),errorHTML:this.props.formData.zipCode.serverError,labelText:t,name:"zip",onChange:this.onZipCodeChange,value:this.props.formData.zipCode.rawValue,onBlur:this.onZipCodeBlur})},t.prototype.showPSD2FieldsToUser=function(){return this.props.paymentSpec.showPSD2FieldsToUser(this.props.formData.paymentMethod.formattedValue,this.props.formData.countryCode.formattedValue,!!this.props.psd2AddressFields)},t.prototype.renderPSD2AddressFields=function(){var e=r._("Address",{comment:"Billing Address for Credit Card"}),t=r._("City/town",{comment:"This is for the billing address City/Town. Use the name best for locale"});return n.default.createElement(n.default.Fragment,null,this.renderCountrySelector(!0),n.default.createElement(l.UnifiedTextInputField,{autoComplete:"street-address",labelDivClassName:"payment-info__addr grid__item",labelText:e,name:"address",onChange:this.onAddressChange,value:this.props.formData.address.rawValue,errorText:this.addressErrorString(),onBlur:this.onAddressBlur,autoSetupForm:this.props.formData.city}),this.renderZipCodeInput(),n.default.createElement(l.UnifiedTextInputField,{autoComplete:"address-level2",labelDivClassName:"payment-info__city grid__item--16-24",name:"city",labelText:t,autoSetupForm:this.props.formData.city,onChange:this.onCityChange,errorText:this.cityErrorString(),onBlur:this.onCityBlur}))},t.prototype.render=function(){return this.renderBillingFields()},t})((n=a.__importDefault(n)).default.Component);t.UnifiedAddressForms=u})),define("modules/clean/react/payments/unified_module/unified_payment_form_async",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/payments/unified_module/unified_payment_form","modules/clean/react/payments/unified_module/unified_actions/unified_store","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/update_team_billing/update_team_store_creator","modules/clean/react/payments/update_team_billing/reducers","modules/clean/ajax","modules/core/notify","modules/clean/static_urls"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),u=a.__importStar(u);var _=(function(e){function t(t){var a=e.call(this,t)||this;return a.calledOnSuccess=!1,a.handleLoadFailure=function(){c.Notify.error(r._("Failed to load payment form."))},a.saveUnifiedPaymentMethodForm=function(e){a.unifiedPaymentForm=e},a.prepareForSubmission=function(){return a.unifiedPaymentForm.prepareForSubmission()},a.onAccept=function(e){void 0===e&&(e=o.SubmitFormTriggerType.ButtonClick),a.actions.submitBillingForm(a.prepareForSubmission,a.paymentExperiments.psd2AddressFields,a.unifiedPaymentForm.getCreditCardFrame().handle3DsMessage,e)},a.iFrameUrl="",a}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;u.WebRequest({url:"/account/unified_payment_view",success:function(t){var a=JSON.parse(t);if(a.isError)e.setState({}),e.handleLoadFailure();else{var n={countryList:a.countryList,iframeUrl:a.iframeUrl,vat:a.vat,userInfo:a.userInfo,countryToCurrencyMap:a.countryToCurrencyMap,countryCode:a.countryCode,serializedPaymentFormSpec:a.serializedPaymentFormSpec,showCpf:a.showCpf,showCpfName:a.showCpfName,requestId:a.requestId,submitSeq:0};e.iFrameUrl=a.iframeUrl,e.countryList=a.countryList,e.paymentExperiments=a.paymentExperiments,e.store=l.createBillingStore(n,d.BillingReducer),e.setState(e.store.getState()),e.store.subscribe((function(){var t=e.store.getState();if(!t.pageState.submitSuccess)if(e.props.isSubmittingStatus){var a=e.props.isSubmittingStatus;e.setState((function(e){return a(t.pageState.submitting),t}))}else e.setState((function(e){return t}));t.pageState.submitSuccess&&!e.calledOnSuccess&&(e.props.onSuccess(),e.calledOnSuccess=!0)}))}},error:function(){e.handleLoadFailure()}})},Object.defineProperty(t.prototype,"actions",{get:function(){return s.bindUnifiedBillingActions(this.store)},enumerable:!0,configurable:!0}),t.prototype.renderLoading=function(){return n.default.createElement("div",{className:"loading-spinner"},n.default.createElement("img",{src:p.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:r._("Loading")}))},t.prototype.render=function(){return""===this.iFrameUrl?this.renderLoading():n.default.createElement("div",{className:"payment-info-section"},n.default.createElement("div",{className:"payment-method-section grid__container"},n.default.createElement(i.UnifiedPaymentForm,{ref:this.saveUnifiedPaymentMethodForm,paymentSpec:this.state.pageState.paymentFormSpec,iframeUrl:this.iFrameUrl,countryList:this.countryList,formData:this.state.formData,actions:this.actions,submitForm:this.onAccept,payment_experiments:this.paymentExperiments})))},t})(n.default.Component);t.UnifiedPaymentFormAsync=_})),define("modules/clean/react/payments/unified_module/unified_payment_form",["require","exports","tslib","classnames","modules/clean/analytics","react","modules/core/i18n","modules/clean/react/payments/checkout/components/payment_method_form/credit_card_frame","modules/clean/react/payments/checkout/components/payment_method_form/direct_debit_form","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/checkout/components/payment_method_form/payment_method_selector","modules/clean/react/payments/checkout/components/payment_method_form/credit_card_purchase_full_name","modules/clean/react/payments/unified_module/unified_fields/unified_cpf_field","modules/clean/react/payments/unified_module/unified_fields/unified_vat_field","modules/clean/react/payments/unified_module/unified_address_form","modules/clean/react/payments/unified_module/unified_data_export"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var f=(function(e){function t(t){var a=e.call(this,t)||this;return t.payment_experiments.hidePaypalPayment&&t.paymentSpec.remove_payment_method(d.PaymentMethod.PayPal),a}return a.__extends(t,e),t.prototype.getPaymentData=function(){return h.getDataIfValid(this.props.formData,this.props.paymentSpec,this.prepareForSubmission(),this.props.payment_experiments)},t.prototype.componentDidMount=function(){var e=this.props.formData.countryCode.formattedValue;r.TeamsWebActionsLogger.log("uj-billing-country",{country:e}),"BR"===e&&r.TeamsWebActionsLogger.log("uj-cpf-viewed-field"),this.props.actions.updateHistory()},t.prototype.prepareForSubmission=function(){return this.props.formData.paymentMethod.formattedValue===d.PaymentMethod.CreditCard?this.creditCardFrame.tokenize():Promise.resolve(!0)},t.prototype.getCreditCardFrame=function(){return this.creditCardFrame},t.prototype.renderLocationFields=function(){var e=this.props,t=e.paymentSpec,a=e.formData,n=null,r=s._("Please note: changing your billing location could impact your       applicable tax rate.");return t.should_show_vat_for_country(a.countryCode.formattedValue)&&(r=s._("Please note: changing your billing location or VAT number could impact         your applicable tax rate.")),this.props.paymentSpec.isTeam()||(n=i.default.createElement("div",{className:"disclaimer-message"},r)),i.default.createElement("div",{className:"location-info-fields grid__item grid--x-bookend"},i.default.createElement(m.UnifiedAddressForms,{paymentSpec:this.props.paymentSpec,formData:this.props.formData,actions:this.props.actions,countryList:this.props.countryList,psd2AddressFields:this.props.payment_experiments.psd2AddressFields,showCpf:!0}),i.default.createElement(_.UnifiedVatField,{paymentSpec:this.props.paymentSpec,formData:this.props.formData,actions:this.props.actions,payment_experiments:this.props.payment_experiments}),i.default.createElement(p.UnifiedCPFField,{paymentSpec:this.props.paymentSpec,formData:this.props.formData,actions:this.props.actions,payment_experiments:this.props.payment_experiments}),n)},t.prototype.render=function(){var e=this,t=this.props,a=t.paymentSpec,r=t.actions,s=t.formData,p=t.countryList,_=this.renderLocationFields(),m=_;s.paymentMethod.formattedValue===d.PaymentMethod.DirectDeposit&&(m=i.default.createElement(l.DirectDebitForm,{locationFields:_,formData:s,actions:r}));var h=n.default({grid__item:!0,"payment-form":!0,"payment-form--responsive":!0});return i.default.createElement("div",{className:h},i.default.createElement(u.PaymentMethodSelector,{isTeam:!1,paymentSpec:a,paymentMethod:s.paymentMethod.rawValue,updatePaymentMethod:this.props.actions.updatePaymentMethod,countryCode:s.countryCode.rawValue,zipCode:s.zipCode.rawValue}),i.default.createElement(c.CreditCardPurchaseFullNameIfPsd2,{paymentSpec:a,countryList:p,formData:s,actions:r,businessStyling:!0,psd2AddressFields:this.props.payment_experiments.psd2AddressFields}),i.default.createElement(o.CreditCardFrame,{getHeightFromIframe:!0,iframeUrl:this.props.iframeUrl,isResponsive:!0,hidden:s.paymentMethod.formattedValue!==d.PaymentMethod.CreditCard,actions:this.props.actions,ref:function(t){e.creditCardFrame=t},nonce:s.nonce,bin:s.bin,submitForm:this.props.submitForm}),m)},t})((i=a.__importDefault(i)).default.Component);t.UnifiedPaymentForm=f})),define("modules/clean/react/payments/unified_module/unified_data_export",["require","exports","tslib","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/business/state/business_state","modules/clean/react/payments/common/form_value_helpers"],(function(e,t,a,n,r,i){"use strict";function s(e,t,a,r){var i=["countryCode"];return t.allow_zip_code_for_country(e)&&i.push("zipCode"),t.should_show_vat_for_country(e)&&i.push("vat"),t.should_require_cpf(e,a)&&(i.push("cpf"),i.push("cpfName")),t.showPSD2FieldsToUser(a,e,!!r.psd2AddressFields)&&i.push("name","city","address"),a===n.PaymentMethod.CreditCard?(i.push("nonce"),i.push("adyenEncryptedCard"),i.push("encryptedCardForNetworkToken"),i.push("bin"),i.push("browserInfo"),i.push("threeDsData")):a===n.PaymentMethod.DirectDeposit?i.push("accountHolderName","iban","mandateSigned"):a===n.PaymentMethod.Ideal&&i.push("idealBankId","idealBankName"),i}function o(e,t){return t[e]}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.getDataIfValid=function(e,t,a,n){var l=s(e.countryCode.formattedValue,t,e.paymentMethod.formattedValue,n);return(function(e,t){for(var a=0,n=e;a<n.length;a++){var r=o(n[a],t);if(!i.FormValueHelper.isValid(r))return!1}return!0})(l,e)?a.then((function(){return(function(e,t){for(var a={},n=0,i=e;n<i.length;n++){var s=i[n];a[r.fieldsToServerProps[s]]=o(s,t).formattedValue}return a})(l,e)})):Promise.resolve(null)},t.getPaymentFieldNamesToSubmit=s})),define("modules/clean/react/payments/checkout/components/inputs/radio_input",["require","exports","tslib","react","react-dom"],(function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),r=a.__importStar(r);var i=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(r.findDOMNode(this.input))},t.prototype.componentDidMount=function(){if(this.props.onChange){var e=r.findDOMNode(this.input),t=e.checked;t&&t!==this.props.checked&&this.props.onChange(e)}},t.prototype.render=function(){var e=this,t=this.props,a=t.name,r=t.id,i=t.className,s=t.checked,o=t.value,l=t.disabled;return n.default.createElement("input",{type:"radio",className:i,name:a,id:r,value:o,checked:s,onChange:this.onChange.bind(this),disabled:l,ref:function(t){e.input=t}})},t})(n.default.Component);t.RadioInput=i})),define("modules/clean/react/payments/checkout/components/payment_method_form/payment_method_option",["require","exports","tslib","react","modules/core/i18n","classnames","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/checkout/components/inputs/radio_input","modules/clean/react/payments/pro/components/inputs/inputs"],(function(e,t,a,n,r,i,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importDefault(i);var d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onChange=function(e){this.props.onSelected(this.props.paymentMethod)},t.prototype.render=function(){var e,t=this.props,a=t.icons,d=t.labelText,u=t.paymentMethod,c=[],p=["payment-method-option","payment-info__option"];if(this.props.isTeam?(p.push("grid__item"),p.push("grid__item--medium--shrink"),p.push("grid--y-middle"),p.push("grid__container--p-micro")):this.props.numberOfPaymentMethods&&this.props.numberOfPaymentMethods>2?p.push("grid__item--medium--1-4"):p.push("grid__item--medium--1-2"),d&&(e="payment-method-label#debit",c.push(n.default.createElement("span",{key:e,className:"debit"},this.props.labelText))),a){if(u===s.PaymentMethod.CreditCard){var _=a.join(", ").replace("_","-"),m=r._("Credit card. We accept %(payment_methods)s").format({payment_methods:_});e="payment-method-label#creditcard",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},m))}else u===s.PaymentMethod.PayPal&&(e="payment-method-label#paypal",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},r._("Paypal"))));for(var h=0,f=a;h<f.length;h++){var g=f[h];e="payment-method-icon#"+g,c.push(n.default.createElement("span",{key:e,className:g}))}}return this.props.isTeam?n.default.createElement("div",{className:i.default(p)},n.default.createElement(o.RadioInput,{name:"payment_method",id:"payment_method_"+u,value:u.toString(),checked:this.props.selected,onChange:this.onChange.bind(this)}),n.default.createElement("label",{htmlFor:"payment_method_"+u,className:"payment-method-label"},c)):n.default.createElement("div",{className:i.default(p)},n.default.createElement(l.LabeledRadioInput,{id:"payment_method_"+u,name:"payment_method",className:"payment-info__payment",value:u.toString(),checked:this.props.selected,onClick:this.onChange.bind(this)}),n.default.createElement("label",{htmlFor:"payment_method_"+u,className:"payment-info__method-label",onClick:this.onChange.bind(this)},c))},t})(n.default.Component);t.PaymentMethodOption=d})),define("modules/clean/react/payments/checkout/components/payment_method_form/payment_method_selector",["require","exports","tslib","react","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/checkout/components/payment_method_form/payment_method_option","modules/core/i18n"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPaymentMethodSelected=function(e){t.props.updatePaymentMethod(e)},t}return a.__extends(t,e),t.prototype.getLabelForMethodId=function(e){return e===r.PaymentMethod.CreditCard?n.default.createElement(i.PaymentMethodOption,{key:"payment-method#"+e,paymentMethod:r.PaymentMethod.CreditCard,selected:this.props.paymentMethod===r.PaymentMethod.CreditCard,onSelected:this.onPaymentMethodSelected,icons:this.props.paymentSpec.supported_credit_cards_for_country(this.props.countryCode),isTeam:this.props.isTeam,numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):e===r.PaymentMethod.PayPal?n.default.createElement(i.PaymentMethodOption,{key:"payment-method#"+e,paymentMethod:r.PaymentMethod.PayPal,selected:this.props.paymentMethod===r.PaymentMethod.PayPal,onSelected:this.onPaymentMethodSelected,icons:["paypal"],isTeam:this.props.isTeam,numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):e===r.PaymentMethod.DirectDeposit?n.default.createElement(i.PaymentMethodOption,{key:"payment-method#"+e,isTeam:this.props.isTeam,labelText:s._("Direct Debit"),numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length,onSelected:this.onPaymentMethodSelected,paymentMethod:r.PaymentMethod.DirectDeposit,selected:this.props.paymentMethod===r.PaymentMethod.DirectDeposit}):null},t.prototype.render=function(){var e=this,t=this.props,a=t.countryCode,r=t.paymentSpec.available_payment_methods_for_country(a).map((function(t){return e.getLabelForMethodId(t)}));return n.default.createElement("div",{className:"payment-method-selector payment-info__selector grid__item"},r)},t})((n=a.__importDefault(n)).default.Component);t.PaymentMethodSelector=o})),define("modules/clean/react/payments/update_team_billing/reducers",["require","exports","tslib","modules/clean/react/payments/common/form/reducers/reducers","modules/clean/react/payments/common/payments/reducers/reducers","modules/clean/react/payments/common/pricing/reducers/reducers"],(function(e,t,a,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BillingReducer=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return function(a,n){return t(e(a,n),n)}}))}.apply(void 0,a.__spreadArrays([function(e,t){return"SubmitFormSuccess"!==t.type?e:a.__assign(a.__assign({},e),{pageState:a.__assign(a.__assign({},e.pageState),{submitSuccess:!0})})},n.FormReducer],r.PaymentMethodReducers,i.TransitionManagementReducers))})),define("modules/clean/react/payments/update_team_billing/update_team_actions",["require","exports","tslib","modules/core/i18n","modules/core/notify","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/common/form/actions/actions"],(function(e,t,a,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=a.__importStar(i),t.submitTeamBillingForm=function(e,t,a,n,r,o){return function(l,d){var u,c=d(),p=c.formData,_=p.countryCode.formattedValue,m=c.pageState.paymentFormSpec,h=["countryCode"];m.allow_zip_code_for_country(_)&&h.push("zipCode"),m.should_show_vat_for_country(_)&&h.push("vat"),t&&m.should_require_cpf(_,c.formData.paymentMethod.formattedValue)&&(h.push("cpf"),a&&h.push("cpfName")),m.showPSD2FieldsToUser(p.paymentMethod.formattedValue,_,!!n)&&h.push("name","city","address"),c.formData.paymentMethod.formattedValue===i.PaymentMethod.CreditCard?(h.push("nonce"),h.push("adyenEncryptedCard"),h.push("encryptedCardForNetworkToken"),h.push("bin"),h.push("browserInfo"),h.push("threeDsData"),u="/team/payments/ajax_update_billing_credit_card"):c.formData.paymentMethod.formattedValue===i.PaymentMethod.DirectDeposit?(h.push("accountHolderName","iban","mandateSigned"),u="/team/payments/ajax_update_billing_direct_debit"):u="/team/payments/ajax_update_billing_paypal",l(s.submitForm(u,h,e,{},void 0,r,o))}},t.updateBillingCountryCode=function(e){return function(t,a){var i=a(),o=i.pageState.countryToCurrencyMap;!(e in o)&&i.formData.countryCode.formattedValue in o?r.Notify.error(n._("You can’t change to a country with a different currency. For help, contact support."),3):t(s.updateCountryCode(e))}}})),define("modules/clean/react/payments/update_team_billing/update_team_store_creator",["require","exports","tslib","redux","redux-thunk","modules/clean/react/payments/common/middleware/payments_ux_logger","modules/clean/redux/unsupported","modules/clean/analytics","modules/clean/dbmodal_stack","modules/clean/react/modal","modules/clean/react/payments/common/form/middleware/middleware","modules/clean/react/payments/common/payments/state/store_creator","modules/clean/react/payments/common/form_value_factory","modules/core/i18n","modules/core/notify","modules/clean/react/payments/update_individual_billing/update_individual_store_creator"],(function(e,t,a,n,r,i,s,o,l,d,u,c,p,_,m,h){"use strict";function f(e){return function(e){return function(t){if("SubmitFormSuccess"!==t.type)return e(t);var a=e(t);return m.Notify.success(_._("We’ve successfully updated your team’s billing information.")),o.TeamsWebActionsLogger.log("update_billing_open_save_changes_success"),d.Modal.close(),l.DBModalStack.trigger(h.BILLING_INFO_UPDATED,null),a}}}function g(e,t,a){var n=e.vat,r=e.countryCode,i=e.userInfo,s=c.createPaymentFormData(e,t,a),o=s.paymentMethod,l=s.countryCode,d=s.zipCode,u=s.vat,_=s.cpf,m=s.nonce,h=s.adyenEncryptedCard,f=s.encryptedCardForNetworkToken,g=s.bin,y=s.browserInfo,b=s.threeDsData,S=s.accountHolderName,v=s.iban,M=s.mandateSigned,L=s.termsAndService,T=s.idealBankId,w=s.idealBankName;return{city:s.city,phone:s.phone,name:s.name,address:s.address,paymentMethod:o,countryCode:l,zipCode:d,vat:n?p.FormValueFactory.createVat(n,r):u,cpf:_,cpfName:p.FormValueFactory.createCpfNamePrefill("","",i.displayName),nonce:m,bin:g,browserInfo:y,threeDsData:b,adyenEncryptedCard:h,encryptedCardForNetworkToken:f,accountHolderName:S,iban:v,mandateSigned:M,termsAndService:L,idealBankId:T,idealBankName:w}}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),r=a.__importDefault(r),t.submitFormSuccessMiddleware=f,t.createBillingStore=function(e,t){var a=(function(e){var t=(function(e){var t=c.createPaymentPageState(e).paymentFormSpec;return{countryToCurrencyMap:e.countryToCurrencyMap,submitState:null,submitSuccess:!1,submitting:!1,submitSeq:0,requestId:e.requestId,paymentFormSpec:t}})(e),a=(function(e){var t=c.createPaymentPricingState(e),a=t.countryCode,n=t.countryCodeLoading,r=t.hasCurrencyChanged,i=t.hasTaxChangedWithinCountry,s=t.loadingPrices,o=t.recentLoadEvent,l=t.requestToken;return{countryCode:a,countryCodeLoading:n,hasCurrencyChanged:r,hasTaxChangedWithinCountry:i,loadingPrices:s,recentLoadEvent:o,requestToken:l}})(e);return{pricingState:a,pageState:t,formData:g(e,t,a)}})(e),o=n.applyMiddleware(r.default,u.submitFormErrorMiddleware,f,new i.PaymentsUXLogger(e.requestId).reduxMiddleware);return s.createStore(t,a,o)},t.createFormData=g})),define("modules/clean/react/survey/types/survey_types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOO_EXPENSIVE_REASON_VALUE="101",t.TEMPORARY_NEED_REASON_VALUE="104",t.NOT_SATISFIED_REASON_VALUE="105",t.OTHER_REASON_VALUE="106",t.SWITCH_TO_BUSINESS_REASON_VALUE="107",t.NEED_DIFFERENT_PLAN_REASON_VALUE="109"})),define("modules/clean/react/trials/components/shared/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.UPDATE_BILLING="update_billing",e.CANCEL_PLAN="cancel_plan",e.CANCEL_TRIAL="cancel_trial",e.CHANGE_PLAN="change_plan",e.CLOSE_MODAL="close_modal",e.FEATURE="feature",e.TOUR_PROFESSIONAL="tour_professional",e.TRY_FREE="try_free",e.PURCHASE="purchase",e.CANCEL="cancel",e.REFUND="refund"})(t.ButtonType||(t.ButtonType={})),(function(e){e.CANCEL_TRIAL="cancel_trial",e.IN_TRIAL="in_trial",e.SERVER_VIEW="server_view",e.START_TRIAL="start_trial"})(t.FlowType||(t.FlowType={})),(function(e){e.ACCOUNT_PLAN="account_plan",e.CONGRATS="congrats",e.DIRECT_PURCHASE="direct_purchase",e.CANCEL_PLUS_INFO="cancel_plus_info",e.CANCEL_PRO_INFO="cancel_pro_info",e.SURVEY="survey",e.PRO_TRIAL_FEATURES="pro_trial_features",e.TRY_PRO="try_pro",e.WELCOME="welcome",e.UPGRADE="upgrade",e.BUSINESS_MERGE="business_merge"})(t.ScreenType||(t.ScreenType={})),(function(e){e.NO_TRIAL_DATA="no_trial_data",e.NO_USER_DATA="no_user_data",e.STATUS_NOT_OK="status_not_ok"})(t.ErrorType||(t.ErrorType={})),(function(e){e.CANCEL_PRO_TRIAL="cancel_professional_trial",e.START_PRO_TRIAL="start_professional_trial",e.UPGRADE_TO_PRO="upgrade_to_professional"})(t.RequestType||(t.RequestType={})),(function(e){e.P2P_TRIAL_START="p2pTrialStart",e.P2P_TRIAL_UPGRADE="p2pTrialUpgrade"})(t.TrialModal||(t.TrialModal={}))})),define("modules/clean/react/trials/components/shared/logging",["require","exports","tslib","modules/core/browser","modules/clean/server_side_client_view_bridge","modules/core/i18n","modules/clean/react/trials/components/shared/types","modules/core/notify","modules/clean/analytics","modules/core/uri"],(function(e,t,a,n,r,i,s,o,l,d){"use strict";function u(e,t,n,r,i,s){void 0===r&&(r={});var o=s?"link":"button";return l.ProEventsLogger.log("p2pt_"+e+"_"+t+"_"+o+"_clicked",a.__assign(a.__assign({},r),{screenType:n}),i)}function c(e){return n.redirect(p(e))}function p(e){var t=d.URI.parse(e);return t.updateQuery("tk","p2p"),t.toString()}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),r=a.__importStar(r),t.logClick=u,t.logDisplay=function(e,t,n,r){return void 0===n&&(n={}),l.ProEventsLogger.log("p2pt_"+e+"_screen_displayed",a.__assign(a.__assign({},n),{screenType:t}),r)},t.logClickAndOpenLink=function(e,t,a,i,o,l,d){void 0===o&&(o={});var c=e===s.FlowType.SERVER_VIEW&&l?r.OpenCredentialedBrowser(p(i),l):n.open_tab(p(i));return u(e,t,a,o,(function(){return c}),d)},t.logClickAndRedirectTo=function(e,t,a,n){return void 0===n&&(n=s.ButtonType.PRIMARY),u(e,n,t,{},(function(){return c(a)}))},t.logSurveyOptionsOrder=function(e,t,n,r){return void 0===n&&(n={}),l.ProEventsLogger.log("p2pt_"+e+"_survey_options_order",a.__assign(a.__assign({},n),{screenType:t}),r)},t.logTrialErrorAndNotify=function(e,t,a,n,r,s){r=r||i._("There was an error changing the plan!"),l.ProEventsLogger.log("p2pt_"+e+"_error",{requestType:t,screenType:a,errorMessage:r,errorExtra:s},n),o.Notify.error(r)},t.logTrialSuccess=function(e,t,a,n){return l.ProEventsLogger.log("p2pt_"+e+"_success",{requestType:t,screenType:a},n)},t.redirectTo=c,t.trackedUrl=p}));
//# sourceMappingURL=pkg-account_subscription_core.min.js-vfl724f8T.map