define(["require","exports","tslib","modules/core/browser","modules/clean/history","modules/clean/react/location/types","modules/core/uri","modules/clean/react/file_transfers/constants"],(function(e,r,t,n,o,a,u,i){"use strict";function s(e){return e.replace(/^cap_pid_ft:/,"")}function c(){return"https://www.dropbox.com/"}function f(e,t){var n="/"+r.BASE_URL+"/"+encodeURIComponent(s(e))+"/edit";return t?n+"?referrer="+t.referrer+"&log_create="+t.logCreateTransferEvent:n}function d(e){var t="https://www.dropbox.com/"+r.BASE_URL;return e?t+"?referrer="+e:t}function l(e){return"https://www.dropbox.com/"+r.BASE_URL+"/"+encodeURIComponent(s(e))}function p(e){var r=e.query?e.query.transfer_id:void 0,t=r instanceof Array?r[0]:r;return t?(function(e){return-1===e.indexOf("cap_pid_ft:")?"cap_pid_ft:"+e:e})(t):t}function _(e){var r=e.query?e.query[i.QUERY_PARAM_RECP_TRACKING]:void 0;return r instanceof Array?r[0]:r}Object.defineProperty(r,"__esModule",{value:!0}),n=t.__importStar(n),o=t.__importDefault(o),r.BASE_URL="transfer",r.dropboxUrl=c,r.listTransfersUrl=function(e,t){var n="https://www.dropbox.com/"+r.BASE_URL+"/manage";return e&&t?n+"?referrer="+e+"&transfer_id="+s(t):e?n+"?referrer="+e:t?n+"?transfer_id="+s(t):n},r.editTransferUrl=f,r.createTransferUrl=d,r.viewTransferUrl=l,r.shareTransferUrl=function(e,r){return r&&r.share_url?r.share_url:l(e)},r.reportAbuseUrl=function(e){return"https://www.dropbox.com/report_abuse?ssu="+encodeURIComponent(l(e))},r.dropboxTermsUrls=function(){return"https://www.dropbox.com/terms"},r.cleanBrowserHrefForEditPage=function(){n.get_pathname()!=="/"+r.BASE_URL+"/cfd"?o.default.replace_state(n.get_pathname()):o.default.replace_state(d("desktop").replace(new RegExp("^https://www.dropbox.com"),""))},r.addTransferIdToUrl=function(e){n.get_pathname().endsWith("/edit")||o.default.replace_state(f(e))},r.getTransferIdFromUrl=function(e){return p(a.Location.fromURI(u.URI.parse(e)))},r.getTransferIdFromLocation=p,r.shouldFeedbackFormBeInitiallyShown=function(e){var r=e.query?e.query.feedback:void 0;return"true"===(r instanceof Array?r[0]:r)},r.shouldCustomizeDesignBeInitiallyShown=function(e){var r=e.query?e.query.customize_design:void 0;return"true"===(r instanceof Array?r[0]:r)},r.getReferrerFromUrlParam=function(e){var r=e.query?e.query.referrer:void 0;return r instanceof Array?r[0]:r},r.updateTransferIdInLocation=function(e){var r=n.get_uri();e?(r=r.updateQuery({transfer_id:s(e)}),o.default.replace_state(r.getPath(),r.getQuery())):(r=r.removeQuery("transfer_id"),o.default.replace_state(r.getPath(),r.getQuery()))},r.removeCustomizeDesignInLocation=function(){var e=n.get_uri();e=e.removeQuery("customize_design"),o.default.replace_state(e.getPath(),e.getQuery())},r.getRecipientTrackingIdFromUrl=function(){return _(a.Location.fromURI(u.URI.parse(n.get_uri())))},r.getRecipientTrackingIdFromLocation=_}));
//# sourceMappingURL=urls.min.js-vfln9oyjI.map