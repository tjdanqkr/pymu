define(["require","exports","tslib","react","modules/clean/react/file_uploader/file_uploader","modules/core/i18n","modules/clean/display_format","modules/clean/payments/skus/sku_content","spectrum/popover","modules/clean/react/growth/onboarding_sidebar/components/sidebar_button","spectrum/icon_action","modules/clean/react/growth/onboarding_sidebar/components/modules/formatters/logger"],(function(e,a,t,o,n,l,r,d,u,i,s,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),o=t.__importDefault(o),a.getUploadedFileModule=function(e,a,m,_,f){if(void 0===m||void 0===_)return null;var p=m/_*100,b=_>=1e12,g=m>=943718400&&m<1073741824?1:0;b||(g=m>=943718400?1:0);var v=r.format_bytes(m,g),h=_/1073741824,E=Math.floor(h),k=d.formatSpaceShortFormGb(E),q=b?"TB":"GB",N=_/(b?1e12:1073741824),y=Math.floor(N),C=l._("%(quota_tb)s %(unit)s").format({quota_tb:l.format_number(y),unit:q}),B={title:l._("Use your new space"),body:l._("Youâ€™ve got %(quota_tb_rounded)s of storage to keep all your files and folders safe, organized, and in one place.").format({quota_tb_rounded:C})},P=t.__assign(t.__assign({},B),f),S=P.title,U=P.body,w=function(t){n.FileUploaderController.handleUploadButtonClick(t,(function(){a.handleSuccess()})),c.logButtonClick(e,a.moduleName)},D=function(e){return function(a){a.preventDefault(),13!==a.keyCode&&32!==a.keyCode||w(e)}},I=D(!1),M=D(!0),A=a.isCompleted?i.SidebarButtonVariant.SECONDARY:i.SidebarButtonVariant.PRIMARY;return{title:S,content:o.default.createElement("div",null,o.default.createElement("p",{className:"quota-explanation-text"},U.format({quota_tb_rounded:C})),o.default.createElement("div",{className:"onboarding-sidebar-checklist-item__quota-graph"},o.default.createElement("div",{className:"onboarding-sidebar-checklist-item__quota-graph__background"},o.default.createElement("div",{className:"onboarding-sidebar-checklist-item__quota-graph__foreground",style:{width:p+"%"}})),o.default.createElement("div",{className:"onboarding-sidebar-checklist-item__quota-graph__numbers"},o.default.createElement("span",{className:"onboarding-sidebar-checklist-item__quota-graph__quota-usage"},v),o.default.createElement("span",{className:"onboarding-sidebar-checklist-item__quota-graph__quota"},k))),o.default.createElement("div",{className:"onboarding-sidebar-upload-menu"},o.default.createElement(u.Popover,null,o.default.createElement(u.PopoverTrigger,{className:"onboarding-sidebar-upload-menu__trigger"},o.default.createElement(i.SidebarButton,{variant:A,tagName:"div"},l._("Upload files and folders"))),o.default.createElement(u.PopoverContent,null,o.default.createElement(u.PopoverContentItem,{onClick:function(){return w(!1)},onKeyDown:I,value:"upload-files",className:"onboarding-sidebar-upload-menu__upload-files"},o.default.createElement(s.IconAction,{name:"upload-file"}),l._("Upload files")),o.default.createElement(u.PopoverContentItem,{onClick:function(){return w(!0)},onKeyDown:M,value:"upload-folder",className:"onboarding-sidebar-upload-menu__upload-folder"},o.default.createElement(s.IconAction,{name:"upload-folder"}),l._("Upload folder"))))))}}}));
//# sourceMappingURL=upload_file.min.js-vflbFsuvE.map