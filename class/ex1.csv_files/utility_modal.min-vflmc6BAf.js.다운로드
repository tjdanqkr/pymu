define(["require","exports","tslib","react","spectrum/modal","spectrum/button"],(function(e,n,o,t,r,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getRestOfModalProps=function(e){var n=e,t=n.displayCloseButton,r=n.className,a=n.bodyClassName,i=n.parentElement,s=n.onRequestClose,l=n.onReady,c=n.width,u=n.height,d=n.contentTagName,m=n.ariaLabel,y=n.open,p=n.overlayClassName,v=n.overlayClickClose,f=n.overflowY,h=n.overlayFixed,C=n.primaryAction,A=n.secondaryAction,b=n.title,E=n.link,g=n.variant,_=n.onPrimaryAction,R=n.onSecondaryAction,q=n.onLink,N=n.shouldRequestCloseOnActions,P=(n.children,{modal:{displayCloseButton:t,className:r,parentElement:i,onRequestClose:s,onReady:l,width:c,height:u,contentTagName:d,ariaLabel:m,open:y,overlayClassName:p,overlayClickClose:v,overflowY:f,overlayFixed:h,primaryAction:C,secondaryAction:A,title:b,link:E,variant:g,onPrimaryAction:_,onSecondaryAction:R,onLink:q,shouldRequestCloseOnActions:N},rest:o.__rest(n,["displayCloseButton","className","bodyClassName","parentElement","onRequestClose","onReady","width","height","contentTagName","ariaLabel","open","overlayClassName","overlayClickClose","overflowY","overlayFixed","primaryAction","secondaryAction","title","link","variant","onPrimaryAction","onSecondaryAction","onLink","shouldRequestCloseOnActions","children"])});return a&&(P.modal.bodyClassName=a),P},n.disabledPrimaryButton=function(e,n,r){var i=e,s=i;return i="string"==typeof i?function(e){var i={variant:"primary",onClick:e};return!1===n&&(i.disabled=!0),t.createElement("span",{ref:r||void 0},t.createElement(a.Button,o.__assign({},i),s))}:function(e){var o={ref:r};return!1===n&&(o.disabled=!0),t.cloneElement(s(e),o)}};var i=(function(e){function a(n){var r=e.call(this,n)||this;return r.setPrimaryActionElement=function(e){return r.primaryActionElement=e},r.setSecondaryActionElement=function(e){return r.secondaryActionElement=e},r.firstFocusableElement=function(){return r.primaryActionElement.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')[0]},r.modalBody=function(){var e=r.props.bodyClassName,n=void 0===e?"mc-modal-body":e;return document.querySelector("."+n)},r.modalOverlay=function(){return document.querySelector(".rn-modal-overlay")},r.setFocus=function(){return o.__awaiter(r,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){return setTimeout((function(){var n=e.props.valid,o=void 0===n||n,t=e.modalBody();if(t&&!t.contains(document.activeElement)){var r=t;if(o&&e.primaryActionElement){var a=e.firstFocusableElement();a&&(r=a)}r.focus()}}),0),[2]}))}))},r.accept=function(){var e=r.props,n=e.actionAccept,o=e.valid;(void 0===o||o)&&n()},r.onKeyDown=function(e){13===e.keyCode&&r.accept()},r.onRequestClose=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=r.props,t=o.actionCancel,a=o.onRequestClose;a&&a();var i=e.length>=1&&27===e[0].keyCode,s=e[0]&&e[0].target===r.modalOverlay();(i||s)&&t()},r.cloneElement=function(e,n){return e?"string"==typeof e?e:t.cloneElement(e,o.__assign({},n,{onKeyDown:r.onKeyDown})):null},n.setFocus&&n.setFocus(r.setFocus),r}return o.__extends(a,e),a.prototype.componentDidMount=function(){this.props.open&&this.setFocus()},a.prototype.componentDidUpdate=function(e){this.props.open&&!e.open&&this.setFocus()},a.prototype.render=function(){var e=this,a=this.props,i=a.primaryAction,s=a.actionCancel,l=a.actionAccept,c=a.onPrimaryAction,u=a.onSecondaryAction,d=a.valid,m=void 0===d||d,y=n.getRestOfModalProps(this.props),p=y.modal,v=y.rest,f=n.disabledPrimaryButton(i,m,this.setPrimaryActionElement);return t.createElement(r.UtilityModal,o.__assign({},p,{primaryAction:f,onPrimaryAction:c||l,onSecondaryAction:u||s,onRequestClose:this.onRequestClose,onKeyPress:this.onKeyDown,overlayClassName:"rn-modal-overlay"}),t.Children.map(this.props.children,(function(n){return e.cloneElement(n,v)})))},a})(t.Component);n.UtilityModal=i}));
//# sourceMappingURL=utility_modal.min.js-vfl5xDWHH.map