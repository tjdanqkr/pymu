define("modules/clean/groups/add_group_members_modal",["require","exports","tslib","create-react-class","react","react-dom-factories","prop-types","jquery","modules/clean/ajax","modules/clean/analytics","modules/clean/groups/group_members_form","modules/clean/groups/utils","modules/clean/react/modal","modules/clean/viewer","modules/core/i18n","modules/core/notify"],(function(e,t,o,r,a,n,s,i,l,u,m,d,p,c,_,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),a=o.__importDefault(a),n=o.__importStar(n),s=o.__importStar(s),i=o.__importDefault(i),l=o.__importStar(l),m=o.__importDefault(m),d=o.__importDefault(d);var f=c.Viewer.get_viewer(),h=r.default({displayName:"AddGroupMembersModal",propTypes:{group:s.object,insideAdminConsole:s.bool,onGroupChanged:s.func},getInitialState:function(){return{canProceed:!1,submitting:!1}},componentDidMount:function(){return i.default(".contacts-tokenizer-input").select()},_canProceed:function(){return(null!=this.refs.members?this.refs.members.areAllContactsValid():void 0)&&!(null!=this.refs.members?this.refs.members.isEmpty():void 0)},onClickAddMembers:function(e){var t=this;return e.preventDefault(),this.refs.members.getFinalData((function(e){var o=e.emails,r=t._canProceed();if(t.setState({canProceed:r}),r)return t.setState({submitting:!0}),l.WebRequest({url:"/groups_ajax/add_users_to_group",data:{members:JSON.stringify(o),group_id:t.props.group.id},subject_user:f.work_user,complete:function(){if(t.isMounted())return t.setState({submitting:!1})},success:function(e){return e=JSON.parse(e),g.Notify.success(_.ungettext("Adding member...","Adding members...",o.length)),p.Modal.close(),t.props.onGroupChanged(!0,null)},error:function(e){if(d.default.isGroupDeleted(e))return p.Modal.close(),d.default.redirectToGroupsPage(t.props.insideAdminConsole)}})}))},onMembersFormChange:function(){return this.setState({canProceed:this._canProceed()})},logWebTeamsEvent:function(){var e={group_owner_ids:this.props.group.users.filter((function(e){return e.is_owner})).map((function(e){return e.user_id})),team_id:this.props.group.team_id,team_type:f.team_type,group_id:this.props.group.id};return u.TeamsWebActionsLogger.log("groups_add_members_cancelled",e)},render:function(){return a.default.createElement(p.Modal,{title:_._("Add members to “%(group_name)s”").format({group_name:this.props.group.name}),className:"no-scroll-modal",id:"add-group-members-modal",acceptButtonText:_._("Add members"),dismissButtonText:_._("Cancel"),onAccept:this.onClickAddMembers,onDismiss:this.logWebTeamsEvent,acceptButtonDisabled:!this.state.canProceed,submitting:this.state.submitting,ref:"modal"},a.default.createElement(m.default,{ref:"members",group:this.props.group,onChange:this.onMembersFormChange,errorMessageSpaceFixed:!1,includeCustomMessage:!1,emailPlaceholder:_._("Add names or emails"),disallowGroupMembers:!0}),n.label({},n.br({}),_._("Giving new members access to all of this group’s shared folders might take a little while.")))}});t.default=h})),define("modules/clean/teams/modals/create_group_modal",["require","exports","tslib","react","modules/clean/teams/admin/modals/action_utility_modal","modules/clean/components/modals/show_modal","modules/core/i18n","modules/clean/viewer","modules/clean/teams/admin/modals/modal_ajax","modules/clean/rondo/forms/index","modules/clean/react/tooltip","modules/clean/static_urls","modules/clean/groups/utils","spectrum/button"],(function(e,t,o,r,a,n,s,i,l,u,m,d,p,c){"use strict";function _(e,t,o){return null==e&&(e=!1),null==t&&(t=!1),e||!t||!o}function g(e,t,o){return null==e&&(e=!1),null==t&&(t=!1),!e&&t&&o}Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),p=o.__importDefault(p),t.CreateGroupModal=function(e){var t=e.canHaveAdminUi,n=e.isLimitedTeam,i=e.groupNameField,l=e.radio,_=e.onPrimaryAction,g=void 0===_?function(){}:_,f=e.onSecondaryAction,h=e.onRequestClose,b=void 0===h?function(){}:h,v=s._("Create a new group"),y=null;!n&&t&&(y=(function(e){return r.default.createElement("div",{className:"group-type"},r.default.createElement("span",{className:"tooltip-label group-kind-label"},s._("What kind of group is it?"),r.default.createElement(m.Tooltip,{position:m.TooltipPosition.RIGHT,tooltip_contents:s._("In company-managed groups, admins are responsible for adding and removing members.           In user-managed groups, users approve new members, and existing members can leave whenever they like."),tooltip_classname:"group-kind-tooltip-bubble"},r.default.createElement("img",{src:d.static_url("/static/images/sprites/teams/tool_tip_icon-vflUvSKa8.png"),alt:s._("More information")}))),r.default.createElement("div",{className:"group-type-selection"},r.default.createElement(u.RadioButton,o.__assign({className:"admin-managed-radio",value:"true",name:"group_type",id:"admin-managed-radio"},e),s._("Company-managed group")),r.default.createElement("br",null),r.default.createElement(u.RadioButton,o.__assign({className:"member-managed-radio",value:"false",name:"group_type",id:"member-managed-radio"},e),s._("User-managed group"))))})(l));var w=r.default.createElement("label",{className:"label-description",htmlFor:"group-name-input"},s._("Group name")),A=i.fieldValue.length>0&&i.fieldValue.length<=p.default.MAX_GROUP_NAME_LEN;if(i.fieldValue.length>p.default.MAX_GROUP_NAME_LEN){w=r.default.createElement("div",{className:"text-input-error-wrapper"},s._("Group name")," - ",s._("The group name should be under %(max_len)d characters").format({max_len:p.default.MAX_GROUP_NAME_LEN}))}var M=A?s._("Create"):function(){return r.default.createElement(c.Button,{disabled:!0},s._("Create"))};return r.default.createElement(a.ActionUtilityModal,{title:v,primaryAction:M,onPrimaryAction:g,onSecondaryAction:f,onRequestClose:b,id:"create-group-modal",shouldRequestCloseOnActions:!1,overlayClickClose:!0,className:"create-group-modal"},r.default.createElement("div",{className:"text-input"},w,r.default.createElement("div",{className:"text-input-wrapper"},r.default.createElement(u.Input,o.__assign({className:"text-input-input .group-name-input",id:"group-name-input",placeholder:s._("Marketing, Design, etc.",{comment:"These are example group names."}),onPrimaryAction:g},i)))),y)},t.CREATE_GROUP_URL="/groups_ajax/make_new_group_with_users",t.CreateGroupModalAction=function(e){var r=e.canHaveAdminUi,a=e.isLimitedTeam,n=o.__rest(e,["canHaveAdminUi","isLimitedTeam"]);return l.modalAjax({modal:t.CreateGroupModal,ajax:{url:t.CREATE_GROUP_URL,data:function(e){var t=e.groupNameField,o=e.radio;e.canBeAdminManaged;return{name:t,members:JSON.stringify([{name:i.Viewer.get_viewer().display_name,email:i.Viewer.get_viewer().work_email,is_owner:_(a,r,"true"===o)}]),is_admin_managed:g(a,r,"true"===o)}},subject_user:i.Viewer.get_viewer().work_user},autoCloseOnError:!1,fields:{groupNameField:{fieldValue:""},radio:{fieldValue:"true"}}})(o.__assign({canHaveAdminUi:r,isLimitedTeam:a},n))},t.showCreateGroupModal=function(e){return n.showModal(r.default.createElement(t.CreateGroupModalAction,o.__assign({},e)))}})),define("modules/clean/groups/switch_to_member_managed_group_modal",["require","exports","tslib","create-react-class","react","react-dom-factories","prop-types","jquery","modules/clean/ajax","modules/clean/groups/group_members_form","modules/clean/groups/utils","modules/clean/react/modal","modules/clean/viewer","modules/core/i18n","modules/core/notify"],(function(e,t,o,r,a,n,s,i,l,u,m,d,p,c,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),a=o.__importDefault(a),n=o.__importStar(n),s=o.__importStar(s),i=o.__importDefault(i),l=o.__importStar(l),u=o.__importDefault(u),m=o.__importDefault(m);var g=p.Viewer.get_viewer(),f=r.default({displayName:"SwitchToMemberManagedGroupModal",propTypes:{group:s.object,onMemberManaged:s.func,insideAdminConsole:s.bool},getInitialState:function(){return{canProceed:!0,submitting:!1}},componentDidMount:function(){return i.default(".contacts-tokenizer-input").select()},_canProceed:function(){return null!=this.refs.members?this.refs.members.areAllContactsValid():void 0},onSubmit:function(e){var t=this;return e.preventDefault(),this.refs.members.getFinalData((function(e){var o=e.emails,r=t._canProceed();if(t.setState({canProceed:r}),r){t.setState({submitting:!0});var a=t.props.group.name,n=t.props.onMemberManaged;return l.WebRequest({url:"/groups_ajax/change_to_member_managed_type",data:{new_owners:JSON.stringify(o),group_id:t.props.group.id},subject_user:g.work_user,complete:function(){if(t.isMounted())return t.setState({submitting:!1})},success:function(e){_.Notify.success(c._("%(group_name)s is now user-managed").format({group_name:a})),d.Modal.close();var t=Array.from(o).map((function(e){return e.email}));return n(t)},error:function(e){if(m.default.isGroupDeleted(e))return d.Modal.close(),m.default.redirectToGroupsPage(t.props.insideAdminConsole)}})}}))},onMembersFormChange:function(){return this.setState({canProceed:this._canProceed()})},render:function(){return a.default.createElement(d.Modal,{title:c._("Make user-managed?"),id:"switch-to-member-managed-group-modal",acceptButtonText:c._("Make user-managed"),dismissButtonText:c._("Cancel"),acceptButtonDisabled:!this.state.canProceed,submitting:this.state.submitting,onAccept:this.onSubmit,ref:"modal"},n.label({className:"label-description"},c._("This will become a user-managed group, and the person you choose below will be responsible for approving new members. Group members can leave whenever they like.")),n.br({}),n.br({}),n.label({className:"label-description-secondary"},c._("Who should manage this group?")),a.default.createElement(u.default,{ref:"members",group:this.props.group,onChange:this.onMembersFormChange,errorMessageSpaceFixed:!1,includeCustomMessage:!1,emailPlaceholder:c._("Name or email address"),disallowGroupMembers:!1}))}});t.default=f})),define("modules/clean/teams/admin/modals/fetch_ui_data_and_show_modal",["require","exports","tslib","react","modules/clean/teams/admin/api/admin_console_api_client","modules/clean/components/modals/show_modal","modules/core/i18n","modules/core/notify"],(function(e,t,o,r,a,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),a=o.__importDefault(a),t.fetchUserUiDataAndShowModal=function(e,t,l,u){return o.__awaiter(this,void 0,void 0,(function(){var m,d,p;return o.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,(new a.default).userUiInfo(e)];case 1:for(p in m=c.sent(),d={},u)d[u[p]]=m[p];return n.showModal(r.default.createElement(t,o.__assign({},d,l))),[3,3];case 2:return c.sent(),i.Notify.error(s._("Failed to load modal")),[3,3];case 3:return[2]}}))}))}})),define("modules/clean/teams/modals/delete_team_modal",["require","exports","tslib","react","prop-types","modules/clean/ajax","modules/clean/react/modal","modules/clean/viewer","modules/core/browser","modules/core/i18n","modules/core/notify"],(function(e,t,o,r,a,n,s,i,l,u,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),a=o.__importStar(a),n=o.__importStar(n),l=o.__importStar(l);var d=i.Viewer.get_viewer(),p=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={submitting:!1},t._teamDeleted=function(){return m.Notify.success(u._("You successfully deleted the team.")),l.redirect("/home")},t._onAccept=function(){return t.setState({submitting:!0}),n.WebRequest({url:"/team/manage/delete",data:{team_id:t.props.teamId,_subject_uid:d.work_user.id},complete:function(){return t._teamDeleted()},success:function(){return t._teamDeleted()}})},t}return o.__extends(t,e),t.prototype.render=function(){var e=u._("The %(team_name)s team will be permanently deleted and all members will be removed. Your team’s folders will be converted to shared folders, nested shared folders will be flattened and your %(team_name)s groups will be deleted. Every member’s account will be converted to a personal Dropbox.").format({team_name:this.props.teamName});return r.default.createElement(s.Modal,{title:u._("Delete team?"),acceptButtonText:u._("Delete"),dismissButtonText:u._("Cancel"),submitting:this.state.submitting,acceptButtonDisabled:this.state.submitting,dismissButtonDisabled:this.state.submitting,autoClose:!1,onAccept:this._onAccept},e)},t.displayName="DeleteTeamModal",t.propTypes={teamName:a.string.isRequired,teamId:a.number.isRequired},t})(r.default.Component);t.DeleteTeamModal=p})),define("modules/clean/teams/modals/sole_admin_warning_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/teams/admin/modals/alert_utility_modal","modules/clean/components/modals/show_modal"],(function(e,t,o,r,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),t.SoleAdminWarningModal=function(e){var t=e.teamName,o=e.action,s=e.onPrimaryAction,i=void 0===s?function(){}:s,l=e.onRequestClose,u=void 0===l?function(){}:l,m=a._("You must give admin permissions to someone else"),d=a._("I understand"),p="leave"===o?a._("Since you’re the only admin of %(team_name)s, you need to give someone else on your team admin permissions before you leave the team. You can do this by clicking the gear icon to the right of a team member’s name and selecting “Give admin permissions”.").format({team_name:t}):a._("In order to remove your admin permissions, you must first give admin permissions to someone else on your team. You can do this by clicking the gear icon to the right of a team member’s name and selecting “Give admin permissions”.");return r.default.createElement(n.AlertUtilityModal,{title:m,primaryAction:d,width:"698px",onPrimaryAction:i,onRequestClose:u},p)},t.showSoleAdminWarningModal=function(e){return s.showModal(t.SoleAdminWarningModal(o.__assign({},e)))}})),define("modules/clean/teams/modals/leave_team_modal",["require","exports","tslib","react","modules/clean/teams/admin/modals/action_utility_modal","modules/clean/components/modals/show_modal","modules/core/i18n","modules/clean/teams/admin/modals/modal_ajax"],(function(e,t,o,r,a,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),t.LeaveLimitedTeamModal=function(e){e.userId;var t=e.teamName,o=e.canHaveAdminUi,n=e.onRequestClose,i=void 0===n?function(){}:n,l=e.onPrimaryAction,u=void 0===l?function(){}:l,m=e.onSecondaryAction,d=void 0===m?function(){}:m,p=s._("Leave team?"),c=s._("Leave team"),_="";return _=o?s._("You’ll lose access to all %(team_name)s groups. Your account will be converted     to a personal Dropbox.").format({team_name:t}):s._("You’ll lose access to the %(team_name)s team folder and all %(team_name)s groups.     Your account will be converted to a personal Dropbox.").format({team_name:t}),r.default.createElement(a.ActionUtilityModal,{title:p,primaryAction:c,onPrimaryAction:u,onSecondaryAction:d,onRequestClose:i},_)},t.LEAVE_TEAM_URL="/team/manage/leave",t.LeaveLimitedTeamModalAction=function(e){var r=e.userId,a=e.teamName,n=e.canHaveAdminUi,l=o.__rest(e,["userId","teamName","canHaveAdminUi"]);return i.modalAjax({modal:t.LeaveLimitedTeamModal,ajax:{url:t.LEAVE_TEAM_URL,data:{user_id:r}},notify:{successNotify:s._("You left the team.")}})(o.__assign({userId:r,teamName:a,canHaveAdminUi:n},l))},t.showLeaveLimitedTeamModal=function(e){return n.showModal(r.default.createElement(t.LeaveLimitedTeamModalAction,o.__assign({},e)))}})),define("modules/clean/teams/modals/delete_group_modal",["require","exports","tslib","react","modules/clean/teams/admin/modals/action_utility_modal","modules/clean/components/modals/show_modal","modules/core/i18n","modules/clean/viewer","modules/clean/teams/admin/modals/modal_ajax","modules/clean/react_format"],(function(e,t,o,r,a,n,s,i,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),t.DeleteGroupModal=function(e){e.groupId;var t=e.groupName,o=e.onRequestClose,n=void 0===o?function(){}:o,i=e.onPrimaryAction,l=void 0===i?function(){}:i,m=e.onSecondaryAction,d=void 0===m?function(){}:m,p=s._("Delete “%(group_name)s”?").format({group_name:t}),c=s._("Delete"),_=u.reactFormat(s._("<paragraph>Deleting “%(group_name)s” will cause all of its members to lose access to folders that have been shared with the group. You will not be able to undo this.</paragraph> <paragraph>It might take a little while for deleted groups to be removed from all their shared folders.</paragraph> <paragraph>Are you sure you want to delete the group?</paragraph>"),{paragraph:r.default.createElement("p",null),group_name:t});return r.default.createElement(a.ActionUtilityModal,{title:p,primaryAction:c,id:"delete-group-modal",onPrimaryAction:l,onSecondaryAction:d,onRequestClose:n},_)},t.DELETE_GROUP_URL="/groups_ajax/remove_group",t.DeleteGroupModalAction=function(e){var r=e.groupId,a=e.groupName,n=o.__rest(e,["groupId","groupName"]);return l.modalAjax({modal:t.DeleteGroupModal,ajax:{url:t.DELETE_GROUP_URL,data:{group_id:r},subject_user:i.Viewer.get_viewer().work_user},notify:{successNotify:s._("Deleting group...")}})(o.__assign({groupId:r,groupName:a},n))},t.showDeleteGroupModal=function(e){return n.showModal(r.default.createElement(t.DeleteGroupModalAction,o.__assign({},e)))}})),define("modules/clean/teams/modals/remove_user_from_group_modal",["require","exports","tslib","react","modules/clean/teams/admin/modals/action_utility_modal","modules/clean/components/modals/show_modal","modules/core/i18n","modules/clean/viewer","modules/clean/teams/admin/modals/modal_ajax","modules/clean/react_format"],(function(e,t,o,r,a,n,s,i,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),t.RemoveUserFromGroupModal=function(e){e.groupId;var t=e.groupName,o=(e.userId,e.userDisplayName),n=e.removeSelf,i=e.onRequestClose,l=void 0===i?function(){}:i,m=e.onPrimaryAction,d=void 0===m?function(){}:m,p=e.onSecondaryAction,c=void 0===p?function(){}:p,_=n?s._("Leave “%(group_name)s”?").format({group_name:t}):s._("Remove %(name)s?").format({name:o}),g=n?s._("Leave"):s._("Remove"),f=n?(function(e){return u.reactFormat(s._("<paragraph>Leaving “%(group_name)s” will cause you to lose access to folders that   have been shared with the group.</paragraph >   <paragraph>It might take a little while to remove you from all of the group’s shared   folders.</paragraph>   <paragraph>Are you sure you want to leave the group?</paragraph>"),{paragraph:r.default.createElement("p",null),group_name:e})})(t):(function(e){return u.reactFormat(s._("<paragraph>Removing %(name)s will cause them to lose access to folders that have been shared with the group.</paragraph > <paragraph>It might take a little while to remove members from all of this group’s shared folders.</paragraph > <paragraph>Are you sure you want to do this?</paragraph >"),{paragraph:r.default.createElement("p",null),name:e})})(o);return r.default.createElement(a.ActionUtilityModal,{title:_,id:"remove-user-from-group-modal",primaryAction:g,onPrimaryAction:d,onSecondaryAction:c,onRequestClose:l},f)},t.REMOVE_FROM_GROUP_URL="/groups_ajax/remove_user_from_group",t.RemoveUserFromGroupModalActionWithoutCSS=function(e){var r=e.groupId,a=e.groupName,n=e.userId,u=e.userDisplayName,m=e.removeSelf,d=o.__rest(e,["groupId","groupName","userId","userDisplayName","removeSelf"]);return l.modalAjax({modal:t.RemoveUserFromGroupModal,ajax:{url:t.REMOVE_FROM_GROUP_URL,data:{group_id:r,user_id:n},subject_user:i.Viewer.get_viewer().work_user},notify:{successNotify:m?s._("Leaving group..."):s._("Removing member...")}})(o.__assign({groupId:r,groupName:a,userId:n,userDisplayName:u,removeSelf:m},d))},t.RemoveUserFromGroupModalAction=t.RemoveUserFromGroupModalActionWithoutCSS,t.showRemoveUserFromGroupModal=function(e){return n.showModal(r.default.createElement(t.RemoveUserFromGroupModalAction,o.__assign({},e)))}})),define("modules/clean/teams/modals/rename_group_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/teams/admin/modals/action_utility_modal","modules/clean/components/modals/show_modal","modules/clean/groups/utils","modules/clean/rondo/forms/index","modules/clean/teams/admin/modals/modal_ajax","spectrum/label","spectrum/button","modules/clean/viewer"],(function(e,t,o,r,a,n,s,i,l,u,m,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),i=o.__importDefault(i),t.RenameGroupModal=function(e){var t=e.origGroupName,s=e.groupNameField,u=e.onRequestClose,p=void 0===u?function(){}:u,c=e.onPrimaryAction,_=void 0===c?function(){}:c,g=e.onSecondaryAction,f=void 0===g?function(){}:g,h=function(){return s&&s.fieldValue.length>i.default.MAX_GROUP_NAME_LEN},b=!h()?r.default.createElement(m.Label,{className:"label-group-name",htmlFor:"group-name-input"},a._("Group name")):r.default.createElement(m.Label,{className:"label-group-name-error",htmlFor:"group-name-input"},a._("Group name")," - ",h()?a._("Must be under 140 characters"):"");return r.default.createElement(n.ActionUtilityModal,{title:a._("Edit ‘%(group_name)s’").format({group_name:t}),id:"rename-group-modal",primaryAction:function(){var e=!h();return r.default.createElement(d.Button,{onClick:_,disabled:!e},a._("Save changes"))},onPrimaryAction:_,onSecondaryAction:f,onRequestClose:p,overlayClickClose:!0},r.default.createElement("div",{className:"update-group-modal-body"},r.default.createElement("div",null,b),r.default.createElement(l.Input,o.__assign({className:"group-name-input",id:"group-name-input",onPrimaryAction:_},s))))},t.RENAME_GROUP_URL="/groups_ajax/update_group",t.RenameGroupModalApp=function(e){var r=e.groupId,a=e.origGroupName,n=o.__rest(e,["groupId","origGroupName"]);return u.modalAjax({modal:t.RenameGroupModal,ajax:{url:t.RENAME_GROUP_URL,data:function(e){var t=e.groupNameField;return{group_id:r,new_name:t}},subject_user:p.Viewer.get_viewer().work_user},autoCloseOnError:!1,fields:{groupNameField:{fieldValue:a}}})(o.__assign({origGroupName:a},n))},t.showRenameGroupModal=function(e){return s.showModal(r.default.createElement(t.RenameGroupModalApp,o.__assign({},e)))}})),define("modules/clean/teams/modals/make_company_managed_modal",["require","exports","tslib","react","modules/clean/teams/admin/modals/action_utility_modal","modules/clean/components/modals/show_modal","modules/core/i18n","modules/clean/viewer","modules/clean/teams/admin/modals/modal_ajax"],(function(e,t,o,r,a,n,s,i,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),t.MakeCompanyManagedModal=function(e){e.groupId,e.groupName;var t=e.onRequestClose,o=void 0===t?function(){}:t,n=e.onPrimaryAction,i=void 0===n?function(){}:n,l=e.onSecondaryAction,u=void 0===l?function(){}:l,m=s._("Make company-managed?"),d=s._("Make company-managed"),p=s._("This will become a company-managed group, and admins will be responsible for adding and removing members.");return r.default.createElement(a.ActionUtilityModal,{title:m,primaryAction:d,onPrimaryAction:i,onSecondaryAction:u,onRequestClose:o},p)},t.MAKE_COMPANY_MANAGED_URL="/groups_ajax/change_to_admin_managed_type",t.MakeCompanyManagedModalAction=function(e){var r=e.groupId,a=e.groupName,n=o.__rest(e,["groupId","groupName"]);return l.modalAjax({modal:t.MakeCompanyManagedModal,ajax:{url:t.MAKE_COMPANY_MANAGED_URL,data:{group_id:r},subject_user:i.Viewer.get_viewer().work_user},notify:{successNotify:s._("%(group_name)s is now company-managed").format({group_name:a})}})(o.__assign({groupId:r,groupName:a},n))},t.showMakeCompanyManagedModal=function(e){return n.showModal(r.default.createElement(t.MakeCompanyManagedModalAction,o.__assign({},e)))}})),define("modules/clean/groups/group_members_form",["require","exports","tslib","classnames","create-react-class","react","react-dom-factories","prop-types","external/lodash","modules/clean/ajax","modules/clean/analytics","modules/clean/contacts/contact","modules/clean/contacts/contact_token_state","modules/clean/contacts/tokenizer","modules/clean/contacts/types","modules/clean/react/input","modules/clean/viewer","modules/core/i18n","modules/core/notify"],(function(e,t,o,r,a,n,s,i,l,u,m,d,p,c,_,g,f,h,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),a=o.__importDefault(a),n=o.__importDefault(n),s=o.__importStar(s),i=o.__importStar(i),l=o.__importStar(l),u=o.__importStar(u),_=o.__importDefault(_),g=o.__importStar(g);var v=f.Viewer.get_viewer(),y=a.default({displayName:"GroupMembersForm",propTypes:{group:i.object,populatedContacts:i.arrayOf(i.instanceOf(d.Contact)),customClass:i.string,onChange:i.func,emailPlaceholder:i.string,messagePlaceholder:i.string,errorMessageSpaceFixed:i.bool,emailCheckerStore:i.object,includeCustomMessage:i.bool,disallowGroupMembers:i.bool,disallowCurrentUser:i.bool},getDefaultProps:function(){return{customClass:"",populatedContacts:[],emailPlaceholder:h._("Name or email"),messagePlaceholder:h._("Add a message (optional)"),includeCustomMessage:!0,disallowGroupMembers:!1,disallowCurrentUser:!1}},getInitialState:function(){return{errorMessage:null,groupUsersEmails:Array.from(this.props.group.users).map((function(e){return e.email}))}},fetchEmailsOfUsersInGroup:function(){var e=this;return u.WebRequest({url:"/groups_ajax/get_emails_of_users_in_group",data:{group_id:this.props.group.id},subject_user:v.work_user,success:function(t){if(e.isMounted()&&(t=JSON.parse(t)).data.emails.length>0)return e.setState({groupUsersEmails:t.data.emails})},error:function(){return b.Notify.error(h._("There was a problem please reopen the add-member window"))}})},componentWillMount:function(){if(this.fetchEmailsOfUsersInGroup(),this.props.populatedContacts.length>0)return this._updateErrorMessage()},getContacts:function(){return this.refs.tokenizer.getContacts()},getFinalData:function(e){var t;this.refs.tokenizer.tokenizeAll();var o=this.getContacts();this.props.includeCustomMessage&&(t=this.refs.message.getValue());var r=l.filter(o,(function(e){return e.type===_.default.EMAIL})),a=l.map(r,(function(e){return{email:e.email,is_owner:!1}}));return this._updateErrorMessage(),e({emails:a,custom_message:t})},areAllContactsValid:function(){var e=this,t=this.refs.tokenizer.serializeInputData().tokens;return 0===t.length||l.every(t,(function(t){return e._validateContact(t).state===p.ContactTokenState.ok}))},isEmpty:function(){var e=this.refs.tokenizer.serializeInputData(),t=e.tokens,o=e.value;return 0===t.length&&0===o.length},_validateContact:function(e){var t={state:p.ContactTokenState.ok};return e.invalid?t={state:p.ContactTokenState.invalid,msg:h._("One or more names or email addresses you entered are invalid.")}:this.props.disallowGroupMembers&&Array.from(this.state.groupUsersEmails).includes(e.email)?t={state:p.ContactTokenState.invalid,msg:h._("Member already exists in the group.")}:e.on_team||(t={state:p.ContactTokenState.invalid,msg:h._("This person isn’t on your team")}),t},_updateErrorMessage:function(){for(var e=0,t=Array.from(this.refs.tokenizer.serializeInputData().tokens);e<t.length;e++){var o=t[e],r=this._validateContact(o),a=r.state,n=r.msg;if(a!==p.ContactTokenState.ok)return m.TeamsWebActionsLogger.log("groups_add_members_error",{error_reason:n}),void this.setState({errorMessage:n})}return this.setState({errorMessage:null})},onContentsChange:function(){return this._updateErrorMessage(),"function"==typeof this.props.onChange?this.props.onChange():void 0},render:function(){var e=this,t={"add-group-members-form":!0,"error-message-fixed":this.props.errorMessageSpaceFixed,"has-custom-message":this.props.includeCustomMessage};this.props.customClass&&(t[this.props.customClass]=!0);return s.div({className:r.default(t)},s.div({className:"error-message"},this.state.errorMessage),n.default.createElement(c.ContactsTokenizer,{ref:"tokenizer",user:v.work_user,placeholder:this.props.emailPlaceholder,onContentsChange:this.onContentsChange,autofocus:!0,populatedInputData:{tokens:this.props.populatedContacts,value:""},customContactValidator:this._validateContact,customContactFilter:function(t){var o=t.type===_.default.EMAIL&&t.team&&(t.dbx_team_id===v.team_dbtid||t.dbx_team_id===v.work_user.team_dbtid);return e.props.disallowGroupMembers&&(o=o&&!Array.from(e.state.groupUsersEmails).includes(t.email)),e.props.disallowCurrentUser&&(o=o&&t.email!==v.work_user.email),Boolean(o)}}),this.props.includeCustomMessage?n.default.createElement(g.textarea,{ref:"message",className:"custom-message","disable-errors":!0,"aria-label":"member emails",placeholder:this.props.messagePlaceholder}):void 0)}});t.default=y})),define("modules/clean/teams/admin/widgets/remove_user_for_limited_team_modal/remove_user_for_limited_team_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/teams/admin/modals/action_utility_modal","modules/clean/teams/admin/modals/modal_ajax","modules/clean/teams/admin/modals/fetch_ui_data_and_show_modal"],(function(e,t,o,r,a,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),t.RemoveUserForLimitedTeamModal=function(e){e.userId;var t=e.displayName,o=e.fName,s=e.teamName,i=e.email,l=e.isAdmin,u=e.isActive,m=(e.joinRequestStatus,e.onRequestClose),d=void 0===m?function(){}:m,p=e.onPrimaryAction,c=void 0===p?function(){}:p,_=e.onSecondaryAction,g=void 0===_?function(){}:_,f=u?a._("Remove member?"):a._("Remove pending member?"),h=(t?a._("%(display_name)s (%(email)s)"):a._("%(email)s")).format({display_name:t,email:i}),b=a._("Remove"),v=(function(e,t){return t&&e?a._("%(id_string)s will lose access to all %(team_name)s groups. %(first_name)s’s account will be converted to a personal Dropbox."):t&&!e?a._("%(id_string)s will lose access to the %(team_name)s team folder and be removed from all %(team_name)s groups. %(first_name)s’s account will be converted to a personal Dropbox."):a._("%(id_string)s will be removed from the members list. Any invitation or activation links you’ve sent will no longer work.")})(l,u).format({id_string:h,team_name:s,first_name:o});return r.default.createElement(n.ActionUtilityModal,{title:f,primaryAction:b,onPrimaryAction:c,onSecondaryAction:g,onRequestClose:d},v)},t.REMOVE_USER_URL=function(e){return e?"/team/join_request/reject":"/team/manage/kick"},t.SUCCESS_NOTIFY=function(e){return e?a._("Member removed."):a._("Pending member removed.")},t.RemoveUserForLimitedTeamModalAction=function(e){var r=e.userId,a=e.displayName,n=e.fName,i=e.teamName,l=e.email,u=e.isAdmin,m=e.isActive,d=e.joinRequestStatus,p=o.__rest(e,["userId","displayName","fName","teamName","email","isAdmin","isActive","joinRequestStatus"]);return s.modalAjax({modal:t.RemoveUserForLimitedTeamModal,ajax:{url:t.REMOVE_USER_URL(d),data:{user_id:r}},notify:{successNotify:t.SUCCESS_NOTIFY(m)}})(o.__assign({userId:r,displayName:a,fName:n,teamName:i,email:l,isAdmin:u,isActive:m,joinRequestStatus:d},p))},t.showRemoveUserForLimitedTeamModal=function(e){i.fetchUserUiDataAndShowModal(e.userId,t.RemoveUserForLimitedTeamModalAction,e,{fname:"fName"})}})),define("modules/clean/teams/modals/team_admin_roles_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/css","modules/clean/teams/admin/modals/action_utility_modal","modules/clean/components/modals/show_modal","modules/clean/teams/admin/modals/modal_ajax","spectrum/button","modules/clean/rondo/forms/index","modules/clean/teams/constants","modules/clean/react/sprite","modules/clean/viewer"],(function(e,t,o,r,a,n,s,i,l,u,m,d,p,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=(function(e){function t(t){var n=e.call(this,t)||this;return n._getOptionForRole=function(e,t,a){var s=n._getAdminRoleName(e);return r.default.createElement("label",{htmlFor:"role_"+e},r.default.createElement("div",{className:"team-role-option"},r.default.createElement("div",{className:"team-role-input"},r.default.createElement(m.RadioButton,o.__assign({id:"role_"+e,className:"inputRadio"+e,value:e,name:"newAdminRole"},n.props.newAdminRole))),r.default.createElement("div",{className:"team-role-illustation"},r.default.createElement(p.Sprite,{group:"teams",name:t,alt:s})),r.default.createElement("div",{className:"team-role-desc"},r.default.createElement("span",{className:"team-role-title"},s),r.default.createElement("br",null),a)))},n._isSameRole=function(){return n.props.newAdminRole.fieldValue===n.origAdminRoleString},n._getRolesModalTitle=function(){return n.props.isAdmin?a._("Change admin permissions for %(name)s").format({name:n.props.displayName}):a._("Add admin permissions for %(name)s").format({name:n.props.displayName})},n._getAdminRolesModalBody=function(){return r.default.createElement("div",{className:"team-role-modal"},r.default.createElement("a",{href:"/help/9056",target:"_blank",rel:"noreferrer"},a._("Learn about the different admin roles")),r.default.createElement("br",null),r.default.createElement("br",null),r.default.createElement("div",{className:"team-role-panel"},n._getOptionForRole(d.ADMIN_ROLE.SUPER.toString(),"team_admin",a._("Manage everything for all admins and members")),r.default.createElement("div",{className:"team-role-divider"}),n._getOptionForRole(d.ADMIN_ROLE.USER_MANAGEMENT.toString(),"accounts_admin",a._("Add, remove, and manage member accounts")),r.default.createElement("div",{className:"team-role-divider"}),n._getOptionForRole(d.ADMIN_ROLE.HELPDESK.toString(),"support_admin",a._("Help members with limited tasks, including password reset"))))},n._getConfirmChangesModalTitle=function(){return n.props.isAdmin?n.props.newAdminRole.fieldValue===d.ADMIN_ROLE.NONE.toString()?a._("Remove admin permissions for %(name)s").format({name:n.props.displayName}):a._("Change admin permissions for %(name)s").format({name:n.props.displayName}):a._("Add admin permissions for %(name)s").format({name:n.props.displayName})},n._getConfirmChangesModalBodyText=function(){if(n.props.isAdmin)return n.props.newAdminRole.fieldValue===d.ADMIN_ROLE.NONE.toString()?a._("%(name)s won’t have access to the admin console and won’t be able to manage other accounts. Are you sure you want to continue?").format({name:n.props.displayName}):n._isSameRole()?a._("%(name)s is already a %(new_role)s.").format({name:n.props.displayName,new_role:n._getAdminRoleName(n.props.newAdminRole.fieldValue)}):a._("Are you sure you want to change permissions for %(name)s from %(old_role)s to %(new_role)s?").format({name:n.props.displayName,old_role:n._getAdminRoleName(n.origAdminRoleString),new_role:n._getAdminRoleName(n.props.newAdminRole.fieldValue)});switch(n.props.newAdminRole.fieldValue){case d.ADMIN_ROLE.SUPER.toString():return a._("Team Admins can manage everything for all admins and members. Are you sure you want to continue?");case d.ADMIN_ROLE.USER_MANAGEMENT.toString():return a._("User Management Admins can add, remove, and manage member accounts. Are you sure you want to continue?");case d.ADMIN_ROLE.HELPDESK.toString():return a._("Support Admins can help members with limited tasks, including password reset. Are you sure you want to continue?");default:return}},n._getConfirmChangesModalBody=function(){return r.default.createElement("div",null,r.default.createElement("p",null,n._getConfirmChangesModalBodyText()))},n._goToConfirmChanges=function(){n.setState({isRoleSelectionPage:!1})},n._onLinkClick=function(){n.props.newAdminRole.actionFieldChange(d.ADMIN_ROLE.NONE.toString()),n.setState({isRoleSelectionPage:!1})},n._roleSelectionActionButton=function(){return r.default.createElement(u.Button,{onClick:n._goToConfirmChanges},a._("Continue"))},n._roleSelectionDismissButton=function(){return a._("Cancel")},n._confirmChangesActionButton=function(){return n.props.isAdmin?n.props.newAdminRole.fieldValue===d.ADMIN_ROLE.NONE.toString()?a._("Remove admin permissions"):n._isSameRole()?function(){return r.default.createElement("div",null)}:a._("Change admin permissions"):a._("Add admin permissions")},n._confirmChangesDismissButton=function(){return n._isSameRole()&&n.props.isAdmin?a._("Got it"):a._("Cancel")},n._linkButton=function(){return n.state.isRoleSelectionPage&&n.props.isAdmin?a._("Remove admin permissions"):void 0},n.state={isRoleSelectionPage:!0},n.origAdminRoleString=n.props.origAdminRole.toString(),n}return o.__extends(t,e),t.prototype._getAdminRoleName=function(e){return d.ADMIN_ROLE_NAMES[Number(e)]},t.prototype.render=function(){var e=this,t=this.props,o=t.onPrimaryAction,a=t.onSecondaryAction,n=t.onRequestClose,i=this.state.isRoleSelectionPage,l=i?this._getRolesModalTitle():this._getConfirmChangesModalTitle(),u=i?this._getAdminRolesModalBody():this._getConfirmChangesModalBody(),m=i?function(){return e._roleSelectionActionButton()}:this._confirmChangesActionButton(),d=i?this._roleSelectionDismissButton():this._confirmChangesDismissButton(),p=this._linkButton();return r.default.createElement(s.ActionUtilityModal,{title:l,id:"team-admin-roles=modal",primaryAction:m,secondaryAction:d,onPrimaryAction:o,onSecondaryAction:a,onRequestClose:n,link:p,onLink:this._onLinkClick},u)},t})((r=o.__importDefault(r)).default.Component);t.TeamAdminRolesModal=_,t.CHANGE_ADMIN_ROLE_URL="/account/team/set_admin_status",t.TeamAdminRolesModalAppWithoutCSS=function(e){var r=e.userId,a=e.origAdminRole,n=o.__rest(e,["userId","origAdminRole"]);return l.modalAjax({modal:_,ajax:{url:t.CHANGE_ADMIN_ROLE_URL,data:function(e){var t=e.newAdminRole;return{user_id:r,on:t!==d.ADMIN_ROLE.NONE.toString()?"yes":"no",role:t}},subject_user:c.Viewer.get_viewer().work_user},fields:{newAdminRole:{fieldValue:a!==d.ADMIN_ROLE.NONE?a.toString():"0"}}})(o.__assign({userId:r,origAdminRole:a},n))},t.TeamAdminRolesModalApp=n.requireCssWithComponent(t.TeamAdminRolesModalAppWithoutCSS,["/static/css/teams/admin_team_modals-vfl1__Dze.css"]),t.showTeamAdminRolesModal=function(e){return i.showModal(r.default.createElement(t.TeamAdminRolesModalApp,o.__assign({},e)))}})),define("modules/clean/groups/single_group_page",["require","exports","tslib","create-react-class","react","react-dom-factories","prop-types","modules/clean/ajax","modules/clean/analytics","modules/clean/avatar/group_avatar","modules/clean/css","modules/clean/groups/add_group_members_modal","modules/clean/groups/group_member_list","modules/clean/teams/modals/remove_user_from_group_modal","modules/clean/teams/modals/rename_group_modal","modules/clean/groups/switch_to_member_managed_group_modal","modules/clean/groups/utils","modules/clean/react/button","modules/clean/react/image","modules/clean/react/input","modules/core/browser","modules/clean/react/modal","modules/clean/static_urls","modules/clean/viewer","modules/core/i18n"],(function(e,t,o,r,a,n,s,i,l,u,m,d,p,c,_,g,f,h,b,v,y,w,A,M,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),a=o.__importDefault(a),n=o.__importStar(n),s=o.__importStar(s),i=o.__importStar(i),u=o.__importDefault(u),m=o.__importStar(m),d=o.__importDefault(d),g=o.__importDefault(g),f=o.__importDefault(f),h=o.__importStar(h),v=o.__importStar(v),y=o.__importStar(y);var S=a.default.createElement,N=v.text,C=M.Viewer.get_viewer(),E=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showRenameGroupModal=function(){return _.showRenameGroupModal({groupId:t.props.group.id,origGroupName:t.props.group.name,success:function(){t.props.onGroupChanged(!0,null)},error:function(e,o){f.default.isGroupDeleted(e)&&(o(),f.default.redirectToGroupsPage(t.props.insideAdminConsole),t.props.onGroupChanged(!0,null))}})},t.showAddMembersModal=function(){return w.Modal.showInstance(a.default.createElement(d.default,{group:t.props.group,insideAdminConsole:t.props.insideAdminConsole,onGroupChanged:t.props.onGroupChanged}))},t.renderGroupInfo=function(){var e;if(t.props.group.is_team_group)e=R._("This group was created automatically and includes invited members. To change who’s in the group, admins can add or remove members of %(team_name)s").format({team_name:t.props.teamName});else{var o=void 0;if(t.props.group.is_admin_managed)o=t.props.teamName;else if(t.props.group.owners.length>0){for(var r=[],a=0,s=Array.from(t.props.group.owners);a<s.length;a++){var i=s[a];r.push(i.name)}o=r.join(", ")}else o="-";e=R._("Managed by ")+o}return t.props.insideAdminConsole?n.div({className:"current-location"},n.span({className:"group-info-container"},S(u.default,{group:t.props.group,dimension:48,optionalClass:"u-mar-right-s"})),n.span({className:"group-info"},n.span({className:"group-name-container"},n.span({className:"group-name"},t.props.group.name)),n.span({className:"group-managers"},e))):[n.h2({className:"group-name"},R._("Information")),n.h3({className:"group-managers u-mar-bottom-xs"},e)]},t.onAdminManaged=function(){return t.props.onGroupChanged(!0,null)},t.onMemberManaged=function(e){var o=0;t.props.group.is_admin_managed=!1,t.props.group.owners=[];for(var r=0,a=Array.from(t.props.group.users);r<a.length;r++){var n=a[r];Array.from(e).includes(n.email)&&(n.is_owner=!0,t.props.group.owners.push(n),o+=1)}var s=o<e.length;return t.props.onGroupChanged(s,t.props.group)},t.showSwitchToMemberManagedGroupModal=function(){return w.Modal.showInstance(a.default.createElement(g.default,{group:t.props.group,onMemberManaged:t.onMemberManaged,insideAdminConsole:t.props.insideAdminConsole}))},t.renderNonOwnerMemberButtons=function(){return a.default.createElement(h.button,{className:"leave-group-button",importance:"tertiary",onClick:function(){return c.showRemoveUserFromGroupModal({groupId:t.props.group.id,groupName:t.props.group.name,userId:C.work_user.id,userDisplayName:C.work_user.display_name,removeSelf:!0,onPrimaryAction:function(){y.set_hash("groups")}})}},R._("Leave group"))},t}return o.__extends(t,e),t.prototype.render=function(){return n.div({className:"single-group-header"},n.div({className:"group-header"},this.renderGroupInfo()))},t.displayName="SingleGroupHeader",t.propTypes={group:s.object,canHaveAdminUi:s.bool,teamName:s.string,onGroupChanged:s.func,groupControlledByAdmin:s.bool,isLimitedTeam:s.bool,insideAdminConsole:s.bool,isMaestroDesign:s.bool},t})(a.default.Component),D=r.default({displayName:"SingleGroupPage",propTypes:{groupId:s.string,canHaveAdminUi:s.bool,teamName:s.string,groupControlledByAdmin:s.bool,isLimitedTeam:s.bool,insideAdminConsole:s.bool,isMaestroDesign:s.bool,onNewGroupFetched:s.func},getInitialState:function(){return{group:void 0}},componentWillMount:function(){return this.fetchGroup(this.props.groupId)},componentWillReceiveProps:function(e){if(this.props.groupId!==e.groupId)return this.setState({group:void 0}),this.fetchGroup(e.groupId)},fetchGroup:function(e,t,o,r,a){var n=this;return void 0===t&&(t=0),void 0===o&&(o="display_name_lower"),void 0===r&&(r=1),void 0===a&&(a=null),this.setState({loading:!0,search_query:a}),i.WebRequest({url:"/groups_ajax/get_group_info",data:{group_id:e,offset:t,limit:f.default.MAX_ROWS_TO_FETCH_FROM_SERVER,sort_column:o,sort_direction:r,search_query:a},subject_user:C.work_user,success:function(e){if(n.isMounted()){if(e=JSON.parse(e),n.state.search_query!==a)return;return n.setState({group:e.data,loading:!1}),"function"==typeof n.props.onNewGroupFetched?n.props.onNewGroupFetched(e.data):void 0}},error:function(e){return f.default.redirectToGroupsPage(n.props.insideAdminConsole)}})},onUserTextChange:function(e){var t=this,o=e.target.value;return window.clearTimeout(this.searchTimeout),o.trim().length>0||0===o.length?this.searchTimeout=window.setTimeout((function(){return o.length>0?t.fetchGroup(t.props.groupId,0,null,null,o):t.fetchGroup(t.props.groupId)}),500):this.refs.memberSearchInput.setValue("")},renderSpinner:function(){return n.div({className:"groups-spinner"},a.default.createElement(b.Image,{src:A.static_url("/static/images/icons/ajax-loading-small-blue-vflVk_QNP.gif"),srcHiRes:A.static_url("/static/images/icons/ajax-loading-small-blue@2x-vfl14X6Ll.gif"),alt:R._("Loading")}))},onGroupChanged:function(e,t,o,r){return void 0===o&&(o=null),void 0===r&&(r=null),e?this.fetchGroup(this.props.groupId,0,o,r,this.state.search_query):(this.setState({group:t}),"function"==typeof this.props.onNewGroupFetched?this.props.onNewGroupFetched(t):void 0)},showRenameGroupModal:function(){return null!=this.refs.single_group_header?this.refs.single_group_header.showRenameGroupModal():void 0},showAddMembersModal:function(){var e={group_owner_ids:this.state.group.users.filter((function(e){return e.is_owner})).map((function(e){return e.user_id})),team_id:this.state.group.team_id,team_type:C.team_type,group_id:this.props.groupId};return l.TeamsWebActionsLogger.log("groups_add_members_clicked",e),null!=this.refs.single_group_header?this.refs.single_group_header.showAddMembersModal():void 0},showSwitchToMemberManagedGroupModal:function(){return null!=this.refs.single_group_header?this.refs.single_group_header.showSwitchToMemberManagedGroupModal():void 0},onAdminManaged:function(){return null!=this.refs.single_group_header?this.refs.single_group_header.onAdminManaged():void 0},render:function(){return this.state.loading&&!this.state.group?this.renderSpinner():(m.require_css("/static/css/react/contacts_tokenizer-vfl6f1mr3.css"),n.div({className:"single-group-view"},a.default.createElement(E,{ref:"single_group_header",group:this.state.group,canHaveAdminUi:this.props.canHaveAdminUi,teamName:this.props.teamName,onGroupChanged:this.onGroupChanged,groupControlledByAdmin:this.props.groupControlledByAdmin,isLimitedTeam:this.props.isLimitedTeam,insideAdminConsole:this.props.insideAdminConsole,isMaestroDesign:this.props.isMaestroDesign}),n.span({className:"team-admin-maestro-search"},n.div({className:"maestro-search-outer-label"},R._("Search group members")),n.span({className:"member-maestro-find-panel"},S(N,{name:"search-input",ref:"memberSearchInput",onChange:this.onUserTextChange,placeholder:R._("Name or email",{comment:"a placeholder in a search box, hints the user to search members by Name or email"}),"disable-errors":!0,compatiblePlaceholder:!0,className:"team-admin-text-input"}))),this.state.loading?this.renderSpinner():a.default.createElement(p.MemberList,{group:this.state.group,canHaveAdminUi:this.props.canHaveAdminUi,onGroupChanged:this.onGroupChanged,isMaestroDesign:!0,insideAdminConsole:this.props.insideAdminConsole,search_query:this.state.search_query})))}});t.default=D})),define("modules/clean/groups/group_member_list",["require","exports","tslib","classnames","create-react-class","react","react-dom-factories","prop-types","spectrum/overflow_button","modules/clean/ajax","modules/clean/avatar/avatar_with_default","modules/clean/avatar/initials_avatar","modules/clean/teams/modals/remove_user_from_group_modal","modules/clean/teams/modals/change_group_owner_modal","modules/clean/groups/utils","modules/clean/react/bubble_menu","modules/clean/react/button","modules/core/browser","modules/clean/react/dbox_app_promo","modules/clean/react/sprite","modules/clean/react/table","modules/clean/viewer","modules/core/i18n","modules/core/notify","modules/core/user_i18n"],(function(e,t,o,r,a,n,s,i,l,u,m,d,p,c,_,g,f,h,b,v,y,w,A,M,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),a=o.__importDefault(a),n=o.__importDefault(n),s=o.__importStar(s),i=o.__importStar(i),u=o.__importStar(u),m=o.__importDefault(m),_=o.__importDefault(_),f=o.__importStar(f),h=o.__importStar(h),y=o.__importDefault(y),R=o.__importStar(R);var S=w.Viewer.get_viewer(),N=a.default({displayName:"MemberList",propTypes:{group:i.object,canHaveAdminUi:i.bool,onGroupChanged:i.func,isMaestroDesign:i.bool,insideAdminConsole:i.bool,search_query:i.string},viewerIsOwner:function(){return this.props.group.is_owner},canManageGroup:function(){return!this.props.group.is_team_group&&(this.props.canHaveAdminUi||this.viewerIsOwner())},onRemoveUserSuccess:function(e){var t,o,r=this.props.group.user_count+this.props.group.pending_req_count-1;return 0!=(t=r,o=_.default.MAX_ROWS_PER_PAGE,((t=+t)%(o=+o)+o)%o)||this.props.isMaestroDesign?this.refs.members.forceRefresh():this.props.onGroupChanged(!0,this.props.group)},onClickRemoveUser:function(e){var t=this,o=e.user_id===S.work_user.id;return p.showRemoveUserFromGroupModal({groupId:this.props.group.id,groupName:this.props.group.name,userId:e.user_id,userDisplayName:e.name?e.name:e.email,removeSelf:o,onPrimaryAction:function(){o?h.set_hash("groups"):t.onRemoveUserSuccess(e)}})},onClickApproveJoinReq:function(e){var t=this;return u.WebRequest({url:"/groups_ajax/approve",data:{group_id:this.props.group.id,requesting_user_id:e.user_id},subject_user:S.work_user,success:function(e){return M.Notify.success(A._("Request approved.")),t.refs.members.forceRefresh()},error:function(e){if(_.default.isGroupDeleted(e))return _.default.redirectToGroupsPage(t.props.insideAdminConsole)}})},onClickRemoveJoinReq:function(e){var t=this;return u.WebRequest({url:"/groups_ajax/remove",data:{group_id:this.props.group.id,requesting_user_id:e.user_id},subject_user:S.work_user,success:function(e){return M.Notify.success(A._("Request removed.")),t.refs.members.forceRefresh()},error:function(e){if(_.default.isGroupDeleted(e))return _.default.redirectToGroupsPage(t.props.insideAdminConsole)}})},onClickMakeGroupOwner:function(e){var t=this;return c.showChangeGroupOwnerModal({userId:e.user_id,userDisplayName:e.name,groupId:this.props.group.id,enableGroupOwnerPermissions:!0,success:function(o){e.is_owner=!0;var r={name:e.name,email:e.email};return t.props.group.owners.push(r),t.props.onGroupChanged(!1,t.props.group)},error:function(e){if(_.default.isGroupDeleted(e))return _.default.redirectToGroupsPage(t.props.insideAdminConsole)}})},onClickRemoveGroupOwner:function(e){var t=this;return c.showChangeGroupOwnerModal({userId:e.user_id,userDisplayName:e.name,groupId:this.props.group.id,enableGroupOwnerPermissions:!1,success:function(o){return e.is_owner=!1,t.props.group.owners=t.props.group.owners.filter((function(t){return t.email!==e.email})),e.user_id===S.work_user.id&&(t.props.group.is_owner=!1),t.props.onGroupChanged(!1,t.props.group)},error:function(e){if(_.default.isGroupDeleted(e))return _.default.redirectToGroupsPage(t.props.insideAdminConsole)}})},renderSettingsForPendingMember:function(e){if(this.props.isMaestroDesign){var t=String.fromCharCode("176"),o=s.button({className:"settings-button"},t+t+t);return s.div({className:"approve-options-container u-mar-top-xxs"},n.default.createElement(f.button,{importance:"secondary",className:"approve-join-req-button",onClick:this.onClickApproveJoinReq.bind(this,e)},A._("Approve")),n.default.createElement(g.BubbleMenu,{targetButton:o,position:g.BubbleMenu.POSITIONS.BOTTOM_LEFT,shouldShowArrow:!1,verticalDisplacement:-3,items:[n.default.createElement(g.BubbleMenuItem,{onClick:this.onClickRemoveJoinReq.bind(this,e)},A._("Remove request"))]}))}var r=s.button({className:"remove-request-button",onClick:this.onClickRemoveJoinReq.bind(this,e)},s.img({src:"/static/images/x-vflYKfRuL.png",alt:A._("Remove join request")}));return s.span({className:"pending-request-buttons"},n.default.createElement(b.Actionable,{handler:this.onClickApproveJoinReq.bind(this,e)},s.button({className:"button-secondary button-small action-button approve-join-req-button"},A._("Approve"))),r)},renderSettingsForMember:function(e){if(this.props.group.is_admin_managed)return s.button({className:"remove-user-button",onClick:this.onClickRemoveUser.bind(this,e)},s.img({src:"/static/images/x-vflYKfRuL.png",alt:A._("Remove user")}));var t=void 0;t=this.props.isMaestroDesign?n.default.createElement(l.OverflowButton,{className:"settings-button","aria-label":"More links"}):s.button({className:"settings-button"},n.default.createElement(v.Sprite,{group:"web",name:"gear",alt:A._("Member settings")}));var o=[n.default.createElement(g.BubbleMenuItem,{onClick:this.onClickRemoveUser.bind(this,e)},A._("Remove user"))];return e.is_owner?o.push(n.default.createElement(g.BubbleMenuItem,{onClick:this.onClickRemoveGroupOwner.bind(this,e)},A._("Remove manager permissions"))):e.can_be_owner&&o.push(n.default.createElement(g.BubbleMenuItem,{onClick:this.onClickMakeGroupOwner.bind(this,e)},A._("Make manager"))),n.default.createElement(g.BubbleMenu,{targetButton:t,position:g.BubbleMenu.POSITIONS.BOTTOM_LEFT,shouldShowArrow:!1,verticalDisplacement:-5,items:o})},columnTypes:{displayName:function(e){var t=this;return{field:"display_name",header:A._("Name"),classes:{"display-name-column":!0},width:e,sortable:!this.props.search_query,render:function(e){var o=r.default({"u-mar-right-s":!0,"u-mar-left-xs":!t.props.isMaestroDesign,"u-mar-left-s":t.props.isMaestroDesign});return[n.default.createElement(m.default,{dimension:t.props.isMaestroDesign?32:24,photoUrl:e.photo_url,optionalClass:o,defaultAvatar:n.default.createElement(d.InitialsAvatarWithColorDerivedFromName,{dimension:t.props.isMaestroDesign?32:24,initials:R.getInitials(e.name||e.email),name:e.name,shape:"CIRCLE",optionalClass:o})}),s.span({className:t.props.isMaestroDesign?"user-info":"user-name"},s.span({className:r.default("user-name-part",{pending:e.is_pending,"user-info__text":t.props.isMaestroDesign})},e.name?e.name:"-"),t.props.isMaestroDesign?s.div({className:"user-info__subtext"},e.email):s.span({className:"user-status"},e.is_owner?" · "+A._("Manager"):e.is_pending?" · "+A._("Pending"):void 0))]}}},userEmail:function(e){return{field:"email",header:A._("Email"),classes:{"email-column":!0},width:e,sortable:!this.props.search_query,render:function(e){return s.span({className:"user-email"},s.span({className:r.default({pending:e.is_pending})},e.email))}}},userStatus:function(e){return{field:"member_type",header:A._("Status"),classes:{"user-status-column":!0},width:e,initialSortDir:y.default.DESC_DIR,sortable:!this.props.search_query,render:function(e){return e.is_owner?A._("Manager"):e.is_pending?A._("Pending"):A._("Member")}}},joinedDate:function(e){var t=this;return{field:"localized_joined_ts",header:A._("Joined"),width:e,sortable:!this.props.search_query,render:function(e){return t.props.isMaestroDesign&&e.is_pending?s.span({className:"pending-request-buttons"},n.default.createElement(b.Actionable,{handler:t.onClickApproveJoinReq.bind(t,e)},s.button({className:"button-secondary button-small action-button approve-join-req-button"},A._("Approve")))):e.localized_joined_ts}}},settings:function(e){var t=this;return{width:e,classes:{"settings-column":!0},sortable:!1,render:function(e){return t.canManageGroup()?e.is_pending?t.renderSettingsForPendingMember(e):t.renderSettingsForMember(e):""}}}},componentWillMount:function(){return this.columnTypes=(function(e,t){var o={};for(var r in e){var a=e[r];o[r]=a.bind(t)}return o})(this.columnTypes,this)},tableRowClasses:function(e){return this.props.isMaestroDesign&&e.is_pending?{"pending-member-row":!0}:{}},getGroupMembers:function(e,t){var o=this;return u.WebRequest({url:"/groups_ajax/get_group_info",data:{group_id:this.props.group.id,offset:e.offset,limit:e.limit,sort_column:e.sortColumn,sort_direction:e.sortDir,search_query:this.props.search_query},subject_user:S.work_user,success:function(e){var r=(e=JSON.parse(e)).data.pending_req_users.concat(e.data.users);return t(null,{rows:r,total:e.data.user_count+e.data.pending_req_count}),o.props.onGroupChanged(!1,e.data)},error:function(e){return _.default.redirectToGroupsPage(o.props.insideAdminConsole)}})},renderMemberTable:function(){var e,t=this.props.group.pending_req_users.concat(this.props.group.users);return e=this.props.isMaestroDesign?this.canManageGroup?[this.columnTypes.displayName("50%"),this.columnTypes.userStatus("25%"),this.columnTypes.settings("25%")]:[this.columnTypes.displayName("50%"),this.columnTypes.userStatus("50%")]:this.canManageGroup?[this.columnTypes.displayName(300),this.columnTypes.userEmail(250),this.columnTypes.joinedDate(147),this.columnTypes.settings(103)]:[this.columnTypes.displayName(300),this.columnTypes.userEmail(250),this.columnTypes.joinedDate(250)],n.default.createElement(y.default,{ref:"members",columns:e,initialData:{rows:t,total:this.props.group.user_count+this.props.group.pending_req_count},initialSortColumn:0,emptyMessage:this.props.search_query?A._("No members found"):A._("This group has no members."),rowsPerPage:_.default.MAX_ROWS_PER_PAGE,paginatorClasses:this.props.isMaestroDesign?"u-mar-top-xs":"",infiniteScroll:this.props.isMaestroDesign,classes:{"grey-style":!0},rowClasses:this.tableRowClasses,rowsPerRequestForInfiniteScroll:_.default.MAX_ROWS_TO_FETCH_FROM_SERVER,onRequestData:this.getGroupMembers})},render:function(){return s.div({className:"member-list-container"},s.div({className:"group-user-info"},this.props.isMaestroDesign&&!this.props.insideAdminConsole||this.props.search_query?void 0:s.div({className:"member-count"},A.ungettext("%(n)d member","%(n)d members",this.props.group.user_count).format({n:this.props.group.user_count}))),this.renderMemberTable(),this.props.search_query&&this.props.group.has_more?s.div({className:"more-search-results"},A._("We found more members than we can display. Don’t see who you’re looking for? Try narrowing your search.")):void 0)}});t.MemberList=N})),define("modules/clean/teams/limited_team_tooltip_runner",["require","exports","tslib","immutable","react","react-dom","react-dom-factories","prop-types","external/lodash","jquery","modules/clean/ajax","modules/clean/react/bubble","modules/clean/react/css","modules/clean/static_urls","modules/core/exception"],(function(e,t,o,r,a,n,s,i,l,u,m,d,p,c,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importStar(r),a=o.__importDefault(a),n=o.__importStar(n),s=o.__importStar(s),i=o.__importStar(i),l=o.__importStar(l),u=o.__importDefault(u),m=o.__importStar(m),d=o.__importDefault(d);var g=a.default.createElement,f=r.Record({heading:"",body:"",buttonText:"",arrowDirection:null,cssSelector:"",imageHref:"",imageHrefHires:"",imageHeight:"",imageWidth:null,onButtonClick:null,onButtonClickImmediate:null});t.TooltipSpec=f;var h=function(e,t,o){var r,a=Object.keys(e.tooltipSpecs);if(l.difference(e[t],a).length&&(r="Invalid prop "+t+" supplied to "+o+". All "+t+" values must exist in tooltipSpecs"),e[t]||(r="Prop "+t+" must be supplied to "+o+"."),r)return new Error(r)},b=(function(e){function t(t){var o=e.call(this,t)||this;return o.state={currentStepNumber:o.props.initialServerStep-o.props.serverStepOffset,waitingForServerResponse:!1},o.BUBBLE_WIDTH=250,o._initBubbleTracking=function(){return o._setBubbleLocation(),u.default(window).resize(o._setBubbleLocation)},o._specForStepNumber=function(e){return o.props.tooltipSpecs[o.props.tooltipSpecOrder[e]]},o._recordStepSeen=function(e){return m.WebRequest({url:"/team/onboarding_event",data:{stage:o.state.currentStepNumber+o.props.serverStepOffset},success:e})},o._recordAndAdvance=function(){if(!o.state.waitingForServerResponse){o.setState({waitingForServerResponse:!0});var e=o._specForStepNumber(o.state.currentStepNumber);return"function"==typeof e.onButtonClickImmediate&&e.onButtonClickImmediate(),o._recordStepSeen((function(t){var r=parseInt(JSON.parse(t).next_state);if(o.state.currentStepNumber===o.props.tooltipSpecOrder.length-1)return o.props.lastTooltipDismissedCb(r);var a=function(){return o.setState({currentStepNumber:r-o.props.serverStepOffset,waitingForServerResponse:!1}),"function"==typeof o.props.onStepAdvancedCb?o.props.onStepAdvancedCb(r):void 0};return e.onButtonClick?e.onButtonClick(a):a()}))}},o._setBubbleLocation=o._setBubbleLocation.bind(o),o}return o.__extends(t,e),t.prototype.componentDidMount=function(){return"complete"===document.readyState?this._initBubbleTracking():u.default(window).load(this._initBubbleTracking)},t.prototype.componentDidUpdate=function(){return this._setBubbleLocation()},t.prototype.componentWillUnmount=function(){return u.default(window).off("resize",this._setBubbleLocation)},t.prototype._setBubbleLocation=function(){var e,t,o=this._specForStepNumber(this.state.currentStepNumber);_.assert([d.default.ARROW.TOP,d.default.ARROW.LEFT,d.default.ARROW.LEFT_TOP].includes(o.arrowDirection),"trying to setBubbleLocation with unsupported arrow direction. Please add code for computing bubble location");var r=u.default(".react-bubble-box__arrow-border"),a=u.default(o.cssSelector);if(a.length){var s=u.default(n.findDOMNode(this.refs.tooltipBubble)),i=a.offset(),l=s.offsetParent().offset(),m=i.left-l.left,p=i.top-l.top,c=function(e){return Math.floor(e.outerWidth()/2)},g=function(e){return Math.floor(e.outerHeight()/2)};switch(o.arrowDirection){case d.default.ARROW.TOP:var f=r.outerHeight();f>40&&(f=18),e=m-c(s)+c(a),t=p+a.outerHeight()+f;break;case d.default.ARROW.LEFT:var h=r.outerWidth();h>40&&(h=18),e=m+a.outerWidth()+h,t=p-g(s)+g(a);break;case d.default.ARROW.LEFT_TOP:(h=r.outerWidth())>40&&(h=18),e=m+a.outerWidth()+h,t=p-g(a)}return s.css({top:t,left:e,visibility:"visible"})}},t.prototype.render=function(){var e=this._specForStepNumber(this.state.currentStepNumber);return s.div({className:"limited-team-tooltips"},g(d.default,{ref:"tooltipBubble",arrow:e.arrowDirection,className:"limited-team-tooltips__bubble",style:{position:"absolute",width:this.BUBBLE_WIDTH,visibility:"hidden"}},s.div({className:"limited-team-tooltips__bubble-contents"},s.img({src:c.static_url(e.imageHref),srcHiRes:c.static_url(e.imageHrefHires||e.imageHref),className:"limited-team-tooltips__bubble-image",width:e.imageWidth||.84*this.BUBBLE_WIDTH,height:e.imageHeight,alt:""}),s.h2({},e.heading),s.p({},e.body),s.button({className:"button-primary limited-team-tooltips__bubble-button",onClick:this._recordAndAdvance},e.buttonText))))},t.displayName="LimitedTeamTooltipRunner",t.propTypes={initialServerStep:i.number.isRequired,serverStepOffset:i.number.isRequired,tooltipSpecs:i.objectOf(i.instanceOf(f)).isRequired,tooltipSpecOrder:h,lastTooltipDismissedCb:i.func,onStepAdvancedCb:i.func},t})(a.default.Component),v=p.requireCssWithComponent(b,["/static/css/react/bubble_box-vflhusCtq.css"]);t.LimitedTeamTooltipRunner=v})),define("modules/clean/teams/limited_team_tooltips",["require","exports","tslib","create-react-class","react","prop-types","modules/clean/react/bubble","modules/clean/teams/limited_team_tooltip_runner","modules/core/browser","modules/core/i18n"],(function(e,t,o,r,a,n,s,i,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),a=o.__importDefault(a),n=o.__importStar(n),s=o.__importDefault(s),l=o.__importStar(l);var m=a.default.createElement,d=r.default({displayName:"LimitedTeamTooltips",propTypes:{onboardingState:n.number.isRequired,lastTooltipDismissedCb:n.func},_getTooltipSpecs:function(){return{TEAM_TAB:new i.TooltipSpec({heading:u._("Manage membership"),body:u._("Invite people, remove members, and customize your work Dropbox here."),arrowDirection:s.default.ARROW.LEFT,buttonText:u._("Next"),cssSelector:".team-nav-item",imageHref:"/static/images/teams/fastrak-rainbow/illo_tooltips_manage-vflXw6tGQ.png",imageHrefHires:"/static/images/teams/fastrak-rainbow/illo_tooltips_manage@2x-vflS2wbhg.png",imageHeight:130,onButtonClick:function(){return l.redirect("/team")}}),INVITE_MEMBERS:new i.TooltipSpec({heading:u._("Invite more people"),body:u._("Invite coworkers to join your work Dropbox here."),arrowDirection:s.default.ARROW.TOP,buttonText:u._("Next"),cssSelector:".invite-button",imageHref:"/static/images/teams/fastrak-rainbow/illo_tooltips_invite-vflwGI3rs.png",imageHrefHires:"/static/images/teams/fastrak-rainbow/illo_tooltips_invite@2x-vflujxc7r.png",imageHeight:130}),GROUPS:new i.TooltipSpec({heading:u._("Create and view groups"),body:u._("Keep things organized by adding people to groups."),arrowDirection:s.default.ARROW.TOP,buttonText:u._("Next"),cssSelector:"#tab_team-tab-groups",imageHref:"/static/images/teams/fastrak-rainbow/illo_tooltips_groups-vflUdtiBT.png",imageHrefHires:"/static/images/teams/fastrak-rainbow/illo_tooltips_groups@2x-vflYWShtX.png",imageHeight:130}),SETTINGS:new i.TooltipSpec({heading:u._("Customize settings"),body:u._("Update Paper sharing settings, change the name of your Dropbox, and more."),arrowDirection:s.default.ARROW.TOP,buttonText:u._("Next"),cssSelector:".settings-button",imageHref:"/static/images/teams/fastrak-rainbow/illo_tooltips_settings-vflTnLAOr.png",imageHrefHires:"/static/images/teams/fastrak-rainbow/illo_tooltips_settings@2x-vflClprJl.png",imageHeight:130}),PAPER:new i.TooltipSpec({heading:u._("Dropbox Paper"),body:u._("Check out the best way to create and build on ideas with your team."),arrowDirection:s.default.ARROW.LEFT,buttonText:u._("Next"),cssSelector:".composer-nav-item",imageHref:"/static/images/teams/fastrak-rainbow/illo_tooltips_paper-vflQyNMh5.png",imageHrefHires:"/static/images/teams/fastrak-rainbow/illo_tooltips_paper@2x-vfl7TJoJA.png",imageHeight:130,onButtonClickImmediate:function(){return l.open_tab("/paper")}})}},BUBBLE_INFO_ARRAY:["TEAM_TAB","INVITE_MEMBERS","GROUPS","SETTINGS","PAPER"],render:function(){return m(i.LimitedTeamTooltipRunner,{initialServerStep:this.props.onboardingState,lastTooltipDismissedCb:this.props.lastTooltipDismissedCb,serverStepOffset:2,tooltipSpecs:this._getTooltipSpecs(),tooltipSpecOrder:this.BUBBLE_INFO_ARRAY})}});t.default=d})),define("modules/clean/teams/modals/change_group_owner_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/teams/admin/modals/action_utility_modal","modules/clean/components/modals/show_modal","modules/clean/teams/admin/modals/modal_ajax","modules/clean/viewer","modules/clean/react_format"],(function(e,t,o,r,a,n,s,i,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=o.__importDefault(r),t.ChangeGroupOwnerModal=function(e){e.userId;var t=e.userDisplayName,o=(e.groupId,e.enableGroupOwnerPermissions),s=e.onRequestClose,i=void 0===s?function(){}:s,l=e.onPrimaryAction,m=void 0===l?function(){}:l,d=e.onSecondaryAction,p=void 0===d?function(){}:d,c=o?u.reactFormat(a._("<paragraph>%(name)s will be able to add and remove managers, and change group information.</paragraph> <paragraph>%(name)s will also be able to delete the group.</paragraph>"),{paragraph:r.default.createElement("p",null),name:t}):a._("%(name)s will no longer be able to add and remove managers, change group information, or delete the group.").format({name:t});return r.default.createElement(n.ActionUtilityModal,{title:o?a._("Make %(name)s a manager?").format({name:t}):a._("Remove manager permissions from %(name)s?").format({name:t}),primaryAction:o?a._("Make manager"):a._("Remove manager permissions"),onPrimaryAction:m,onSecondaryAction:p,onRequestClose:i},c)},t.CHANGE_GROUP_OWNER_URL="/groups_ajax/change_group_member_type",t.ChangeGroupOwnerModalAction=function(e){var r=e.userId,a=e.userDisplayName,n=e.groupId,s=e.enableGroupOwnerPermissions,u=o.__rest(e,["userId","userDisplayName","groupId","enableGroupOwnerPermissions"]);return i.modalAjax({modal:t.ChangeGroupOwnerModal,ajax:{url:t.CHANGE_GROUP_OWNER_URL,data:{group_id:n,user_id:r,is_owner:s},subject_user:l.Viewer.get_viewer().work_user}})(o.__assign({userId:r,userDisplayName:a,groupId:n,enableGroupOwnerPermissions:s},u))},t.showChangeGroupOwnerModal=function(e){return s.showModal(r.default.createElement(t.ChangeGroupOwnerModalAction,o.__assign({},e)))}}));
//# sourceMappingURL=pkg-team-deferred.min.js-vflhE96ih.map