define(["require","exports","tslib","history","rondo/v1/index","rondo/v1/selectors","modules/clean/rondo/router/types","modules/clean/rondo/router/location_utils","modules/clean/rondo/router/router_path_behavior"],(function(o,t,e,r,a,i,n,c,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterBehavior=function(o){var t=o.routerType,h=void 0===t?n.RouterType.Browser:t,u=o.basePath,l=void 0===u?"/":u,d=(function(){function o(){this.initialState=function(){var o=r.createHistory();return{history:o,location:o.getCurrentLocation(),routing:{routerType:h,basePath:l}}},this.search=i.createSelector((function(o){var t=o.location.search;return c.searchToParams(t)})),this.actionLocationChange=a.createAction().handle((function(o,t){return{location:t}})),this.actionLocationPush=a.createAction().watch((function(o,t){var r=o.history,a=o.location,i=t.url,n=void 0===i?c.locationToRelativePath(h,a):i,s=t.absolute,u=t.search,d=t.merge,v=void 0!==d&&d;if(s)return r.push(n);var f=c.locationToSearch(a.search,u,v);return r.push(c.locationToPath(h,e.__assign(e.__assign({},a),{search:f}),n,l))})),this.actionLocationReplace=a.createAction().watch((function(o,t){var r=o.history,a=o.location,i=t.url,n=t.absolute,s=t.search,u=t.merge;if(n)return r.replace(i);var d=c.locationToSearch(a.search,s,u);return r.replace(c.locationToPath(h,e.__assign(e.__assign({},a),{search:d}),i,l))})),this.actionLocationGo=a.createAction().watch((function(o,t){o.history.go(t)})),this.actionLocationGoBack=a.createAction().watch((function(o){o.history.goBack()})),this.actionLocationGoForward=a.createAction().watch((function(o){o.history.goForward()})),a.extendBehavior(this,s.RouterPathBehavior)}return o.prototype.ready=function(o){var t=this;o.history.listen((function(o){t.actionLocationChange(o)}))},o.displayName="RouterBehavior",o})();return a.behavior(d)}}));
//# sourceMappingURL=router_behavior.min.js-vflaf-1BM.map