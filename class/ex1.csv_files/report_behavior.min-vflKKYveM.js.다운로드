define(["require","exports","tslib","rondo/v1/index","rondo-modal-spectrum/v1","modules/clean/rondo/modal/modal_notifications_behavior","modules/core/html","modules/core/i18n","modules/clean/teams/admin/pages/activity/report/error_messages"],(function(e,r,t,i,a,o,n,s,c){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ReportBehavior=function(e){var r=e.createReport,l=e.paramsFromFields;return(function(){function e(){var e=this;this.initialState=function(){return{excludeFileEvents:!0}},this.actionReportGenerated=i.createAction(),this.actionCreateReport=i.createAction().watch((function(a,o){var n=o.fields,s=o.excludeFileEvents;return t.__awaiter(e,void 0,void 0,(function(){var e,a,o,d;return t.__generator(this,(function(t){switch(t.label){case 0:e=l(n),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r(e,s)];case 2:return t.sent(),this.actionReportGenerated(),[3,4];case 3:switch(a=t.sent(),o=a.error?a.error[".tag"]:null,d=null,o){case"generic_error":d=c.ErrorMessages.generic_error;break;case"rate_limit":d=c.ErrorMessages.rate_limit;break;case"bad_params":default:d=c.ErrorMessages.default}return this.actionReportGenerated(i.ensureError(d)),[3,4];case 4:return[2]}}))}))})),this.actionExcludeFileEvents=i.createAction().handle((function(e){return{excludeFileEvents:!e.excludeFileEvents}})),i.extendBehavior(this,a.UtilityModalBehavior({closeAction:this.actionReportGenerated})),i.extendBehavior(this,a.ResetStateBehavior({})),i.extendBehavior(this,o.ModalNotificationsBehavior({closeAction:this.actionReportGenerated,defaultSuccessMessage:new n.HTML(s._("<div>Creating report. We’ll email you when it’s ready.</div>")),defaultErrorMessage:s._("Error creating report.")}))}return e.displayName="Report",e})()}}));
//# sourceMappingURL=report_behavior.min.js-vflb7yY4p.map